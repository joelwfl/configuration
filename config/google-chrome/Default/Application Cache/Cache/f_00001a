APP.register("templates",{"_partial.form-fieldset-starttag":function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){if(__p+="","undefined"==typeof className)var className=[];else"string"==typeof className&&(className=[className]);className.push("row-fluid"),className.push("control-group"),className.push(name),error[name]?className.push("error"):"undefined"!=typeof posted&&posted&&className.push("success"),data[data]&&className.push("filled"),__p+='\n<fieldset class="'+(null==(__t=className.join(" "))?"":__t)+'">'}return __p},"_partial.form-fieldset-text":function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){if(__p+="","undefined"==typeof attrs)var attrs={};attrs.type||(attrs.type="text");{attrs.className||"span12"}if(delete attrs.className,"undefined"==typeof label)var label=null;if("undefined"==typeof required)var required=!1;__p+="\n"+(null==(__t=partial("form-fieldset-starttag",{className:"undefined"!=typeof className&&className||[],posted:posted,error:error,data:data,name:name}))?"":__t)+"\n"+(null==(__t=partial("form-input-text",{name:name,data:data,label:label,required:required,attrs:attrs}))?"":__t)+"\n	\n	\n</fieldset>\n"}return __p},"_partial.form-input-text":function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){if(__p+="","undefined"==typeof attrs)var attrs={};attrs.type||(attrs.type="text");var inputClassName=attrs.className||"span12";if(delete attrs.className,"undefined"==typeof label)var label=null;if("undefined"==typeof required)var required=!1;__p+="\n",label&&(__p+='\n	<label class="control-label" for="form.field.'+(null==(__t=name)?"":__t)+'">\n		'+(null==(__t=label)?"":__t)+"\n		",required&&(__p+='\n			<span class="required"><i>*</i></span>\n		'),__p+="\n		</label>\n"),__p+='\n<input\n	autocapitalize="off"\n	autocorrect="off"\n	autocomplete="off"\n	name="'+(null==(__t=name)?"":__t)+'"\n	value="'+(null==(__t=data[name]||"")?"":__t)+'"\n	class="'+(null==(__t=inputClassName)?"":__t)+'"\n',label&&(__p+='\n	id="form.field.'+(null==(__t=name)?"":__t)+'"\n'),__p+="\n",_.forEach(attrs,function(a,b){__p+="\n	"+(null==(__t=b)?"":__t)+'="'+(null==(__t=a)?"":__t)+'"\n'}),__p+="\n/>\n"}return __p},"_partial.game-list-thumbs":function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+='<ul class="game-list-thumbs">\n	',_.forEach(games||[],function(a){__p+='\n	<li>\n		<a href="#game/'+(null==(__t=a.id)?"":__t)+'"><img src="'+(null==(__t=a.images.desktop)?"":__t)+'" width="100" height="75" alt="'+(null==(__t=a.name)?"":__t)+'" /></a>\n		<p><a href="#game/'+(null==(__t=a.id)?"":__t)+'">'+(null==(__t=a.name)?"":__t)+"</a></p>\n	</li>\n	"}),__p+="\n</ul>";return __p},"_partial.game-list":function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var category=category||!1;__p+="\n";var tagCategoryNoShow={"new":"newestgames",jackpot:"jackpots"};__p+="\n<ul>\n",_.forEach(games,function(a){var b=!user&&a.attrs&&a.attrs.noFun;__p+="\n	<li"+(null==(__t=b?' class="no-fun"':"")?"":__t)+'>\n		<a href="#game/'+(null==(__t=a.id)?"":__t)+'" '+(null==(__t=1!==a.state?'class="maintenance"':"")?"":__t)+">\n			",1===a.state?(__p+="\n				",__p+=b?'\n					<span class="login">\n						<p>'+(null==(__t=i18n("INFO_GAME_PLAY_LOGIN"))?"":__t)+'</p>\n						<span class="btn btn-primary">'+(null==(__t=i18n("LABEL_LOGIN_AND_PLAY"))?"":__t)+"</span>\n					</span>\n				":'\n					<span class="play">\n						<i class="icon-play"></i>\n						'+(null==(__t=i18n(user?"LABEL_PLAY_GAME":"LABEL_TRY"))?"":__t)+"\n					</span>\n				",__p+="\n			"):__p+='\n				<span class="maintenance">\n					<i class="icon-cogs"></i>\n					<p>'+(null==(__t=i18n("LABEL_GAME_MAINTENANCE"))?"":__t)+'</p>\n				</span>\n				<i class="icon-cogs"></i>\n			',__p+="\n	",a.attrs&&a.attrs.tags&&a.attrs.tags.length&&(__p+="\n	<div>\n		",_.forEach(a.attrs.tags,function(a){__p+="\n			",tagCategoryNoShow[a]!==category&&(__p+='\n				<i class="icons tag-'+(null==(__t=a)?"":__t)+'" title="'+(null==(__t=i18n("GAME_TAG_"+a.toUpperCase()))?"":__t)+'"></i>\n				',("new"==a||"jackpot"==a)&&(__p+="\n					<span>"+(null==(__t=i18n("GAME_TAG_"+a.toUpperCase()))?"":__t)+"</span>\n				"),__p+="\n			"),__p+="\n		\n		"}),__p+="\n	</div>\n	"),__p+='\n			<img class="game-list-image" src="'+(null==(__t=cdnUrl("img/blank-pixel.png"))?"":__t)+'" data-src="'+(null==(__t=a.images.desktop)?"":__t)+'" width="213" height="162" style="background: rgb('+(null==(__t=a.tint.desktop)?"":__t)+');" />\n		</a>\n	</li>\n'}),__p+="\n</ul>"}return __p},"_partial.news-list":function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+='<ul class="news-list">\n    ',_.forEach(news,function(a){year=a.published.substr(0,4),month=parseInt(a.published.substr(5,2)),__p+="\n	<li "+(null==(__t=activeId===a.id?'class="active"':"")?"":__t)+'>\n        <a href="#news/'+(null==(__t=year+"/"+month+"/"+a.id)?"":__t)+'">\n			'+(null==(__t=a.title)?"":__t)+"<br />\n			<small>"+(null==(__t=a.datePublished)?"":__t)+"</small>\n		</a>\n    </li>\n    "}),__p+="\n</ul>";return __p},"_partial.profile-contact-form":function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<i class="icon-user hide-profile-icon"></i>\n<h2>'+(null==(__t=i18n("HEADING_PROFILE_CONTACT"))?"":__t)+"</h2>\n",showAddressRequired&&(__p+="\n<p>"+(null==(__t=i18n("INFO_ADDRESS_REQUIRED"))?"":__t)+"</p>\n"),__p+="\n<p>"+(null==(__t=user.firstName)?"":__t)+" "+(null==(__t=user.lastName)?"":__t)+" ("+(null==(__t=user.accountName)?"":__t)+")</p>\n<hr />\n<form>\n	",user.nickName&&(__p+='\n	<div class="row-fluid">\n		'+(null==(__t=partial("form-fieldset-text",{className:"span6",posted:posted,error:error,data:{nickName:user.nickName},name:"nickName",required:!0,label:i18n("LABEL_NICKNAME"),attrs:{disabled:"disabled"}}))?"":__t)+'\n		<span class="pull-right required"><i>*</i> '+(null==(__t=i18n("LABEL_REQUIRED_FIELD"))?"":__t)+"</span>\n	</div>\n	<hr />\n	"),__p+='\n\n	<div class="row-fluid">\n		'+(null==(__t=partial("form-fieldset-text",{className:"span6",posted:posted,error:error,data:data,name:"street",label:i18n("LABEL_ADDRESS_STREET"),required:!0,attrs:{placeholder:i18n("PLACEHOLDER_ADDRESS_STREET"),maxlength:30}}))?"":__t)+"\n		"+(null==(__t=partial("form-fieldset-text",{className:"span6",posted:!1,error:!1,data:{country:i18n("COUNTRY_"+user.country)},name:"country",label:i18n("LABEL_COUNTRY"),attrs:{disabled:"disabled"}}))?"":__t)+"\n	</div>\n	"+(null==(__t=partial("validation-message",{message:error.street}))?"":__t)+'\n\n	<div class="row-fluid">\n		'+(null==(__t=partial("form-fieldset-text",{className:"span6",posted:posted,error:error,data:data,name:"zip",label:i18n("LABEL_ADDRESS_ZIP"),required:!0,attrs:{placeholder:i18n("PLACEHOLDER_ADDRESS_ZIP"),maxlength:10}}))?"":__t)+"\n\n		"+(null==(__t=partial("form-fieldset-text",{className:"span6",posted:posted,error:error,data:data,name:"city",label:i18n("LABEL_ADDRESS_CITY"),required:!0,attrs:{placeholder:i18n("PLACEHOLDER_ADDRESS_CITY"),maxlength:30}}))?"":__t)+"\n	</div>\n	"+(null==(__t=partial("validation-message",{message:error.zip}))?"":__t)+"\n	"+(null==(__t=partial("validation-message",{message:error.city}))?"":__t)+'\n\n	<div class="row-fluid">\n\n		'+(null==(__t=partial("form-fieldset-starttag",{className:"span6",posted:posted,error:error,data:data,name:"mobileNumber",attrs:{maxlength:20}}))?"":__t)+"\n\n		<label>"+(null==(__t=i18n("LABEL_MOBILE"))?"":__t)+' <span class="required"><i>*</i></span></label>\n		<select class="span4" name="mobileNumberPrefix">\n			',_.forEach(mobileNumberPrefixes,function(a,b){__p+='\n			<option value="'+(null==(__t=a)?"":__t)+'" ',(a===data.mobileNumberPrefix||!data.mobileNumberPrefix&&user.country===b)&&print('selected="selected"'),__p+=">+"+(null==(__t=a)?"":__t)+"</option>\n			"}),__p+='\n		</select>\n		<input autocapitalize="off" autocorrect="off" autocomplete="off" name="mobileNumber" value="'+(null==(__t=data.mobileNumber)?"":__t)+'" placeholder="'+(null==(__t=i18n("LABEL_MOBILE_NUMBER"))?"":__t)+'" type="text" class="span8">\n		</fieldset>\n	</div>\n	'+(null==(__t=partial("validation-message",{message:error.mobileNumber}))?"":__t)+'\n	<hr />\n	<div class="bottom-center">\n		<button type="submit" class="btn btn-primary">'+(null==(__t=i18n("LABEL_UPDATE"))?"":__t)+"</button>\n	</div>\n</form>\n";return __p},"_partial.profile-menu":function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+='<div class="sidebar">\n	<ul class="profile-menu">\n		<li'+(null==(__t="contact"===page?' class="active"':"")?"":__t)+'><a href="#profile/contact"><i class="icon-user"></i>'+(null==(__t=i18n("LABEL_PERSONAL_INFO"))?"":__t)+"</a></li>\n		<li"+(null==(__t="settings"===page?' class="active"':"")?"":__t)+'><a href="#profile/settings"><i class="icon-cog"></i>'+(null==(__t=i18n("LABEL_SETTINGS"))?"":__t)+"</a>\n		<li"+(null==(__t="password"===page?' class="active"':"")?"":__t)+'><a href="#profile/password"><i class="icon-lock"></i>'+(null==(__t=i18n("LABEL_CHANGE_PASSWORD"))?"":__t)+"</a></li>\n		<li"+(null==(__t="contracts"===page?' class="active"':"")?"":__t)+'><a href="#profile/contracts"><i class="icon-credit-card"></i>'+(null==(__t=i18n("LABEL_CONTRACTS"))?"":__t)+"</a></li>\n		<li"+(null==(__t="limit"===page?' class="active"':"")?"":__t)+'><p><i class="icon-adjust"></i>'+(null==(__t=i18n("LABEL_LIMIT"))?"":__t)+'</p></li>\n		<ul class="unstyled">\n			<li'+(null==(__t="limit-session"===page?' class="active"':"")?"":__t)+'><a href="#profile/limit/session">'+(null==(__t="limit-session"===page?'<i class="icon-circle"></i>':'<i class="icon-circle-blank"></i>')?"":__t)+(null==(__t=i18n("LABEL_LIMIT_SESSION"))?"":__t)+"</a></li>\n			<li"+(null==(__t="limit-loss"===page?' class="active"':"")?"":__t)+'><a href="#profile/limit/loss">'+(null==(__t="limit-loss"===page?'<i class="icon-circle"></i>':'<i class="icon-circle-blank"></i>')?"":__t)+(null==(__t=i18n("LABEL_LIMIT_LOSS"))?"":__t)+"</a></li>\n			<li"+(null==(__t="limit-turnover"===page?' class="active"':"")?"":__t)+'><a href="#profile/limit/turnover">'+(null==(__t="limit-turnover"===page?'<i class="icon-circle"></i>':'<i class="icon-circle-blank"></i>')?"":__t)+(null==(__t=i18n("LABEL_LIMIT_TURNOVER"))?"":__t)+"</a></li>\n			<li"+(null==(__t="reality-check"===page?' class="active"':"")?"":__t)+'><a href="#profile/reality-check">'+(null==(__t="reality-check"===page?'<i class="icon-circle"></i>':'<i class="icon-circle-blank"></i>')?"":__t)+(null==(__t=i18n("LABEL_REALITY_CHECK"))?"":__t)+"</a></li>\n			<li"+(null==(__t="settings/pause-account"===page?' class="active"':"")?"":__t)+'><a href="#profile/settings/pause/account">'+(null==(__t="settings/pause-account"===page?'<i class="icon-circle"></i>':'<i class="icon-circle-blank"></i>')?"":__t)+(null==(__t=i18n("LABEL_PAUSE_ACCOUNT"))?"":__t)+"</a></li>\n		</ul>\n	</ul>	\n</div>\n\n";return __p},"_partial.sidebar-promotion-deposit":function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+="",promotions.length&&(__p+='\n	<ul class="sidebar sidebar-promotions deposit">\n		<li>\n			<img class="promo-header" src="'+(null==(__t=cdnUrl("img/layout/layout-sidebar-sign-bonus.png"))?"":__t)+'" />\n		</li>\n		',_.forEach(promotions,function(a){__p+="\n		<li>\n			",a.imageFolder&&(__p+=' <img src="'+(null==(__t=a.images.desktopSidebarDeposit)?"":__t)+'" width="306" height="90" />'),__p+="\n			",a.title&&(__p+="<h3>"+(null==(__t=a.title)?"":__t)+"</h3>"),__p+="\n			",a.text&&(__p+=""+(null==(__t=a.text)?"":__t)),__p+="\n		</li>\n		"}),__p+="\n	</ul>\n"),__p+="\n";return __p},"_partial.sidebar-promotion-signup":function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+="",promotions.length&&(__p+='\n	<ul class="sidebar sidebar-promotions signup">\n		<li>\n			<img class="promo-header" src="'+(null==(__t=cdnUrl("img/layout/layout-sidebar-sign-default.png"))?"":__t)+'" />\n		</li>\n		',_.forEach(promotions,function(a){__p+="\n		<li>\n			",a.imageFolder&&(__p+=' <img src="'+(null==(__t=a.images.desktopSidebar)?"":__t)+'" width="260" height="200" />'),__p+="\n			",a.title&&(__p+="<h3>"+(null==(__t=a.title)?"":__t)+"</h3>"),__p+="\n			",a.text&&(__p+=""+(null==(__t=a.text)?"":__t)),__p+="\n		</li>\n		"}),__p+="\n	</ul>\n"),__p+="\n";return __p},"_partial.sidebar-support":function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+='<div class="sidebar sidebar-support">\n    <h4>'+(null==(__t=i18n("HEADING_SUPPORT"))?"":__t)+"</h4>\n	<p>"+(null==(__t=i18n("INFO_SIDEBAR_SUPPORT_DESKTOP"))?"":__t)+'</p>\n    <ul>\n        <li><a href="#support/contact"><i class="icon-phone-sign"></i>'+(null==(__t=i18n("LABEL_CONTACT"))?"":__t)+'</a></li>\n        <li><a href="#support/faq"><i class=" icon-question-sign"></i>'+(null==(__t=i18n("LABEL_FAQ"))?"":__t)+"</a></li>\n    </ul>\n</div>";return __p},"_partial.signup-address":function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div class="row-fluid">\n	'+(null==(__t=partial("form-fieldset-text",{className:"span6",posted:posted,error:error,data:data,name:"addressStreet",label:i18n("LABEL_ADDRESS_STREET"),required:!0,attrs:{placeholder:i18n("PLACEHOLDER_ADDRESS_STREET"),maxlength:30}}))?"":__t)+"\n\n	"+(null==(__t=partial("form-fieldset-text",{className:"span6",posted:posted,error:error,data:data,name:"addressZip",label:i18n("LABEL_ADDRESS_ZIP"),required:!0,attrs:{placeholder:i18n("PLACEHOLDER_ADDRESS_ZIP"),maxlength:10}}))?"":__t)+'\n</div>\n<div class="row-fluid">\n	'+(null==(__t=partial("form-fieldset-text",{className:"span6",posted:posted,error:error,data:data,name:"addressCity",label:i18n("LABEL_ADDRESS_CITY"),required:!0,attrs:{placeholder:i18n("PLACEHOLDER_ADDRESS_CITY"),maxlength:20}}))?"":__t)+"\n	"+(null==(__t=partial("form-fieldset-starttag",{className:"span6",posted:posted,error:error,data:data,name:"country"}))?"":__t)+"\n	<label>"+(null==(__t=i18n("LABEL_COUNTRY"))?"":__t)+' <span class="required"><i>*</i></span></label>\n	<select name="country">\n		<option value="" ',"XX"===data.country&&print('selected="selected"'),__p+=">"+(null==(__t=i18n("PLACEHOLDER_COUNTRY"))?"":__t)+"</option>\n		",_.forEach(countries,function(a){__p+='\n			<option value="'+(null==(__t=a)?"":__t)+'" ',a===data.country&&print('selected="selected"'),__p+=">"+(null==(__t=i18n("COUNTRY_"+a))?"":__t)+"</option>\n		"}),__p+="\n	</select>\n	"+(null==(__t=partial("validation-message",{message:error.country&&error.country.message}))?"":__t)+"\n\n	</fieldset>\n</div>\n\n";return __p},"_partial.signup-birthdate":function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+=""+(null==(__t=partial("form-fieldset-starttag",{className:"span6 dateformat-"+dateFormat,posted:posted,error:error,data:data,name:"birthDate"}))?"":__t)+'\n	<label class="control-label" for="form.field.birthYear">'+(null==(__t=i18n("LABEL_BIRTHDATE"))?"":__t)+' <span class="required"><i>*</i></span></label>\n\n	<select class="span4" id="form.field.birthYear" name="birthYear" '+(null==(__t=disableBirthDate?'disabled="disabled"':"")?"":__t)+">\n		";for(var i=today.getFullYear()-100;i<today.getFullYear()-17;i++)__p+='\n			<option value="'+(null==(__t=i)?"":__t)+'" '+(null==(__t=i===data.birthYear?'selected="selected"':"")?"":__t)+">\n				"+(null==(__t=i)?"":__t)+"\n			</option>\n		 ";__p+='\n	</select>\n	<select class="span4" name="birthMonth" '+(null==(__t=disableBirthDate?'disabled="disabled"':"")?"":__t)+">\n		<option>-</option>\n		";for(var i=0;12>i;i++)__p+='\n			<option value="'+(null==(__t=str.pad(i+1,2,"0"))?"":__t)+'" '+(null==(__t=i===data.birthMonth?'selected="selected"':"")?"":__t)+">\n				"+(null==(__t=i18n("LABEL_MONTH_"+str.pad(i+1,2,"0")))?"":__t)+"\n			</option>\n		";__p+='\n	</select>\n	<select class="span4" name="birthDay" '+(null==(__t=disableBirthDate?'disabled="disabled"':"")?"":__t)+">\n		<option>-</option>\n		";for(var i=1;32>i;i++)__p+='\n			<option value="'+(null==(__t=str.pad(i,2,"0"))?"":__t)+'" '+(null==(__t=i===data.birthDay?'selected="selected"':"")?"":__t)+">\n				"+(null==(__t=str.pad(i,2,"0"))?"":__t)+"\n			</option>\n		";__p+="\n	</select>\n	"+(null==(__t=partial("validation-message",{name:"birthDate",message:error.birthDate&&error.birthDate.message}))?"":__t)+"\n</fieldset>\n"}return __p},"_partial.signup-code":function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+=""+(null==(__t=partial("form-fieldset-text",{posted:posted,error:error,data:data,name:"password",required:!0,attrs:{type:"password",placeholder:i18n("PLACEHOLDER_CHOOSE_PASSWORD"),maxlength:30}}))?"":__t)+"\n"+(null==(__t=partial("validation-message",{name:"password",message:error.password&&error.password.message}))?"":__t);return __p},"_partial.signup-email":function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+='<div class="row-fluid">\n\n	'+(null==(__t=partial("form-fieldset-text",{className:"span6",posted:posted,error:error,data:data,name:"email",label:i18n("LABEL_EMAIL_ADDRESS"),required:!0,attrs:{type:"email",placeholder:i18n("PLACEHOLDER_EMAIL_ADDRESS"),maxlength:40}}))?"":__t)+"\n\n	"+(null==(__t=partial("form-fieldset-text",{className:"span6",posted:posted,error:error,data:data,name:"confirmEmail",label:i18n("LABEL_CONFIRM_EMAIL_ADDRESS"),required:!0,attrs:{type:"email",placeholder:i18n("PLACEHOLDER_CONFIRM_EMAIL_ADDRESS"),maxlength:40}}))?"":__t)+"\n</div>\n"+(null==(__t=partial("validation-message",{message:error.email&&error.email.message}))?"":__t)+"\n"+(null==(__t=partial("validation-message",{message:error.confirmEmail&&error.confirmEmail.message}))?"":__t)+"\n";return __p},"_partial.signup-gender":function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+=""+(null==(__t=partial("form-fieldset-starttag",{className:"span6",posted:posted,error:error,data:data,name:"gender"}))?"":__t)+'\n	<label class="control-label" for="form.field.gender">'+(null==(__t=i18n("LABEL_GENDER"))?"":__t)+' <span class="required"><i>*</i></span></label>\n	<div class="btn-group btn-group-radio">\n		<button\n			type="button"\n			data-radio-value="M"\n			class="btn span6 '+(null==(__t="M"===data.gender?"active":"")?"":__t)+'"\n			>'+(null==(__t=i18n("LABEL_GENDER_MALE"))?"":__t)+'</button>\n		<input type="hidden" name="gender" value="'+(null==(__t=data.gender)?"":__t)+'" />\n		<button\n			type="button"\n			data-radio-value="F"\n			class="btn span6 '+(null==(__t="F"===data.gender?"active":"")?"":__t)+' "\n			>'+(null==(__t=i18n("LABEL_GENDER_FEMALE"))?"":__t)+"</button>\n	</div>\n\n</fieldset>\n";return __p},"_partial.signup-name":function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+='<div class="row-fluid">\n	'+(null==(__t=partial("form-fieldset-starttag",{className:"span6",posted:posted,error:error,data:data,name:"firstName",required:!0}))?"":__t)+"\n		"+(null==(__t=partial("form-input-text",{name:"firstName",data:data,label:i18n("LABEL_FIRST_NAME"),required:!0,attrs:{placeholder:i18n("PLACEHOLDER_FIRST_NAME"),maxlength:20}}))?"":__t)+"\n		"+(null==(__t=partial("validation-message",{message:error.firstName}))?"":__t)+"\n	</fieldset>\n\n	"+(null==(__t=partial("form-fieldset-starttag",{className:"span6",posted:posted,error:error,data:data,name:"lastName"}))?"":__t)+"\n		"+(null==(__t=partial("form-input-text",{name:"lastName",data:data,label:i18n("LABEL_LAST_NAME"),required:!0,attrs:{placeholder:i18n("PLACEHOLDER_LAST_NAME"),maxlength:20}}))?"":__t)+"\n		"+(null==(__t=partial("validation-message",{message:error.lastName}))?"":__t)+"\n	</fieldset>\n</div>\n";return __p},"_partial.signup-options":function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+='<div class="row-fluid">\n	<div class="span6">\n		<label>'+(null==(__t=i18n("LABEL_NEWSLETTER"))?"":__t)+'</label>\n		<div class="row-fluid radio-group">\n			'+(null==(__t=partial("form-fieldset-starttag",{posted:posted,data:data,error:error,name:"wantEmail"}))?"":__t)+'\n			<div class="span5">\n				<label>'+(null==(__t=i18n("LABEL_EMAIL"))?"":__t)+'</label>\n			</div>\n			<div class="btn-group btn-group-radio span7">\n				<button\n						type="button"\n						data-radio-value="true"\n						class="btn span6 '+(null==(__t=data.wantNewsletter?"active":"")?"":__t)+'"\n						>'+(null==(__t=i18n("LABEL_YES"))?"":__t)+'</button>\n				<input type="hidden" name="wantNewsletter" value="'+(null==(__t=data.wantNewsletter)?"":__t)+'" />\n				<button\n						type="button"\n						data-radio-value="false"\n						class="btn span6 '+(null==(__t=data.wantNewsletter?"":"active")?"":__t)+' "\n						>'+(null==(__t=i18n("LABEL_NO"))?"":__t)+'</button>\n			</div>\n			</fieldset>\n\n		</div>\n		\n		<div class="row-fluid radio-group">\n			'+(null==(__t=partial("form-fieldset-starttag",{posted:posted,data:data,error:error,name:"wantSms"}))?"":__t)+'\n			<div class="span5">\n				<label>'+(null==(__t=i18n("LABEL_SMS"))?"":__t)+'</label>\n			</div>\n			<div class="btn-group btn-group-radio span7">\n				<button\n						type="button"\n						data-radio-value="true"\n						class="btn span6 '+(null==(__t=data.wantSms?"active":"")?"":__t)+'"\n						>'+(null==(__t=i18n("LABEL_YES"))?"":__t)+'</button>\n				<input type="hidden" name="wantSms" value="'+(null==(__t=data.wantSms)?"":__t)+'" />\n				<button\n						type="button"\n						data-radio-value="false"\n						class="btn span6 '+(null==(__t=data.wantSms?"":"active")?"":__t)+' "\n						>'+(null==(__t=i18n("LABEL_NO"))?"":__t)+"</button>\n			</div>\n			</fieldset>\n		</div>\n		\n		\n	</div>\n</div>\n";return __p},"_partial.signup-password-reminder":function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+="",data.storedPassword||(__p+="\n	"+(null==(__t=partial("signup-birthdate",ctx))?"":__t)+"\n	"+(null==(__t=parital("signup-separator",ctx))?"":__t)+"\n"),__p+="\n";return __p},"_partial.signup-password":function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+='<div class="row-fluid">\n	'+(null==(__t=partial("form-fieldset-starttag",{className:"span6",posted:posted,error:error,data:data,name:"password"}))?"":__t)+"\n	"+(null==(__t=partial("form-input-text",{name:"password",data:data,label:i18n("LABEL_CHOOSE_PASSWORD"),required:!0,attrs:{type:"password",placeholder:i18n("PLACEHOLDER_PASSWORD"),maxlength:30}}))?"":__t)+"\n	"+(null==(__t=partial("validation-message",{name:"password",message:error.password&&error.password.message}))?"":__t)+"\n	</fieldset>\n	"+(null==(__t=partial("form-fieldset-starttag",{className:"span6",posted:posted,error:error,data:data,name:"confirmPassword"}))?"":__t)+"\n	"+(null==(__t=partial("form-input-text",{name:"confirmPassword",data:data,label:i18n("LABEL_CONFIRM_PASSWORD"),required:!0,attrs:{type:"password",placeholder:i18n("PLACEHOLDER_CONFIRM_PASSWORD"),maxlength:30}}))?"":__t)+"\n	"+(null==(__t=partial("validation-message",{message:error.lastName}))?"":__t)+"\n	</fieldset>\n</div>\n";return __p},"_partial.signup-personals":function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+='<div class="row-fluid">\n	'+(null==(__t=partial("signup-birthdate",ctx))?"":__t)+"\n	"+(null==(__t=partial("signup-gender",ctx))?"":__t)+"\n</div>\n";return __p},"_partial.signup-personid":function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+="",_.any(["firstName","lastName","addressStreet","addressZip","addressCity"],function(a){return!data[a]})&&(__p+="\n"+(null==(__t=partial("form-fieldset-starttag",{posted:posted,error:error,data:data,name:"personalIdNumber",className:"fetcher"}))?"":__t)+'\n	<label class="control-label">'+(null==(__t=i18n("LABEL_PERSONAL_ID_NUMBER"))?"":__t)+'</label>\n	<p class="help-inline">'+(null==(__t=i18n("INFO_SIGNUP_PERSONAL_NUMBER"))?"":__t)+'</p>\n	<div class="row-fluid">\n		<div class="span6">\n			'+(null==(__t=partial("form-input-text",{name:"personalIdNumber",data:data,attrs:{placeholder:i18n("PLACEHOLDER_PERSONAL_ID_NUMBER"),maxlength:20}}))?"":__t)+"\n			"+(null==(__t=partial("validation-message",{message:error.personalIdNumber}))?"":__t)+'\n		</div>\n		<div class="span6">\n			<button type="button" class="btn btn-block disabled">'+(null==(__t=i18n("LABEL_GET_INFO"))?"":__t)+"</button>\n		</div>\n	</div>\n</fieldset>\n"),__p+="\n";return __p},"_partial.signup-phone":function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+='<div class="row-fluid">\n	'+(null==(__t=partial("form-fieldset-starttag",{className:"span12",posted:posted,error:error,data:data,name:"mobileNumber"}))?"":__t)+"\n\n		<label>"+(null==(__t=i18n("LABEL_MOBILE"))?"":__t)+' <span class="required"><i>*</i></span></label>\n		<select class="span2" name="mobileNumberPrefix">\n			',_.forEach(mobileNumberPrefixes,function(a){__p+='\n				<option value="'+(null==(__t=a.prefix)?"":__t)+'" '+(null==(__t=data.mobileNumberPrefix===a.prefix||a.code===data.country?'selected="selected"':"")?"":__t)+">+"+(null==(__t=a.prefix)?"":__t)+"</option>\n			"}),__p+='\n		</select>\n		<input autocapitalize="off" autocorrect="off" autocomplete="off" name="mobileNumber" value="'+(null==(__t=data.mobileNumber)?"":__t)+'" placeholder="'+(null==(__t=i18n("LABEL_MOBILE_NUMBER"))?"":__t)+'" type="text" maxlength="16" class="span10 pull-right">\n	'+(null==(__t=partial("validation-message",{message:error.mobileNumber&&error.mobileNumber.message}))?"":__t)+"\n\n	</fieldset>\n</div>\n";return __p},"_partial.signup-postcode":function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+="",_.any(["addressStreet","addressZip","addressCity"],function(a){return!data[a]})&&(__p+="\n"+(null==(__t=partial("form-fieldset-starttag",{posted:posted,error:error,data:data,name:"postcode",className:"fetcher"}))?"":__t)+'\n	<label class="control-label">'+(null==(__t=i18n("LABEL_POSTCODE"))?"":__t)+'</label>\n	<p class="help-inline">'+(null==(__t=i18n("INFO_SIGNUP_POSTCODE"))?"":__t)+'</p>\n	<div class="row-fluid">\n		<div class="span6">\n			'+(null==(__t=partial("form-input-text",{name:"postcode",data:data,attrs:{placeholder:i18n("PLACEHOLDER_POSTCODE"),maxlength:9}}))?"":__t)+"\n			"+(null==(__t=partial("validation-message",{name:"postcode",message:error.postcode&&error.postcode.message}))?"":__t)+'\n		</div>\n		<div class="span6">\n			<button type="button" class="btn btn-block disabled">'+(null==(__t=i18n("LABEL_GET_INFO"))?"":__t)+"</button>\n		</div>\n	</div>\n</fieldset>\n"),__p+="\n\n";return __p},"_partial.signup-reminder":function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+="<p>"+(null==(__t=i18n("INFO_EMAIL_REMINDER",{"{{email}}":data.email}))?"":__t)+"</p>\n";return __p},"_partial.signup-separator":function(obj){{var __p="";Array.prototype.join}with(obj||{})__p+="<hr />";return __p},"_partial.signup-terms":function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+=""+(null==(__t=partial("form-fieldset-starttag",{posted:posted,data:data,error:error,name:"terms"}))?"":__t)+'\n	<label class="checkbox control-label">\n		<input name="terms" type="checkbox" class="terms" />'+(null==(__t=i18n("INFO_SIGNUP_TERMS"))?"":__t)+"\n	</label>\n	"+(null==(__t=partial("validation-message",{name:"terms",message:error.terms&&error.terms.message}))?"":__t)+"\n</fieldset>";return __p},"_partial.signup-verification":function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+=""+(null==(__t=partial("form-fieldset-starttag",{posted:posted,error:error,data:data,name:"verification"}))?"":__t)+'\n	<label class="control-label">'+(null==(__t=i18n("LABEL_VERIFICATION_CODE"))?"":__t)+' <span class="required"><i>*</i></span></label>\n	<p class="help-inline">'+(null==(__t=i18n("INFO_VERIFICATION_CODE"))?"":__t)+'</p>\n	<div class="row-fluid">\n		<div class="span4">\n			'+(null==(__t=partial("form-input-text",{name:"verification",data:data,attrs:{placeholder:i18n("LABEL_VERIFICATION_CODE"),maxlength:4}}))?"":__t)+"\n			"+(null==(__t=partial("validation-message",{name:"verification",message:error.verification&&error.verification.message}))?"":__t)+'\n		</div>\n		<div class="span8">\n			<div class="row-fluid change-channel">\n				<dl class="dl-horizontal">\n				',data.email&&(__p+="\n					<dt>"+(null==(__t=i18n("LABEL_EMAIL"))?"":__t)+":</dt><dd>"+(null==(__t=data.email)?"":__t)+"</dd>\n				"),__p+="\n				",data.mobileNumberPrefix&&data.mobileNumber&&(__p+="\n					<dt>"+(null==(__t=i18n("LABEL_MOBILE"))?"":__t)+":</dt><dd>"+(null==(__t=str.formatPhone(data.mobileNumberPrefix,data.mobileNumber))?"":__t)+"</dd>\n				"),__p+='\n				</dl>\n				<a href="#signup/'+(null==(__t=data.id)?"":__t)+'">'+(null==(__t=i18n("LABEL_CHANGE_CHANNEL"))?"":__t)+"</a>\n			</div>\n			\n		</div>\n		\n	</div>\n</fieldset>\n";return __p},"_partial.support-menu":function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+='<div class="sidebar">\n	<ul class="support-menu">\n		<li'+(null==(__t="contact"===page?' class="active"':"")?"":__t)+'><a href="#support/contact"><i class="icon-phone-sign"></i>'+(null==(__t=i18n("LABEL_CONTACT"))?"":__t)+"</a></li>\n		<li"+(null==(__t="about"===page?' class="active"':"")?"":__t)+'><a href="#support/about"><i class="icon-info-sign"></i>'+(null==(__t=i18n("LABEL_ABOUT"))?"":__t)+"</a></li>\n		<li"+(null==(__t="touch"===page?' class="active"':"")?"":__t)+'><a href="#support/touch"><i class="icon-mobile-phone"></i>'+(null==(__t=i18n("INFO_SUPPORT_MENU_TOUCH"))?"":__t)+'</a></li>\n		<ul class="unstyled">\n			<li'+(null==(__t="android"===page?' class="active"':"")?"":__t)+'><a href="#support/android">'+(null==(__t="android"===page?'<i class="icon-circle"></i>':'<i class="icon-circle-blank"></i>')?"":__t)+(null==(__t=i18n("INFO_SUPPORT_MENU_ANDROID"))?"":__t)+"</a></li>\n		</ul>\n		<li"+(null==(__t="rules"===page?' class="active"':"")?"":__t)+'><a href="#support/rules"><i class="icon-pencil"></i>'+(null==(__t=i18n("LABEL_GAME_RULES"))?"":__t)+"</a></li>\n		<li"+(null==(__t="faq"===page?' class="active"':"")?"":__t)+'><a href="#support/faq"><i class="icon-question-sign"></i>'+(null==(__t=i18n("LABEL_FAQ"))?"":__t)+"</a></li>\n		",tags&&(__p+='\n		<ul class="unstyled">\n			',_.forEach(tags,function(a){__p+="\n				<li"+(null==(__t=page===a?' class="active"':"")?"":__t)+'><a href="#support/faq/'+(null==(__t=a)?"":__t)+'">'+(null==(__t=page===a?'<i class="icon-circle"></i>':'<i class="icon-circle-blank"></i>')?"":__t)+(null==(__t=a)?"":__t)+"</a></li>\n			"}),__p+="\n		</ul>\n		"),__p+="\n		</li>\n	</ul>\n</div>\n\n"+(null==(__t=i18n("INFO_SUPPORT_DESKTOP"))?"":__t)+"\n";return __p},"_partial.text-promotions":function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+="\n",promotions&&promotions.length&&(__p+='\n	<div class="text-promotions">\n		',_.forEach(promotions,function(a){__p+="\n			"+(null==(__t=a.text)?"":__t)+"\n		"}),__p+="\n	</div>\n"),__p+="";return __p},"_partial.validation-message":function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+="",message&&(__p+='\n<div class="validation-message for-field-'+(null==(__t=name)?"":__t)+'" >'+(null==(__t=i18n.error(message))?"":__t)+"</div>\n"),__p+="";return __p},"account-balance":function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+="<h1>"+(null==(__t=i18n("HEADING_ACCOUNT_BALANCE"))?"":__t)+'</h1>\n<div class="row-fluid">\n    <div class="span8">\n	    \n	    ',result&&(__p+='\n			<div class="status">\n				<h3>'+(null==(__t=i18n("HEADING_ACCOUNT_WITHDRAWAL_"+result.toUpperCase()))?"":__t)+"</h3>	\n				<p>"+(null==(__t=i18n("INFO_ACCOUNT_WITHDRAWAL_"+result.toUpperCase()))?"":__t)+"</p>\n				\n				","failed"===result?__p+='\n					<a href="#account/withdrawal" class="btn btn-primary">'+(null==(__t=i18n("LABEL_TRY_AGAIN"))?"":__t)+"</a>\n				":"pending"===result&&(__p+='\n					<a href="#account/history" class="btn">'+(null==(__t=i18n("LABEL_GO_TO_HISTORY"))?"":__t)+"</a>\n				"),__p+="\n			</div>\n	    "),__p+="\n	    \n        <p>"+(null==(__t=i18n("INFO_ACCOUNT_BALANCE"))?"":__t)+"</p>\n        <hr />\n		\n			",data.fullPendingWithdrawalSum>0&&(__p+="\n				<p>"+(null==(__t=i18n("LABEL_PENDING_WITHDRAWALS"))?"":__t)+'</p>\n				<div class="box box-gray pending">\n					<div class="row-fluid">\n						<div class="amount span6">'+(null==(__t=str.formatMoney(data.fullPendingWithdrawalSum,data.currency,!0))?"":__t)+'</div>\n						<a class="btn btn-primary span6">'+(null==(__t=i18n("LABEL_ACCOUNT_BALANCE_CANCEL_WITHDRAWAL"))?"":__t)+"</a>\n					</div>\n				</div>\n			"),__p+="\n			\n			\n            <p>"+(null==(__t=i18n("LABEL_BALANCE"))?"":__t)+'</p>\n            <div class="box box-gray">\n                <div class="row-fluid">\n                    <p class="amount span6">'+(null==(__t=str.formatMoney(data.fullBalance,data.currency,!0))?"":__t)+'</p>\n                    <a href="#account/deposit" class="btn btn-primary span6">'+(null==(__t=i18n("LABEL_DEPOSIT"))?"":__t)+"</a>\n                </div>				\n            </div>\n\n            <p>"+(null==(__t=i18n("LABEL_FROM_BONUS"))?"":__t)+'</p>\n            <div class="box box-gray bonus">\n                <div class="row-fluid">\n                    <div class="amount span6">'+(null==(__t=str.formatMoney(data.bonus,data.currency,!0))?"":__t)+"</div>\n					",data.bonus>0&&(__p+='\n						<a class="btn span6">'+(null==(__t=i18n("LABEL_WAGERING"))?"":__t)+"</a>\n					"),__p+='\n                </div>\n\n                <div class="bonus-percentage row-fluid">\n                    <p>'+(null==(__t=i18n("INFO_ACCOUNT_BALANCE_BONUS"))?"":__t)+'</p>\n                    <div class="balance-bonus">\n                        <div class="background span10 progress-wrapper">\n                            <div class="progressBar" style="width: 0%;"></div>\n                        </div>\n                        <div class="span2 balance-procent">'+(null==(__t=data.bonusConvertedPercentage)?"":__t)+' %</div>\n                    </div>\n                </div>\n            </div>\n    </div>\n    <div class="span4">\n        '+(null==(__t=partial("sidebar-support"))?"":__t)+"\n    </div>\n</div>\n\n\n";
return __p},"account-deposit-form":function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){if(__p+="<h1>"+(null==(__t=i18n("HEADING_ACCOUNT_DEPOSIT_FORM"))?"":__t)+'</h1>\n\n<div class="row-fluid">\n	<div class="span8">\n		<div class="iframe-container"></div>\n\n		<form>\n			<h3>'+(null==(__t=i18n("LABEL_AMOUNT"))?"":__t)+": "+(null==(__t=str.formatMoney(data.amount,data.currency,!0))?"":__t)+'</h3>\n			<div class="">\n				',_.forEach(images||[],function(a){__p+='\n				<span class="icons logotype-'+(null==(__t=a)?"":__t)+'"></span>\n				'}),__p+='\n			</div>\n			\n			<input type="hidden" name="creditCardHolder" value="'+(null==(__t=data.creditCardHolder)?"":__t)+'" />\n			\n			\n			<div class="row-fluid">\n			',__p+=contract?"\n				"+(null==(__t=partial("form-fieldset-text",{posted:posted,error:error,data:data,name:"creditCardNumber",label:i18n("LABEL_CREDIT_CARD_NUMBER"),className:"span6",attrs:{disabled:"disabled"}}))?"":__t)+"\n			":"\n				"+(null==(__t=partial("form-fieldset-text",{posted:posted,error:error,data:data,name:"creditCardNumber",label:i18n("LABEL_CREDIT_CARD_NUMBER"),className:"span6",attrs:{placeholder:i18n("PLACEHOLDER_CREDIT_CARD_NUMBER"),maxlength:"19",type:"cc-number"}}))?"":__t)+"\n			",__p+='\n			</div>\n			\n			<div class="row-fluid">\n			',!contract){__p+="\n				"+(null==(__t=partial("form-fieldset-starttag",{posted:posted,error:error,data:data,name:"validThru",className:"span4"}))?"":__t)+"\n				<label>"+(null==(__t=i18n("LABEL_VALID_THRU"))?"":__t)+'</label>\n				<select name="validMonth" class="span6">\n					<option value="">-</option>\n					';for(var i=1;13>i;i++)__p+='\n					<option value="'+(null==(__t=str.pad(i.toString(),2,"0"))?"":__t)+'">'+(null==(__t=str.pad(i.toString(),2,"0"))?"":__t)+"</option>\n					";__p+='\n				</select>\n				<select name="validYear" class="span6">\n					<option value="">-</option>\n					';for(var i=today.getFullYear();i<today.getFullYear()+20;i++)__p+='\n					<option value="'+(null==(__t=i)?"":__t)+'">'+(null==(__t=i)?"":__t)+"</option>\n					";__p+="\n				</select>\n				"+(null==(__t=partial("validation-message",{name:"validThru",message:error.country&&error.country.message}))?"":__t)+"\n				</fieldset>\n			"}__p+='\n				<div class="span6 row-fluid">\n					'+(null==(__t=partial("form-fieldset-starttag",{posted:posted,error:error,data:data,name:"creditCardValidationNumber"}))?"":__t)+'\n					<label class="control-label" for="creditCardValidationNumber">'+(null==(__t=i18n("LABEL_CREDIT_CARD_VALIDATION_NUMBER"))?"":__t)+'</label>\n					<div class="row-fluid">\n						<input type="cc-csc" class="span4" maxlength="4" name="creditCardValidationNumber" placeholder="'+(null==(__t=i18n("PLACEHOLDER_CREDIT_CARD_VALIDATION_NUMBER"))?"":__t)+'" />\n						<p class="span8">\n							<a class="info">'+(null==(__t=i18n("INFO_ACCOUNT_DEPOSIT_FORM_CVC_LINK"))?"":__t)+'</a>\n						</p>\n					</div>\n					</fieldset>\n				</div>\n\n			</div>\n\n			<hr />\n\n			<div class="pull-left">\n				<a href="#account/deposit" class="btn">'+(null==(__t=i18n("LABEL_BACK"))?"":__t)+'</a>\n			</div>\n			<div class="pull-right">\n				<button type="submit" class="btn btn-primary">'+(null==(__t=i18n("LABEL_MAKE_DEPOSIT"))?"":__t)+'</button>\n			</div>\n		</form>\n\n\n\n	</div>\n	<div class="span4">\n        '+(null==(__t=partial("sidebar-promotion-deposit",{promotions:promotions}))?"":__t)+"\n        "+(null==(__t=partial("sidebar-support"))?"":__t)+"\n	</div>\n</div>\n\n\n\n"}return __p},"account-deposit-iframe":function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+="<h1>"+(null==(__t=i18n("HEADING_ACCOUNT_DEPOSIT"))?"":__t)+'</h1>\n<div class="row-fluid">\n    <div class="span9">\n		<div class="iframe-load-cover"></div>\n        <iframe width="100%" height="800px" frameborder="0" src="'+(null==(__t=redirectUrl)?"":__t)+'" name="deposit" id="iframeDeposit"></iframe>\n    </div>\n    <div class="span3">\n        '+(null==(__t=partial("sidebar-promotion-deposit",{promotions:promotions}))?"":__t)+"\n        "+(null==(__t=partial("sidebar-support"))?"":__t)+"\n    </div>\n</div>\n";return __p},"account-deposit":function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+="",__p+=newlyRegistered?"\n	<h1>"+(null==(__t=i18n("HEADING_WELCOME_DEPOSIT",{"{{firstName}}":user.firstName}))?"":__t)+"</h1>\n":"\n	<h1>"+(null==(__t=i18n("HEADING_ACCOUNT_DEPOSIT"))?"":__t)+"</h1>\n",__p+='\n		\n<div class="row-fluid">\n    <div class="span8">\n		',!methods||methods.length<=0?__p+='\n			<p class="info">'+(null==(__t=i18n("INFO_ACCOUNT_DEPOSIT_MISSING_METHODS_DESKTOP"))?"":__t)+'</p>\n			<div class="bottom-center">\n				<a href="#support/contact" class="btn">'+(null==(__t=i18n("LABEL_CONTACT_CUSTOMER_SUPPORT"))?"":__t)+"</a>\n			</div>\n		":(__p+='\n			<ul class="method-list">\n				',_.forEach(methods,function(a){__p+='\n				<li class="grouping row-fluid method-'+(null==(__t=a.name)?"":__t)+'">\n					\n					<div class="span3">\n						',_.forEach(a.images||[],function(a){__p+='\n						<span class="icons logotype-'+(null==(__t=a)?"":__t)+" "+(null==(__t=user.country)?"":__t)+'"></span>\n						'}),__p+='\n					</div>\n					<div class="span9">\n                        ',a.contracts&&a.contracts.length&&(__p+='\n							<select class="row-fluid">\n								',_.forEach(a.contracts,function(a){__p+='\n									<option value="'+(null==(__t=a.id)?"":__t)+'">'+(null==(__t=a.combinedName)?"":__t)+"</option>\n								"}),__p+="\n								","neteller"!==a.name&&"moneybookers"!==a.name&&(__p+='\n									<option class="__NEW__">'+(null==(__t=i18n("OPTION_NEW_CARD"))?"":__t)+"</option>\n								"),__p+="\n							</select>\n                        "),__p+="\n                        \n                        ",a.quickAmounts&&a.quickAmounts.length&&(__p+='\n                            <div class="quick-amounts btn-group row-fluid">\n                                ',_.forEach(a.quickAmounts,function(a){__p+='\n                                    <button class="btn btn-secondary span4" value="'+(null==(__t=a)?"":__t)+'">'+(null==(__t=str.formatMoney(a,user.currency,!0))?"":__t)+"</button>\n                                "}),__p+="\n                            </div>\n                        "),__p+="\n                    \n                        ",__p+=a.supportsAmount?'\n                            <fieldset class="'+(null==(__t=a.id)?"":__t)+' amount row-fluid control-group">\n                                <div class="input-append">\n                                    <label class="span4">'+(null==(__t=i18n("LABEL_AMOUNT"))?"":__t)+'</label>\n                                    <input class="span4" type="tel" id="form.field.'+(null==(__t=a.id)?"":__t)+'.amount" maxlength="6" name="amount-'+(null==(__t=a.id)?"":__t)+'"  autocomplete="off" placeholder="'+(null==(__t=user.currency.toUpperCase())?"":__t)+'" />\n                                    <button class="btn btn-primary">'+(null==(__t=i18n("INFO_ACCOUNT_DEPOSIT_BTN"))?"":__t)+"</button>\n                                </div>\n                            </fieldset>\n                            <p>"+(null==(__t=i18n("INFO_ACCOUNT_DEPOSIT_METHOD_"+a.name.toUpperCase(),{"{{minAmount}}":str.formatMoney(a.minAmount,user.currency,!0),"{{maxAmount}}":str.formatMoney(a.maxAmount,user.currency,!0)}))?"":__t)+"</p>\n                        ":'\n                            <div class="span7">\n                                <p>'+(null==(__t=i18n("INFO_ACCOUNT_DEPOSIT_METHOD_"+a.name.toUpperCase(),{"{{minAmount}}":str.formatMoney(a.minAmount,user.currency,!0),"{{maxAmount}}":str.formatMoney(a.maxAmount,user.currency,!0)}))?"":__t)+'</p>\n                            </div>\n                            <div class="span4 pull-right">\n                                <button class="btn btn-primary btn-next">'+(null==(__t=i18n("LABEL_NEXT"))?"":__t)+"</button>\n                            </div>\n                        ",__p+="\n					</div>\n				</li>\n				"}),__p+="\n			</ul>\n		"),__p+='\n		\n	</div>\n	<div class="span4">\n        '+(null==(__t=partial("sidebar-promotion-deposit",{promotions:promotions}))?"":__t)+"\n		"+(null==(__t=partial("sidebar-support"))?"":__t)+"\n    </div>\n</div>\n";return __p},"account-history-account":function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+="<h1>"+(null==(__t=i18n("HEADING_ACCOUNT_HISTORY_PAYMENT"))?"":__t)+'</h1>\n\n<div class="change btn-group btn-group-radio">\n	<a class="btn btn-medium disabled change-type">'+(null==(__t=i18n("LABEL_ACCOUNT"))?"":__t)+'</a>\n	<a class="btn btn-medium change-type" href="#account/history/game">'+(null==(__t=i18n("LABEL_GAME"))?"":__t)+"</a>\n</div>\n\n",transactions.length?(__p+='\n<table>\n    <thead>\n    <tr>\n        <th class="first">'+(null==(__t=i18n("LABEL_DATE"))?"":__t)+'</th>\n        <th colspan="2">'+(null==(__t=i18n("LABEL_TYPE"))?"":__t)+'</th>\n        <th colspan="2">'+(null==(__t=i18n("LABEL_STATUS"))?"":__t)+"</th>\n		<th>"+(null==(__t=i18n("LABEL_DESCRIPTION"))?"":__t)+'</th>\n        <th class="amount last">'+(null==(__t=i18n("LABEL_AMOUNT"))?"":__t)+'</th>\n    </tr>\n    </thead>\n\n    <tfoot>\n    <tr>\n        <td colspan="7">\n            <a class="show-more btn-secondary btn"><span>'+(null==(__t=i18n("LABEL_SHOW_MORE"))?"":__t)+"</span></a>\n        </td>\n    </tr>\n    </tfoot>\n\n    <tbody>\n    ",_.forEach(transactions,function(a){__p+="\n        <tr>\n			<td>"+(null==(__t=a.formattedDate)?"":__t)+'</td>\n			<td class="transaction-icon"><i class="'+(null==(__t=a.refTypeIcon)?"":__t)+'"></i></td>\n			<td>'+(null==(__t=i18n("HISTORY_PAYMENT_TYPE_"+(a.refName||"UNKNOWN").toUpperCase()))?"":__t)+"\n                ",a.refDetails&&(__p+='\n                    <span class="ref-details">('+(null==(__t=a.refDetails)?"":__t)+")</span>\n                "),__p+='\n            </td>\n			<td class="transaction-icon"><i class="'+(null==(__t=a.stateIcon)?"":__t)+'"></i></td>\n			<td>'+(null==(__t=i18n("LABEL_"+(a.state||"UNKNOWN").toUpperCase()))?"":__t)+"</td>\n			<td>"+(null==(__t=i18n("HISTORY_PAYMENT_"+(a.refType||"UNKNOWN").toUpperCase()+"_"+(a.state||"UNKNOWN").toUpperCase()))?"":__t)+'</td>\n			<td class="amount">\n				'+(null==(__t=0===a["in"]&&0===a.out?"-":str.formatMoney(a["in"]||a.out,a.currency,!0))?"":__t)+"\n			</td>\n        </tr>\n    "}),__p+="\n    </tbody>\n</table>\n"):__p+="\n	<p>"+(null==(__t=i18n("INFO_ACCOUNT_HISTORY_NO_TRANSACTIONS"))?"":__t)+"</p>\n",__p+="\n";return __p},"account-history-game":function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+="<h1>"+(null==(__t=i18n("HEADING_ACCOUNT_HISTORY_GAME"))?"":__t)+'</h1>\n\n<div class="change btn-group btn-group-radio">\n	<a class="btn btn-medium change-type" href="#account/history/account">'+(null==(__t=i18n("LABEL_ACCOUNT"))?"":__t)+'</a>\n	<a class="btn btn-medium disabled change-type">'+(null==(__t=i18n("LABEL_GAME"))?"":__t)+"</a>\n</div>\n	\n",transactions.length?(__p+='\n	<table>\n		<thead>\n		<tr>\n			<th class="first">'+(null==(__t=i18n("LABEL_GAME"))?"":__t)+"</th>\n			<th>"+(null==(__t=i18n("LABEL_STATUS"))?"":__t)+'</th>\n			<th class="amount">'+(null==(__t=i18n("LABEL_BET"))?"":__t)+'</th>\n			<th class="amount">'+(null==(__t=i18n("LABEL_WIN"))?"":__t)+'</th>\n			<th class="date last">'+(null==(__t=i18n("LABEL_DATE"))?"":__t)+'</th>\n		</tr>\n		</thead>\n	\n		<tfoot>\n		<tr>\n			<td colspan="6">\n				<a class="show-more btn-secondary btn"><span>'+(null==(__t=i18n("LABEL_SHOW_MORE"))?"":__t)+"</span></a>\n			</td>\n		</tr>\n		</tfoot>\n	\n		<tbody>\n		",_.forEach(transactions,function(a){__p+="\n		<tr>\n			<td>"+(null==(__t=a.refName)?"":__t)+'</td>\n			<td class="transaction-icon"><i class="'+(null==(__t=a.stateIcon)?"":__t)+'"></i></td>\n			<td class="amount">'+(null==(__t=str.formatMoney(a.out,a.currency,!0))?"":__t)+'</td>\n			<td class="amount">'+(null==(__t=str.formatMoney(a["in"],a.currency,!0))?"":__t)+'</td>\n			<td class="date">'+(null==(__t=a.formattedDate)?"":__t)+" "+(null==(__t=a.formattedTime)?"":__t)+"</td>\n		</tr>\n		"}),__p+="\n		</tbody>\n	</table>\n"):__p+="\n	<p>"+(null==(__t=i18n("INFO_ACCOUNT_HISTORY_NO_TRANSACTIONS"))?"":__t)+"</p>\n",__p+="\n";return __p},"account-withdrawal-iframe":function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+="<h1>"+(null==(__t=i18n("HEADING_ACCOUNT_WITHDRAWAL"))?"":__t)+'</h1>\n<div class="row-fluid">\n	<div class="span8">\n		<iframe width="100%" height="800px" frameborder="0" src="'+(null==(__t=redirectUrl)?"":__t)+'" name="deposit" id="iframeWithdrawal"></iframe>\n	</div>\n	<div class="span4">\n		'+(null==(__t=partial("sidebar-support"))?"":__t)+"\n	</div>\n</div>";return __p},"account-withdrawal":function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+="<h1>"+(null==(__t=i18n("HEADING_ACCOUNT_WITHDRAWAL"))?"":__t)+'</h1>\n<div class="row-fluid">\n	<div class="span8">\n		',missingAddress?__p+="\n			<p>"+(null==(__t=i18n("INFO_ACCOUNT_WITHDRAWAL_ERROR_ADDRESS"))?"":__t)+'</p>\n			<div class="bottom-center">\n				<a href="#profile/contact" class="btn">'+(null==(__t=i18n("LABEL_UPDATE_ADDRESS"))?"":__t)+"</a>\n			</div>\n		":!methods||methods.length<=0?__p+='\n			<p class="info">'+(null==(__t=i18n("INFO_ACCOUNT_WITHDRAWAL_MISSING_METHODS_DESKTOP"))?"":__t)+'</p>\n			<div class="bottom-center">	\n				<a href="#support/contact" class="btn">'+(null==(__t=i18n("LABEL_CONTACT_CUSTOMER_SUPPORT"))?"":__t)+"</a>\n			</div>\n		":user.pendingWithdrawalSum?__p+='\n			<p class="info">'+(null==(__t=i18n("INFO_ACCOUNT_WITHDRAWAL_ERROR_PENDING"))?"":__t)+'</p>\n			<div class="bottom-center">\n				<a href="#account/balance" class="btn">'+(null==(__t=i18n("LABEL_CANCEL_YOUR_WITHDRAWAL"))?"":__t)+"</a>\n			</div>\n		":(__p+="\n			",lowBalance?__p+="\n				<p>"+(null==(__t=i18n("INFO_ACCOUNT_WITHDRAWAL_LOW_BALANCE"))?"":__t)+"</p>\n			":(__p+="\n				<p>"+(null==(__t=i18n("LABEL_MAX_WITHDRAWAL_AMOUNT"))?"":__t)+'</p>\n				<div class="box box-gray">\n					<p class="amount">'+(null==(__t=str.formatMoney(user.balance,user.currency,!0))?"":__t)+"</p>\n				</div>\n				",fee&&(__p+='\n					<p class="fee">'+(null==(__t=i18n("INFO_ACCOUNT_WITHDRAWAL_FEE",{"{{fee}}":str.formatMoney(fee,user.currency,!0)}))?"":__t)+"</p>\n				"),__p+="\n			"),__p+='\n		<div style="clear:both"></div>\n		<hr />\n		<ul class="method-list">\n			',methods&&(__p+="\n				",_.forEach(methods,function(a){__p+='\n				<li class="grouping row-fluid '+(null==(__t=user.balance<a.minAmount?"disabled":"")?"":__t)+'">\n					<div class="span3">\n						',_.forEach(a.images||[],function(a){__p+='\n						<span class="icons logotype-'+(null==(__t=a)?"":__t)+" "+(null==(__t=user.country)?"":__t)+'"></span>\n						'}),__p+='\n					</div>\n					<div class="span9">\n						<form>\n\n							',a.supportsWithdrawalByReference&&a.contracts&&a.contracts.length&&(__p+='\n		\n									<select class="row-fluid" '+(null==(__t=user.balance<a.minAmount?'disabled="disabled"':"")?"":__t)+">\n										",_.forEach(a.contracts,function(a){__p+='\n										<option value="'+(null==(__t=a.id)?"":__t)+'">'+(null==(__t=a.displayName)?"":__t)+"</option>\n										"}),__p+="\n									</select>\n							"),__p+="\n							\n							",__p+=a.supportsAmount?'\n								<fieldset class="'+(null==(__t=a.id)?"":__t)+' amount row-fluid control-group">\n									<div class="input-append">\n										<label class="span4">'+(null==(__t=i18n("LABEL_AMOUNT"))?"":__t)+"</label>\n										<input "+(null==(__t=user.balance<a.minAmount?'disabled="disabled"':"")?"":__t)+' class="span4" type="tel" id="form.field.'+(null==(__t=a.id)?"":__t)+'.amount" maxlength="6" name="amount-'+(null==(__t=a.id)?"":__t)+'"  autocomplete="off" placeholder="'+(null==(__t=user.currency.toUpperCase())?"":__t)+'" />\n										<button '+(null==(__t=user.balance<a.minAmount?'disabled="disabled"':"")?"":__t)+' class="btn btn-primary">'+(null==(__t=i18n("LABEL_WITHDRAWAL"))?"":__t)+"</button>\n									</div>\n								</fieldset>\n									\n								<p>"+(null==(__t=i18n("INFO_ACCOUNT_WITHDRAWAL_METHOD_"+a.name.toUpperCase(),{"{{minAmount}}":str.formatMoney(a.minAmount,user.currency,!0),"{{maxAmount}}":str.formatMoney(a.maxAmount,user.currency,!0)}))?"":__t)+"</p>\n							\n							":'\n								\n									<div class="span8">\n										<p>'+(null==(__t=i18n("INFO_ACCOUNT_WITHDRAWAL_METHOD_"+a.name.toUpperCase(),{"{{minAmount}}":str.formatMoney(a.minAmount,user.currency,!0),"{{maxAmount}}":str.formatMoney(a.maxAmount,user.currency,!0)}))?"":__t)+'</p>\n									</div>\n									<div class="span4">\n										<button '+(null==(__t=user.balance<a.minAmount?'disabled="disabled"':"")?"":__t)+' class="btn btn-primary btn-next">'+(null==(__t=i18n("LABEL_NEXT"))?"":__t)+"</button>\n									</div>\n							",__p+="\n						</form>\n					</div>\n					</li>\n				"}),__p+="\n			"),__p+="\n\n		</ul>\n\n		"),__p+='\n	</div>\n	<div class="span4">\n		'+(null==(__t=partial("sidebar-support"))?"":__t)+"\n	</div>\n</div>\n\n";return __p},"ad-for-free-play":function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+='<div class="row-fluid">\n    <div class="span6">\n        <h2>'+(null==(__t=i18n("HEADING_AD_FOR_FREE_PLAY"))?"":__t)+"</h2>\n        <p>"+(null==(__t=i18n("INFO_AD_FOR_FREE_PLAY"))?"":__t)+'</p>\n    </div>\n    <div class="span6">\n\n        ',promotions&&promotions.length&&(__p+='\n        <ul class="promotions">\n            ',_.forEach(promotions,function(a){__p+="\n            <li>\n                ",a.title&&(__p+="<h2>"+(null==(__t=a.title)?"":__t)+"</h2>"),__p+="\n                ",a.text&&(__p+=""+(null==(__t=a.text)?"":__t)),__p+="\n                ",a.button&&(__p+='<a href="'+(null==(__t=a.action)?"":__t)+'" class="btn btn-secondary">'+(null==(__t=a.button)?"":__t)+"</a>"),__p+="\n            </li>\n            "}),__p+="\n        </ul>\n        "),__p+='\n\n    </div>\n</div>\n<div class="row-fluid">\n    <a href="#signup" class="btn btn-primary span6 offset3">'+(null==(__t=i18n("LABEL_AD_FOR_FREE_PLAY_SIGNUP"))?"":__t)+"</a>\n</div>\n";return __p},"address-results":function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+="",_.isArray(addresses)&&addresses.length&&(__p+="\n<h4>"+(null==(__t=i18n("INFO_SIGNUP_SELECT_ADDRESS"))?"":__t)+'</h4>\n<select>\n	<option value="">'+(null==(__t=i18n("INFO_SIGNUP_SELECT_ADDRESS"))?"":__t)+"</option>\n	",_.forEach(addresses,function(a){__p+='\n	<option value="'+(null==(__t=a.id)?"":__t)+'">'+(null==(__t=a.label)?"":__t)+"</option>\n	"}),__p+='\n</select>\n<button type="button" class="btn btn-block btn-primary confirm disabled">'+(null==(__t=i18n("LABEL_OK"))?"":__t)+'</button>\n<button type="button" class="btn btn-block dismiss">'+(null==(__t=i18n("LABEL_CLOSE"))?"":__t)+"</button>\n"),__p+="";return __p},application:function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+='<div class="main-container container">\n    <div class="main-container-topbar"></div>\n    <div class="curtain-container">\n        <div class="curtain-container-wrapper">\n            <div class="curtain-container-body"></div>\n        </div>\n        <div class="curtain-container-footer">\n			<button class="btn btn-secondary">'+(null==(__t=i18n("LABEL_CLOSE_CURTAIN"))?"":__t)+'</button>\n        </div>\n    </div>\n	<div class="main-container-wrapper">\n		<div class="main-container-body"></div>\n	</div>\n	<div class="main-container-footer">\n		<div class="footer-logotype"></div>\n		<div class="row top-bar">\n			<div class="span3">\n				<img class="sign" src="'+(null==(__t=cdnUrl("img/layout/layout-footer-sign.png"))?"":__t)+'" width="181" height="190" />\n			</div>\n			<div class="span6 pad">\n				<div class="language">\n					<a href="#change-language"><i class="icons flag-'+(null==(__t=language)?"":__t)+'"></i><span>'+(null==(__t=i18n("LANGUAGE_"+language.toUpperCase()))?"":__t)+'</span></a>\n				</div>\n			</div>\n			<div class="span3">\n				<img id="award" src="'+(null==(__t=cdnUrl("img/EGR-award-winner.png"))?"":__t)+'" width="66" height="81" />\n			</div>\n		</div>\n		<ul class="link-list">\n			<li><a href="http://affiliates.leovegas.com/" rel="external" target="_blank"><i class="icons footer-icon-paw-small"></i>'+(null==(__t=i18n("LABEL_AFFILIATES"))?"":__t)+'</a></li>\n			<li><a href="#support/about"><i class="icons footer-icon-paw-small"></i>'+(null==(__t=i18n("LABEL_ABOUT"))?"":__t)+'</a></li>\n			<li class="terms"><a href="#terms"><i class="icons footer-icon-paw-small"></i>'+(null==(__t=i18n("LABEL_TERMS"))?"":__t)+'</a></li>\n			<li><a href="#support/responsible-gaming"><i class="icons footer-icon-paw-small"></i>'+(null==(__t=i18n("LABEL_RESPONSIBLE_GAMING"))?"":__t)+'</a></li>\n			<li><a href="#support/rules"><i class="icons footer-icon-paw-small"></i>'+(null==(__t=i18n("LABEL_GAME_RULES"))?"":__t)+'</a></li>\n		</ul>\n		<div class="bottom-bar">\n			<ul class="trust">\n			',_.forEach(["age","eu","payment-visa-mc","payment-trustly","payment-neteller","payment-paysafecard","payment-skrill"],function(a){__p+='\n				<li><i class="icons icon-'+(null==(__t=a)?"":__t)+'"></i></li>\n			'}),__p+='\n			</ul>\n			<div class="row-fluid">\n				<div class="span2">\n					<a rel="external" target="_blank" href="https://www.authorisation.lga.org.mt/verification.aspx?lang=en&company=85313823-5cd8-4c46-bd2d-08355b376e33"><i class="icons icon-lga-seal"></i></a>\n				</div>\n				<div class="span8 lga">\n					<p>'+(null==(__t=i18n("FOOTER_LGA_TEXT"))?"":__t)+'</p>\n				</div>\n				<div class="span2 fair-play">\n					<a rel="external" target="_blank" href="http://www.gamcare.org.uk/"><i class="icons icon-fairplay-gamcare"></i></a>\n					<a rel="external" target="_blank" href="http://www.gamblersanonymous.org.uk/"><i class="icons icon-fairplay-ga"></i></a>\n				</div>\n			</div>\n		</div>\n	</div>\n</div>\n\n<div class="bottom-container">\n	<span class="clock"></span>\n	<div class="chat-container"></div>	\n</div>\n		\n<div class="prompt-container">\n    <div class="prompt-container-inner">\n        <div class="prompt-container-body"></div>\n		<hr />\n        <fieldset class="prompt-container-footer">\n            <button class="prompt-dismiss btn btn-block">'+(null==(__t=i18n("LABEL_CANCEL"))?"":__t)+'</button>\n        </fieldset>\n    </div>\n</div>\n<div class="modal-container">\n    <div class="modal-container-inner">\n        <a class="icons close-modal">'+(null==(__t=i18n("LABEL_CLOSE"))?"":__t)+'</a>\n        <div class="modal-container-body"></div>\n    </div>\n</div>\n\n',-1!==VERSION.indexOf("~")&&(__p+='\n<div class="app-version">'+(null==(__t=VERSION)?"":__t)+"</div>\n"),__p+="";return __p},"change-language":function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+="<h4>"+(null==(__t=i18n("HEADING_CHANGE_LANGUAGE"))?"":__t)+"</h4>\n<ul>\n	",_.forEach(languages,function(a){__p+='\n	<li data-value="'+(null==(__t=a)?"":__t)+'"><a href="#"><i class="icons flag-'+(null==(__t=a)?"":__t)+'"></i>'+(null==(__t=i18n("LANGUAGE_"+a.toUpperCase()))?"":__t)+"</a></li>\n	"}),__p+="\n</ul>\n";return __p},chat:function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+='<div class="chat-wrapper '+(null==(__t=data.chat?"engaged expanded":"")?"":__t)+'">\n	<a class="title-bar"><i class="icon-question-sign"></i>'+(null==(__t=i18n("HEADER_CHAT_WINDOW"))?"":__t)+'<i class="icon-remove"></i></a>\n		<div class="chat-body">\n			<div class="chat-body-container">\n			',data.chat||data.alreadyEngaged?__p+='\n				<iframe src="'+(null==(__t=data.chat.url)?"":__t)+'"\n					scrolling="no"\n					frameborder="0"\n					allowtransparency="true"\n					height="'+(null==(__t=data.chat.height)?"":__t)+'px"\n					width="'+(null==(__t=data.chat.width)?"":__t)+'px">\n				</iframe>\n			':(__p+='\n				<a href="#support/faq" class="btn-medium btn btn-primary">'+(null==(__t=i18n("LABEL_FAQ"))?"":__t)+"</a>\n				<hr>\n				\n				",isLoggedIn()&&(__p+="\n					<p>"+(null==(__t=i18n("INFO_CHAT_LOGGEDIN"))?"":__t)+"</p>\n				"),__p+="\n				\n				<form>\n		\n					"+(null==(__t=partial("form-fieldset-text",{className:isLoggedIn()?"hide":"",posted:posted,error:error,data:data,name:"name",required:!0,label:i18n("LABEL_NAME"),attrs:{placeholder:i18n("PLACEHOLDER_NAME"),maxlength:20}}))?"":__t)+"\n		\n					"+(null==(__t=partial("form-fieldset-text",{className:isLoggedIn()?"hide":"",posted:posted,error:error,data:data,name:"email",label:i18n("LABEL_EMAIL_ADDRESS"),required:!0,attrs:{placeholder:i18n("PLACEHOLDER_EMAIL_ADDRESS"),maxlength:30}}))?"":__t)+'\n					\n					<button type="submit" class="btn-medium btn btn-primary">'+(null==(__t=i18n("LABEL_START_CHAT"))?"":__t)+"</button>\n				</form>\n			"),__p+="\n		</div>\n	</div>\n</div>";return __p},"cms-page":function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+="<h1>"+(null==(__t=page.title)?"":__t)+'</h1>\n\n<div class="row-fluid">\n	<div class="span8">\n		'+(null==(__t=page.body)?"":__t)+'\n	</div>\n	<div class="span4">\n		'+(null==(__t=partial("sidebar-support"))?"":__t)+"\n	</div>\n</div>\n\n\n";return __p},"confirmed-pause":function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+="<p>"+(null==(__t=i18n("INFO_CONFIRMED_PAUSE"))?"":__t)+'</p>\n<p class="account-pause-reason">'+(null==(__t=i18n(reason))?"":__t)+"</p>\n",finiteDuration&&(__p+="\n    <p>"+(null==(__t=i18n("INFO_CONFIRMED_PAUSE_DURATION",{"{{toDate}}":'<span class="nowrap">'+toDate+"</span>"}))?"":__t)+" </p>\n"),__p+="";return __p},"deposit-response-form":function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+='<form method="'+(null==(__t=method)?"":__t)+'" action="'+(null==(__t=action)?"":__t)+'">\n	';for(var key in parameters)__p+='\n		<input type="hidden" name="'+(null==(__t=key)?"":__t)+'" value="'+(null==(__t=parameters[key])?"":__t)+'" />\n	';__p+="\n</form>\n"}return __p},"deposit-result":function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+="<h1>"+(null==(__t=i18n("HEADING_ACCOUNT_DEPOSIT_"+result.toUpperCase()))?"":__t)+'</h1>\n<div class="row-fluid">\n	<div class="span8">\n		',__p+="success"===result?"\n\n			<p>"+(null==(__t=i18n("INFO_ACCOUNT_DEPOSIT_SUCCESS_"+method.toUpperCase(),{"{{amount}}":"<strong>"+str.formatMoney(amount,user.currency,!0)+"</strong>"}))?"":__t)+"</p>\n			<h5>"+(null==(__t=i18n("LABEL_YOUR_NEW_BALANCE_IS"))?"":__t)+'</h5>\n			<div class="box box-gray">\n				<div class="row-fluid">\n					<p class="amount span6">'+(null==(__t=str.formatMoney(user.fullBalance,user.currency,!0))?"":__t)+'</p>\n					<button class="btn-start btn btn-primary span6">'+(null==(__t=i18n("LABEL_START_PLAYING"))?"":__t)+'</button>\n				</div>\n			</div>\n			<hr />\n\n			<h5 class="deposit-games">\n				'+(null==(__t=i18n("INFO_ACCOUNT_DEPOSIT_SUCCESS_GAMES"))?"":__t)+'\n				<span class="pull-right">\n					<a href="#" class="btn btn-secondary btn-small">'+(null==(__t=i18n("LABEL_SHOW_ALL"))?"":__t)+'&nbsp;<i class="icon-caret-right"></i></a>\n				</span>\n			</h5>\n			'+(null==(__t=partial("game-list-thumbs",{games:games}))?"":__t)+"\n		\n		":"pending"===result?"\n\n			<p>"+(null==(__t=i18n("INFO_ACCOUNT_DEPOSIT_PENDING_"+method.toUpperCase()))?"":__t)+'</p>\n			<hr />\n			<div class="bottom-center">\n				<a href="#account/history" class="btn btn-primary">'+(null==(__t=i18n("LABEL_GO_TO_HISTORY"))?"":__t)+"</a>\n			</div>\n		":"cancelled"===result?"\n\n			<p>"+(null==(__t=i18n("INFO_ACCOUNT_DEPOSIT_CANCELLED"))?"":__t)+'</p>\n			<hr />\n			<div class="bottom-center">\n				<a href="#account/deposit" class="btn btn-primary">'+(null==(__t=i18n("LABEL_TRY_AGAIN"))?"":__t)+"</a>\n			</div>\n		\n		":"\n\n			<p>"+(null==(__t=i18n("INFO_ACCOUNT_DEPOSIT_FAILED"))?"":__t)+'</p>\n			<hr />\n			<div class="bottom-center">\n				<a href="#account/deposit" class="btn btn-primary">'+(null==(__t=i18n("LABEL_TRY_AGAIN"))?"":__t)+"</a>\n			</div>\n\n		",__p+='\n	</div>\n	<div class="span4">\n		'+(null==(__t=partial("sidebar-support"))?"":__t)+"\n	</div>\n</div>  \n";return __p},"game-category":function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+="<h3>\n	"+(null==(__t=i18n("GAME_CATEGORY_"+category.toUpperCase()))?"":__t)+"\n	<span>"+(null==(__t=games&&games.length)?"":__t)+" "+(null==(__t=i18n("LABEL_GAMES"))?"":__t)+'</span>\n</h3>\n\n<div class="game-picker">\n	'+(null==(__t=partial("game-list",ctx))?"":__t)+"\n</div>";return __p},"game-limit-reached":function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+='<i class="icon-coffee"></i>\n<h1>'+(null==(__t=i18n("HEADING_LIMIT_REACHED"))?"":__t)+'</h1>\n<p class="top">'+(null==(__t=i18n("INFO_LIMIT_REACHED_TOP"))?"":__t)+"</p>\n",_.forEach(lowLimits||[],function(a){__p+='\n	<p class="title">'+(null==(__t=i18n("HEADING_PROFILE_LIMIT_"+a.type.toUpperCase()))?"":__t)+'</p>\n	<div class="box box-gray">\n		<p>'+(null==(__t=i18n("LABEL_REMAINING_AMOUNT"))?"":__t)+": <strong>"+(null==(__t=str.formatMoney(a.remainingLimit,data.currency,!0))?"":__t)+'</strong></p>\n		<a href="#profile/limit/'+(null==(__t=a.type)?"":__t)+'" class="btn btn-primary">'+(null==(__t=i18n("LABEL_GO_TO_YOUR_GAME_LIMIT"))?"":__t)+"</a>\n	</div>	\n"}),__p+="\n<p>"+(null==(__t=i18n("INFO_LIMIT_REACHED_BOTTOM"))?"":__t)+'</p>\n<hr />\n<div class="bottom-center">\n	<a class="btn btn-secondary play">'+(null==(__t=i18n("LABEL_GO_TO_GAME"))?"":__t)+"</a>\n</div>\n";return __p},"game-loading":function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+="<h3>"+(null==(__t=i18n("INFO_GAME_LAUNCHING_GAME",{"{{gameName}}":game.name}))?"":__t)+'</h3>\n<div class="game-loader"></div>';return __p},"game-maintenance":function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+='<i class="icon-cogs"></i>\n<h1>'+(null==(__t=i18n("HEADING_GAME_MAINTENANCE"))?"":__t)+"</h1>\n<p>"+(null==(__t=i18n("INFO_GAME_MAINTENANCE"))?"":__t)+"</p>\n";return __p},"game-no-bonus":function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+='<i class="icon-money"></i>\n<h1>'+(null==(__t=i18n("HEADING_GAME_CASH_ONLY"))?"":__t)+"</h1>\n<p>"+(null==(__t=i18n("INFO_GAME_CASH_ONLY"))?"":__t)+'</p>\n<div class="box">\n	<a href="#account/deposit" class="btn pull-right">'+(null==(__t=i18n("LABEL_DEPOSIT"))?"":__t)+"</a>\n	<p>"+(null==(__t=i18n("LABEL_MAKE_A_DEPOSIT"))?"":__t)+":</p>\n</div>\n<p>"+(null==(__t=i18n("INFO_GAME_CASH_ONLY_OTHER_GAMES"))?"":__t)+"</p>\n"+(null==(__t=partial("game-list-thumbs",{games:otherGames}))?"":__t)+'\n<hr />\n<div class="bottom-center">\n	<a href="#" class="btn btn-large btn-secondary close-game">'+(null==(__t=i18n("LABEL_BACK_TO_GAMES"))?"":__t)+"</a>\n</div>";return __p},"game-play":function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+='<div class="game-wrapper">\n	<div class="game-container">\n		<div class="game-controls">\n			<a class="close-game"><i class="icon-remove-sign"></i> <span>'+(null==(__t=i18n("LABEL_CLOSE"))?"":__t)+'</span></a>\n			<a class="open-game-sidebar"><i class="icon-info-sign"></i> <span>'+(null==(__t=i18n("LABEL_INFO"))?"":__t)+'</span></a>\n			<a class="open-game-sidebar-deposit"><i><i class="icons icon-quick-game-deposit"></i></i> <span>'+(null==(__t=i18n("LABEL_DEPOSIT"))?"":__t)+'</span></a>\n		</div>\n		<div class="game-sidebar">\n			<div class="game-sidebar-controls">\n				<a class="close-game"><i class="icon-remove-sign"></i></a>\n				<a class="open-game-sidebar"><i class="icon-circle-arrow-left"></i></a>\n			</div>\n			\n			<div class="game-info">\n				<h4>'+(null==(__t=game.attrs&&game.attrs.customTitle||game.name)?"":__t)+"</h4>\n				"+(null==(__t=game.description)?"":__t)+"\n			</div>\n			\n			",user||(__p+="\n			<p>"+(null==(__t=i18n("INFO_GAME_PLAY_FOR_FUN"))?"":__t)+'.</p>\n			<div class="user-info">\n				',promotions.length&&(__p+="\n					",_.forEach(promotions,function(a){__p+="\n						",a.title&&(__p+="<h4>"+(null==(__t=a.title)?"":__t)+"</h4>"),__p+="\n						",a.image&&(__p+='<img src="'+(null==(__t=a.image)?"":__t)+'" alt="'+(null==(__t=a.title)?"":__t)+'" />'),__p+="\n						",a.text&&(__p+=""+(null==(__t=a.text)?"":__t)),__p+="\n						<hr />	\n				"}),__p+="\n				"),__p+='\n				<a href="#signup" class="btn btn-block btn-primary">'+(null==(__t=i18n("LABEL_SIGNUP"))?"":__t)+"</a>\n			</div>\n			"),__p+='\n		</div>\n		<div class="game-flash-background">\n			',swfobject.hasFlashPlayerVersion("10.2.0")||(__p+='\n			<div class="no-flash">\n				<i class="icon-cloud-download"></i>\n				<h1>'+(null==(__t=i18n("HEADING_GAME_GET_FLASH"))?"":__t)+"</h1>\n				<div>\n					"+(null==(__t=i18n("INFO_GAME_GET_FLASH"))?"":__t)+"\n				</div>\n			</div>\n			"),__p+='\n		</div>\n		<div class="game-bottom-bar">\n			',game.attrs&&!game.attrs.hasLicense&&user&&(__p+='\n				<div class="license">\n					'+(null==(__t=i18n("INFO_NO_LGA_LICENSE"))?"":__t)+"\n				</div>\n			"),__p+="\n		</div>\n	</div>\n</div>\n";
return __p},game:function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+='<div class="game-wrapper">\n	<div class="game-container">\n	',ctx.html&&(__p+='\n		<div class="game-content">\n			<div class="game-controls">\n				<a class="close-game"><i class="icon-remove-sign"></i> <span>'+(null==(__t=i18n("LABEL_CLOSE"))?"":__t)+"</span></a>\n			</div>\n			"+(null==(__t=html)?"":__t)+"\n			</div>\n		</div>\n	"),__p+="\n</div>";return __p},"home-promotion":function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+='<a class="postcard" href="'+(null==(__t=promotion.action)?"":__t)+'">\n',(promotion.text||promotion.button)&&(__p+='\n	<div class="caption">\n	',promotion.text&&(__p+='\n		<div class="info">'+(null==(__t=promotion.text)?"":__t)+"</div>\n	"),__p+="\n	",promotion.button&&(__p+='\n		<div class="action"><i>'+(null==(__t=promotion.button)?"":__t)+"</i></div>\n	"),__p+="\n	</div>\n"),__p+='\n	<img src="'+(null==(__t=promotion.images.desktopHome)?"":__t)+'" width="430" height="280" />\n</a>';return __p},home:function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){if(__p+='<div class="home-view-body">\n\n    <div class="promotion">\n		\n        <div class="home-promotions">\n        </div>\n		\n		',promotionCount&&promotionCount>1){__p+='\n			<ul class="promotion-pagination">\n				';for(var i=0;promotionCount>i;i+=1)__p+='\n					<li><a data-promo-index="'+(null==(__t=i)?"":__t)+'" href="#"><i>'+(null==(__t=i+1)?"":__t)+"</i></a></li>\n				";__p+="\n			</ul>\n		"}__p+="\n		\n        <h1>"+(null==(__t=i18n("INFO_HOME_LARGE_USP_DESKTOP"))?"":__t)+"</h1>\n        <ul>\n            <li>"+(null==(__t=i18n("INFO_HOME_USP_1"))?"":__t)+"</li>\n            <li>"+(null==(__t=i18n("INFO_HOME_USP_3"))?"":__t)+"</li>\n            <li>"+(null==(__t=i18n("INFO_HOME_USP_5"))?"":__t)+"</li>\n        </ul>\n		<ul>\n			<li>"+(null==(__t=i18n("INFO_HOME_USP_2"))?"":__t)+"</li>\n			<li>"+(null==(__t=i18n("INFO_HOME_USP_4"))?"":__t)+"</li>\n			<li>"+(null==(__t=i18n("INFO_HOME_USP_6"))?"":__t)+'</li>\n		</ul>\n		<div class="cta">\n			<div>\n				<i class="icons icon-circle-star"></i>\n			',__p+=isLoggedIn()?'\n				<a href="#account/deposit">'+(null==(__t=i18n("INFO_HOME_USP_LOGGEDIN"))?"":__t)+"</a>\n			":'\n				<a href="#signup">'+(null==(__t=i18n("INFO_HOME_USP_LOGGEDOUT"))?"":__t)+"</a>\n			",__p+='\n			</div>\n			<div>\n				<i class="icons icon-circle-cell"></i>\n				<a href="#support/touch">'+(null==(__t=i18n("INFO_HOME_USP_TOUCH"))?"":__t)+"</a>\n			</div>			\n		</div>\n    </div>\n	\n",unavailable?(__p+='\n	<div class="'+(null==(__t=unavailable.type)?"":__t)+'">\n		<i class="icon-'+(null==(__t=unavailable.icon)?"":__t)+'"></i>\n		',"maintenance"===unavailable.type&&(__p+="\n		<h2>"+(null==(__t=i18n("HEADING_MAINTENANCE"))?"":__t)+"</h2>\n		"),__p+='\n		<div class="text">'+(null==(__t=unavailable.text)?"":__t)+"</div>\n		","offline"===unavailable.type&&(__p+='\n		<a class="btn try-online">'+(null==(__t=i18n("LABEL_TRY_ONLINE"))?"":__t)+"</a>\n		"),__p+="\n	</div>\n"):(__p+='\n    <div class="games">\n        ',_.forEach(categories,function(a,b){__p+='\n			<div id="category-'+(null==(__t=b)?"":__t)+'" class="games-box">\n				<h3 class="games-header" data-category-id="'+(null==(__t=b)?"":__t)+'">\n					<a href="#game/category/'+(null==(__t=b)?"":__t)+'">'+(null==(__t=i18n("GAME_CATEGORY_"+b.toUpperCase()))?"":__t)+'</a>\n					<span>\n						<a href="#game/category/'+(null==(__t=b)?"":__t)+'">'+(null==(__t=a)?"":__t)+" "+(null==(__t=i18n("LABEL_GAMES"))?"":__t)+"</a>\n						",a>gamesPerCategory[b]&&(__p+='\n							<a href="#game/category/'+(null==(__t=b)?"":__t)+'" class="btn btn-secondary btn-small">'+(null==(__t=i18n("LABEL_SHOW_ALL"))?"":__t)+'<i class="icon-caret-right"></i></a>\n						'),__p+="\n					</span>\n					";var c=Math.ceil(a/gamesPerCategory[b]);__p+="\n					",c>1&&(__p+='\n					<span class="dots">\n					',_.times(c,function(a){__p+='\n						<span class="'+(null==(__t=0===a?"active":"")?"":__t)+'"></span>\n					'}),__p+="\n					</span>\n					"),__p+='\n					<i class="icons game-picker-arrow game-picker-arrow-left game-picker-arrow-hidden"></i>\n					<i class="icons game-picker-arrow game-picker-arrow-right game-picker-arrow-hidden"></i>\n				</h3>\n				<div class="game-picker">\n					<div class="game-list-container"></div>\n				</div>\n			</div>\n        '}),__p+="\n    </div>\n	"),__p+="\n</div>"}return __p},"login-blocked":function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+="<h1>"+(null==(__t=i18n("HEADING_LOGIN_BLOCKED"))?"":__t)+"</h1>\n<p>"+(null==(__t=i18n("INFO_LOGIN_BLOCKED"))?"":__t)+'</p>\n\n<a href="#support/contact/account" class="btn pull-right btn-primary">'+(null==(__t=i18n("LABEL_CONTACT_CUSTOMER_SUPPORT"))?"":__t)+'</a>\n<button class="btn pull-left back">'+(null==(__t=i18n("LABEL_BACK"))?"":__t)+"</button>";return __p},"login-locked":function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+="\n",sent?__p+="\n\n    <h1>"+(null==(__t=i18n("HEADING_PASSWORD_MAIL_SENT"))?"":__t)+"</h1>\n    <p>"+(null==(__t=i18n("INFO_LOGIN_LOCKED_SENT",{"{{email}}":data.accountName}))?"":__t)+'</p>\n\n    <button class="btn btn-primary back">'+(null==(__t=i18n("LABEL_CLOSE"))?"":__t)+"</button>\n\n":(__p+="\n\n	",__p+=error?"\n		<h1>"+(null==(__t=i18n("HEADING_GENERIC_ERROR"))?"":__t)+"</h1>\n		<p>"+(null==(__t=i18n.error(error.message))?"":__t)+"</p>\n	":"\n		<h1>"+(null==(__t=i18n("HEADING_LOGIN_LOCKED"))?"":__t)+"</h1>\n		<p>"+(null==(__t=i18n("INFO_LOGIN_LOCKED"))?"":__t)+'</p>\n		<button class="btn pull-right btn-primary send">'+(null==(__t=i18n("LABEL_LOGIN_LOCKED_SEND_INSTRUCTION"))?"":__t)+"</button>\n	",__p+='\n	\n	<button class="btn pull-left back">'+(null==(__t=i18n("LABEL_BACK"))?"":__t)+"</button>\n\n"),__p+="\n";return __p},"login-paused":function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+="<h1>"+(null==(__t=i18n("HEADING_LOGIN_PAUSED"))?"":__t)+"</h1>\n<p>"+(null==(__t=i18n("INFO_LOGIN_PAUSED"))?"":__t)+"</p>\n<p>"+(null==(__t=i18n(reason))?"":__t)+"</p>\n",finiteDuration&&(__p+="\n    <p>"+(null==(__t=i18n("INFO_LOGIN_PAUSED_DURATION",{"{{toDate}}":'<span class="nowrap">'+toDate+"</span>"}))?"":__t)+" </p>\n"),__p+='\n<hr />\n<a href="#support/contact/account" class="btn pull-right btn-primary">'+(null==(__t=i18n("LABEL_CONTACT_CUSTOMER_SUPPORT"))?"":__t)+'</a>\n<button class="btn pull-left back">'+(null==(__t=i18n("LABEL_BACK"))?"":__t)+"</button>";return __p},login:function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+='<i class="icon-lock"></i>\n<h1>'+(null==(__t=i18n("HEADING_LOGIN"))?"":__t)+"</h1>\n",ctx.message&&(__p+='\n	<div class="message">'+(null==(__t=ctx.message)?"":__t)+"</div>\n"),__p+="\n<form>\n	"+(null==(__t=partial("form-fieldset-text",{posted:posted,error:error,data:data,name:"accountName",label:i18n("LABEL_EMAIL_ADDRESS"),required:!0,attrs:{type:"email",placeholder:i18n("PLACEHOLDER_EMAIL_ADDRESS"),maxlength:40}}))?"":__t)+"\n	"+(null==(__t=partial("validation-message",{message:error.accountName&&error.accountName.message}))?"":__t)+"\n	"+(null==(__t=partial("form-fieldset-text",{posted:posted,error:error,data:data,name:"password",label:i18n("LABEL_PASSWORD"),required:!0,attrs:{type:"password",placeholder:i18n("LABEL_PASSWORD"),maxlength:30}}))?"":__t)+"\n	"+(null==(__t=partial("validation-message",{message:error.password&&error.password.message}))?"":__t)+'\n	\n	<hr />\n	\n	<div class="bottom-center">\n		<a class="btn btn-large btn-secondary close-game">'+(null==(__t=i18n("LABEL_CLOSE"))?"":__t)+'</a>\n		<button type="submit" class="btn-large btn btn-primary">'+(null==(__t=i18n("LABEL_LOGIN"))?"":__t)+"</button>\n	</div>\n</form>";return __p},"lost-password":function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+="<h1>"+(null==(__t=i18n("HEADING_LOST_PASSWORD"))?"":__t)+'</h1>\n\n<div class="row-fluid">\n    <div class="span8">\n        <p>'+(null==(__t=i18n("INFO_LOST_PASSWORD"))?"":__t)+'<span class="pull-right required"><i>*</i> '+(null==(__t=i18n("LABEL_REQUIRED_FIELD"))?"":__t)+"</span></p>\n        <ol>\n            <li>"+(null==(__t=i18n("INFO_LOST_PASSWORD_LIST_ITEM_1"))?"":__t)+"</li>\n            <li>"+(null==(__t=i18n("INFO_LOST_PASSWORD_LIST_ITEM_2"))?"":__t)+"</li>\n            <li>"+(null==(__t=i18n("INFO_LOST_PASSWORD_LIST_ITEM_3"))?"":__t)+'</li>\n        </ol>\n        <form>\n            <div class="row-fluid">\n            '+(null==(__t=partial("form-fieldset-text",{className:"span6",posted:posted,error:error,data:{},name:"email",label:i18n("LABEL_EMAIL_ADDRESS"),required:!0,attrs:{placeholder:i18n("PLACEHOLDER_EMAIL_ADDRESS"),maxlength:40}}))?"":__t)+'\n            </div>\n			\n			<hr>\n			\n			<div class="bottom-center">\n				<button type="submit" class="btn btn-primary">'+(null==(__t=i18n("LABEL_GET_NEW_PASSWORD"))?"":__t)+'</button>\n			</div>\n			\n			\n        </form>\n    </div>\n    <div class="span4">\n        '+(null==(__t=partial("sidebar-support"))?"":__t)+"\n    </div>\n</div>";return __p},news:function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+="<h1>"+(null==(__t=i18n("HEADING_NEWS"))?"":__t)+'</h1>\n<div class="row-fluid">\n	<div class="span4">\n		'+(null==(__t=partial("news-list",{news:news,activeId:item&&item.id}))?"":__t)+'\n	</div>\n	<div class="span8">\n		',item&&(__p+='\n		<h2><span class="date">'+(null==(__t=item.datePublished)?"":__t)+"</span>"+(null==(__t=item.title)?"":__t)+'</h2>\n\n		<div class="news-body">\n			'+(null==(__t=item.body)?"":__t)+"\n		</div>\n		"),__p+="\n	</div>\n</div>\n";return __p},nickname:function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+='<i class="icon-user"></i>\n<h1>'+(null==(__t=i18n("HEADING_NICKNAME"))?"":__t)+"</h1>\n\n",ctx.message&&(__p+='\n<div class="message">'+(null==(__t=ctx.message)?"":__t)+"</div>\n"),__p+="\n\n<form>\n	"+(null==(__t=partial("form-fieldset-text",{posted:posted,error:error,data:data,name:"nickName",label:i18n("LABEL_NICKNAME"),required:!0,attrs:{type:"text",placeholder:i18n("PLACEHOLDER_NICKNAME"),maxlength:40}}))?"":__t)+"\n	"+(null==(__t=partial("validation-message",{message:error.nickName&&error.nickName.message}))?"":__t)+'\n	\n	<hr>\n	\n	<div class="bottom-center">\n		<button type="submit" class="btn-large btn btn-primary">'+(null==(__t=i18n("LABEL_UPDATE"))?"":__t)+"</button>\n	</div>\n</form>";return __p},"profile-contact":function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+="<h1>"+(null==(__t=i18n("LABEL_PROFILE"))?"":__t)+'</h1>\n<div class="row-fluid">\n	<div class="span3">'+(null==(__t=partial("profile-menu",{page:"contact"}))?"":__t)+'</div>\n	<div class="span9">'+(null==(__t=partial("profile-contact-form",ctx))?"":__t)+"</div>\n</div>\n";return __p},"profile-contracts":function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+="<h1>"+(null==(__t=i18n("LABEL_PROFILE"))?"":__t)+'</h1>\n<div class="row-fluid">\n    <div class="span3">\n		'+(null==(__t=partial("profile-menu",{page:"contracts"}))?"":__t)+'\n	</div>\n	<div class="span9">\n		<h2>'+(null==(__t=i18n("HEADING_PROFILE_CONTRACTS"))?"":__t)+"</h2>\n		",contracts.length?(__p+="\n			<p>"+(null==(__t=i18n("INFO_PROFILE_CONTRACTS"))?"":__t)+'</p>\n			<hr />\n			<ul class="saved-cards">\n				',_.forEach(contracts,function(a){__p+='\n				<li>\n					<span class="icons card-'+(null==(__t=a.type)?"":__t)+'"></span>\n					<payment-contract>'+(null==(__t=a.displayName)?"":__t)+'</payment-contract>\n					<button class="btn btn-primary pull-right">'+(null==(__t=i18n("LABEL_REMOVE"))?"":__t)+"</button>\n				</li>\n				"}),__p+="\n			</ul>\n		"):__p+="\n			<p>"+(null==(__t=i18n("INFO_PROFILE_CONTRACTS_NO_SAVEDCARDS"))?"":__t)+"</p>\n		",__p+="\n	</div>\n</div>\n";return __p},"profile-limit-form":function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+="<h1>"+(null==(__t=i18n("LABEL_PROFILE"))?"":__t)+'</h1>\n<div class="row-fluid">\n    <div class="span3">\n		'+(null==(__t=partial("profile-menu",{page:"limit-"+data.id}))?"":__t)+'\n    </div>\n    <div class="span9">\n		<h2>'+(null==(__t=i18n("HEADING_PROFILE_LIMIT_"+data.id.toUpperCase()))?"":__t)+"</h2>\n		"+(null==(__t=i18n("INFO_PROFILE_LIMIT_"+data.id.toUpperCase(),{"{{currency}}":currency},{all:!0}))?"":__t)+'\n        <hr />\n		<div class="row-fluid">\n				\n			',data.current>0?(__p+='\n				<div class="box box-gray span6">\n					<dl>\n						<dt>'+(null==(__t=i18n("session"===data.id?"LABEL_LIMIT_SESSION":"LABEL_CURRENT_WEEK_LIMIT"))?"":__t)+"</dt>\n						<dd>"+(null==(__t=format(data.current))?"":__t)+"</dd>\n						","session"!==id&&(__p+="\n							<dt>"+(null==(__t=i18n("LABEL_REMAINING_WEEK_LIMIT"))?"":__t)+"</dt>\n							<dd>"+(null==(__t=format(data.remaining))?"":__t)+"</dd>\n						"),__p+='\n					</dl>\n	\n					<form class="current">\n						',"session"===id?(__p+="\n							"+(null==(__t=partial("form-fieldset-starttag",{posted:posted,error:error,data:data,name:"current"}))?"":__t)+'\n								<select name="current">\n									',_.forEach(limitOptions,function(a){__p+="\n										",data.current.toString()>a.value&&a.value>0&&(__p+='\n											<option value="'+(null==(__t=a.value)?"":__t)+'"\n												'+(null==(__t=a.value.toString()===data.current.toString()?'selected="selected"':"")?"":__t)+">\n													"+(null==(__t=i18n(a.label))?"":__t)+"\n											</option>\n										"),__p+="\n									"}),__p+="\n								</select>\n							</fieldset>\n						"):__p+="\n							"+(null==(__t=partial("form-fieldset-text",{posted:posted,error:error,data:data,name:"current",attrs:{placeholder:currency,maxlength:9}}))?"":__t)+"\n						",__p+='\n						<button type="submit" class="btn btn-block btn-primary">'+(null==(__t=i18n("LABEL_SAVE"))?"":__t)+'</button>\n					</form>\n					<button class="btn btn-block btn-primary show-form">'+(null==(__t=i18n("LABEL_LIMIT_LOWER"))?"":__t)+"</button>\n				</div>\n\n				",new Date(data.futureDate)>new Date?(__p+='\n					<div class="box box-gray span6">\n						<dl>\n							<dt>'+(null==(__t=i18n("LABEL_FUTURE_WEEK_LIMIT"))?"":__t)+"</dt>\n							<dd>"+(null==(__t=format(data.future))?"":__t)+'</dd>\n							<dt class="future-date">'+(null==(__t=data.formattedDate)?"":__t)+'</dt>\n						</dl>\n		\n						<form class="future">\n							',"session"===id?(__p+="\n								"+(null==(__t=partial("form-fieldset-starttag",{posted:posted,error:error,data:data,name:"future"}))?"":__t)+'\n									<select name="future">\n										',_.forEach(limitOptions,function(a){__p+='\n											<option value="'+(null==(__t=a.value)?"":__t)+'"\n												'+(null==(__t=a.value.toString()===data.future.toString()?'selected="selected"':"")?"":__t)+">\n													"+(null==(__t=i18n(a.label))?"":__t)+"\n											</option>\n										"}),__p+="\n									</select>\n								</fieldset>\n							"):__p+="\n								"+(null==(__t=partial("form-fieldset-text",{posted:posted,error:error,data:data,name:"future",attrs:{placeholder:currency,maxlength:9}}))?"":__t)+"\n							",__p+='\n							<button type="submit" class="btn btn-block btn-primary">'+(null==(__t=i18n("LABEL_SAVE"))?"":__t)+'</button>\n						</form>\n		\n						<button class="btn btn-block btn-primary show-form">'+(null==(__t=i18n("LABEL_LIMIT_CHANGE"))?"":__t)+'</button>\n						<button class="btn btn-block remove-limit">'+(null==(__t=i18n("LABEL_LIMIT_REMOVE"))?"":__t)+"</button>\n					</div>\n				"):(__p+='\n					<div class="box box-gray span6">\n						<form class="future">\n							',"session"===id?(__p+="\n								"+(null==(__t=partial("form-fieldset-starttag",{posted:posted,error:error,data:data,name:"future"}))?"":__t)+'\n									<select name="future">\n										',_.forEach(limitOptions,function(a){__p+='\n											<option value="'+(null==(__t=a.value)?"":__t)+'"\n												'+(null==(__t=a.value.toString()===data.future.toString()?'selected="selected"':"")?"":__t)+">\n													"+(null==(__t=i18n(a.label))?"":__t)+"\n											</option>\n										"}),__p+="\n									</select>\n								</fieldset>\n							"):__p+="\n								"+(null==(__t=partial("form-fieldset-text",{posted:posted,error:error,data:{},name:"future",attrs:{placeholder:currency,maxlength:9}}))?"":__t)+"\n							",__p+='\n							<button type="submit" class="btn btn-block btn-primary">'+(null==(__t=i18n("LABEL_SAVE"))?"":__t)+'</button>\n						</form>\n		\n						<button class="btn btn-block btn-primary show-form">'+(null==(__t=i18n("LABEL_LIMIT_SET_NEXT"))?"":__t)+"</button>\n					</div>\n				"),__p+="\n			\n			"):(__p+='\n\n				<div class="box box-gray span6">\n					<form class="current">\n						',"session"===id?(__p+="\n							"+(null==(__t=partial("form-fieldset-starttag",{posted:posted,error:error,data:data,name:"current"}))?"":__t)+'\n								<label for="current">'+(null==(__t=i18n("LABEL_LIMIT"))?"":__t)+'</label>\n								<select name="current">\n									',_.forEach(limitOptions,function(a){__p+='\n										<option value="'+(null==(__t=a.value)?"":__t)+'"\n											'+(null==(__t=a.value.toString()===data.current.toString()?'selected="selected"':"")?"":__t)+">\n												"+(null==(__t=i18n(a.label))?"":__t)+"\n										</option>\n									"}),__p+="\n								</select>\n							</fieldset>\n						"):__p+="\n							"+(null==(__t=partial("form-fieldset-text",{posted:posted,error:error,data:{},name:"current",attrs:{placeholder:currency,maxlength:9}}))?"":__t)+"\n						",__p+='\n						<button type="submit" class="btn btn-block btn-primary">'+(null==(__t=i18n("LABEL_SAVE"))?"":__t)+'</button>\n					</form>\n	\n					<button class="btn btn-block btn-primary show-form">'+(null==(__t=i18n("LABEL_LIMIT_SET"))?"":__t)+"</button>\n				</div>\n			\n			"),__p+="\n          \n        </div>\n	    ","session"!==id&&(__p+="\n			<p><small>"+(null==(__t=i18n("INFO_PROFILE_LIMIT_DISCLAIMER"))?"":__t)+"</small></p>\n	    "),__p+="\n	</div>\n</div>\n";return __p},"profile-password":function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+="<h1>"+(null==(__t=i18n("LABEL_PROFILE"))?"":__t)+'</h1>\n<div class="row-fluid">\n    <div class="span3">\n		'+(null==(__t=partial("profile-menu",{page:"password"}))?"":__t)+'\n    </div>\n    <div class="span9">\n		<h2>'+(null==(__t=i18n("HEADING_PROFILE_CHANGEPASSWORD"))?"":__t)+"</h2>\n        <p>"+(null==(__t=i18n("INFO_PROFILE_CHANGEPASSWORD"))?"":__t)+'</p>\n        <hr />\n		<form>\n\n            <div class="row-fluid">\n                '+(null==(__t=partial("form-fieldset-text",{className:"span6",posted:posted,error:error,data:data,name:"currentPassword",label:i18n("LABEL_CURRENT_PASSWORD"),attrs:{type:"password",placeholder:i18n("PLACEHOLDER_CURRENT_PASSWORD"),maxlength:30}}))?"":__t)+'\n				<span class="pull-right required"><i>*</i> '+(null==(__t=i18n("LABEL_REQUIRED_FIELD"))?"":__t)+'</span>\n            </div>\n\n            <div class="row-fluid">\n                '+(null==(__t=partial("form-fieldset-text",{className:"span6",posted:posted,error:error,data:data,name:"newPassword",label:i18n("LABEL_NEW_PASSWORD"),attrs:{type:"password",placeholder:i18n("PLACEHOLDER_NEW_PASSWORD"),maxlength:30}}))?"":__t)+"\n\n                "+(null==(__t=partial("form-fieldset-text",{className:"span6",posted:posted,error:error,data:data,name:"confirmPassword",label:i18n("LABEL_CONFIRM_PASSWORD"),attrs:{type:"password",placeholder:i18n("PLACEHOLDER_CONFIRM_PASSWORD"),maxlength:30}}))?"":__t)+'\n            </div>\n\n			<hr />\n			\n			<div class="bottom-center">\n				<button type="submit" class="btn btn-primary">'+(null==(__t=i18n("LABEL_CHANGE_PASSWORD"))?"":__t)+"</button>				\n			</div>\n</form>";return __p},"profile-pause-account":function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+="<h1>"+(null==(__t=i18n("LABEL_PROFILE"))?"":__t)+'</h1>\n<div class="row-fluid">\n	<div class="span3">\n		'+(null==(__t=partial("profile-menu",{page:"settings/pause-account"}))?"":__t)+'\n	</div>\n	<div class="span9 profile-pause-account-form-view">\n		<h2>'+(null==(__t=i18n("HEADING_PROFILE_PAUSE_ACCOUNT"))?"":__t)+"</h2>\n		<p>"+(null==(__t=i18n("INFO_PROFILE_PAUSE_ACCOUNT"))?"":__t)+'</p>\n		<hr />\n		<form>\n			<div class="row-fluid">\n				'+(null==(__t=partial("form-fieldset-starttag",{className:"span6",posted:posted,error:error,data:{},name:"reason"}))?"":__t)+"\n					<label>"+(null==(__t=i18n("LABEL_PAUSE_ACCOUNT_REASON"))?"":__t)+'</label>\n					<select name="reason">\n						',_.each(reasons,function(a){__p+='\n							<option value="'+(null==(__t=a.value)?"":__t)+'" '+(null==(__t=reason&&reason.value==a.value?'selected="selected"':"")?"":__t)+">\n								"+(null==(__t=i18n(a.label))?"":__t)+"\n							</option>\n						"}),__p+="\n					</select>\n					"+(null==(__t=partial("validation-message",{message:error.reason}))?"":__t)+"\n				</fieldset>\n				"+(null==(__t=partial("form-fieldset-starttag",{className:"span6",posted:posted,error:error,data:data,name:"duration"}))?"":__t)+"\n					<label>"+(null==(__t=i18n("LABEL_PAUSE_ACCOUNT_DURATION"))?"":__t)+'</label>\n					<select name="duration">\n						',_.each(durations,function(a){__p+='\n							<option value="'+(null==(__t=a.value)?"":__t)+'">'+(null==(__t=i18n(a.label))?"":__t)+"</option>\n						"}),__p+="\n					</select>\n					"+(null==(__t=partial("validation-message",{message:error.duration}))?"":__t)+"\n				</fieldset>\n			</div>\n			<p>"+(null==(__t=i18n("INFO_PAUSE_ACCOUNT_CONFIRM_PASSWORD"))?"":__t)+'</p>\n			<div class="row-fluid">\n				'+(null==(__t=partial("form-fieldset-text",{className:"span6",posted:posted,error:error,data:data,name:"password",label:i18n("LABEL_PASSWORD"),attrs:{type:"password",placeholder:i18n("LABEL_PASSWORD"),maxlength:30}}))?"":__t)+"\n				"+(null==(__t=partial("validation-message",{message:error.password}))?"":__t)+'\n			</div>\n			<hr />\n			<div class="bottom-center">\n				<button type="submit" class="btn btn-primary">'+(null==(__t=i18n("LABEL_PAUSE_ACCOUNT_CONFIRM"))?"":__t)+"</button>\n			</div>\n		</form>\n	</div>\n</div>\n";return __p},"profile-reality-check":function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+="<h1>"+(null==(__t=i18n("LABEL_PROFILE"))?"":__t)+'</h1>\n<div class="row-fluid">\n    <div class="span3">\n		'+(null==(__t=partial("profile-menu",{page:"reality-check"}))?"":__t)+'\n    </div>\n    <div class="span9">\n		<h2>'+(null==(__t=i18n("HEADING_PROFILE_REALITY_CHECK"))?"":__t)+"</h2>\n		<p>"+(null==(__t=i18n("INFO_PROFILE_REALITY_CHECK"))?"":__t)+'</p>\n		<hr />\n        <form>\n\n			\n			<div class="row-fluid radio-group">\n				'+(null==(__t=partial("form-fieldset-starttag",{posted:posted,data:data,error:error,name:"realityCheck"}))?"":__t)+'\n				<div class="row-fluid radio-group">\n					<div class="span4">\n						<label>'+(null==(__t=i18n("LABEL_REALITY_CHECK"))?"":__t)+'</label>\n					</div>\n					<div class="btn-group btn-group-radio span4">\n						<button\n								type="button"\n								data-radio-value="true"\n								class="btn span6 '+(null==(__t=data.realityCheck?"active":"")?"":__t)+'"\n								>'+(null==(__t=i18n("LABEL_YES"))?"":__t)+'</button>\n						<input type="hidden" name="realityCheck" value="'+(null==(__t=data.realityCheck)?"":__t)+'" />\n						<button\n								type="button"\n								data-radio-value="false"\n								class="btn span6 '+(null==(__t=data.realityCheck?"":"active")?"":__t)+' "\n								>'+(null==(__t=i18n("LABEL_NO"))?"":__t)+'</button>\n					</div>\n				</div>\n				</fieldset>\n\n			</div>\n\n			<hr />\n\n			<div class="bottom-center">\n				<button type="submit" class="btn btn-primary">'+(null==(__t=i18n("LABEL_UPDATE"))?"":__t)+"</button>\n			</div>\n\n        </form>\n    </div>\n\n\n</div>\n";return __p},"profile-settings":function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+="<h1>"+(null==(__t=i18n("LABEL_PROFILE"))?"":__t)+'</h1>\n<div class="row-fluid">\n    <div class="span3">\n		'+(null==(__t=partial("profile-menu",{page:"settings"}))?"":__t)+'\n    </div>\n    <div class="span9">\n		<h2>'+(null==(__t=i18n("HEADING_PROFILE_SETTINGS"))?"":__t)+"</h2>\n		<p>"+(null==(__t=i18n("INFO_PROFILE_SETTINGS"))?"":__t)+"</p>\n		<hr />\n        <form>\n\n            "+(null==(__t=partial("form-fieldset-starttag",{posted:posted,error:error,data:data,name:"bonus"}))?"":__t)+"\n			<label>"+(null==(__t=i18n("LABEL_BONUSES"))?"":__t)+'</label>\n			<div class="row-fluid radio-group">\n				<div class="span4">\n					<label>'+(null==(__t=i18n("INFO_PROFILE_SETTINGS_CLAIM_BONUS_BY_DEFAULT"))?"":__t)+'</label>\n				</div>\n				<div class="btn-group btn-group-radio span4">\n					<button\n							type="button"\n							data-radio-value="true"\n							class="btn span6 '+(null==(__t=data.bonus?"active":"")?"":__t)+'"\n							>'+(null==(__t=i18n("LABEL_YES"))?"":__t)+'</button>\n					<input type="hidden" name="bonus" value="'+(null==(__t=data.bonus)?"":__t)+'" />\n					<button\n							type="button"\n							data-radio-value="false"\n							class="btn span6 '+(null==(__t=data.bonus?"":"active")?"":__t)+' "\n							>'+(null==(__t=i18n("LABEL_NO"))?"":__t)+"</button>\n				</div>\n			</div>\n            </fieldset>\n\n            <hr />\n\n            "+(null==(__t=partial("form-fieldset-starttag",{posted:posted,data:data,error:error,name:"wantEmail"}))?"":__t)+"\n\n			<label>"+(null==(__t=i18n("LABEL_NEWSLETTER"))?"":__t)+"</label>\n			<p>"+(null==(__t=i18n("INFO_PROFILE_SETTINGS_RECEIVE_NEWSLETTER"))?"":__t)+':</p>\n			\n			<div class="row-fluid radio-group">\n				'+(null==(__t=partial("form-fieldset-starttag",{posted:posted,data:data,error:error,name:"wantEmail"}))?"":__t)+'\n				<div class="span4">\n					<label>'+(null==(__t=i18n("LABEL_EMAIL"))?"":__t)+'</label>\n				</div>\n				<div class="btn-group btn-group-radio span4">\n					<button\n							type="button"\n							data-radio-value="true"\n							class="btn span6 '+(null==(__t=data.wantEmail?"active":"")?"":__t)+'"\n							>'+(null==(__t=i18n("LABEL_YES"))?"":__t)+'</button>\n					<input type="hidden" name="wantEmail" value="'+(null==(__t=data.wantEmail)?"":__t)+'" />\n					<button\n							type="button"\n							data-radio-value="false"\n							class="btn span6 '+(null==(__t=data.wantEmail?"":"active")?"":__t)+' "\n							>'+(null==(__t=i18n("LABEL_NO"))?"":__t)+'</button>\n				</div>\n				</fieldset>\n\n			</div>\n			<div class="row-fluid radio-group">\n				'+(null==(__t=partial("form-fieldset-starttag",{posted:posted,data:data,error:error,name:"wantSms"}))?"":__t)+'\n				<div class="span4">\n					<label>'+(null==(__t=i18n("LABEL_SMS"))?"":__t)+'</label>\n				</div>\n				<div class="btn-group btn-group-radio btn- span4">\n					<button\n							type="button"\n							data-radio-value="true"\n							class="btn span6 '+(null==(__t=data.wantSms?"active":"")?"":__t)+'"\n							>'+(null==(__t=i18n("LABEL_YES"))?"":__t)+'</button>\n					<input type="hidden" name="wantSms" value="'+(null==(__t=data.wantSms)?"":__t)+'" />\n					<button\n							type="button"\n							data-radio-value="false"\n							class="btn span6 '+(null==(__t=data.wantSms?"":"active")?"":__t)+' "\n							>'+(null==(__t=i18n("LABEL_NO"))?"":__t)+'</button>\n				</div>\n				</fieldset>\n			</div>\n\n			<hr />\n\n			<div class="bottom-center">\n				<button type="submit" class="btn btn-primary">'+(null==(__t=i18n("LABEL_UPDATE"))?"":__t)+"</button>\n			</div>\n\n        </form>\n    </div>\n\n\n</div>\n";return __p},"quick-deposit-confirm":function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+="<p>"+(null==(__t=message)?"":__t)+'</p>\n<button type="button" class="btn btn-block btn-primary confirm">'+(null==(__t=i18n("LABEL_OK"))?"":__t)+'</button>\n<button type="button" class="btn btn-block dismiss">'+(null==(__t=i18n("LABEL_CLOSE"))?"":__t)+"</button>\n";return __p},"quick-deposit":function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+="",_.forEach(paymentMethods,function(a){__p+='\n	<form class="method-'+(null==(__t=a.id)?"":__t)+'">\n		<div class="quick-deposit">\n			',result?__p+="\n				<h4>"+(null==(__t=i18n("HEADING_ACCOUNT_DEPOSIT_"+result.result.toUpperCase()))?"":__t)+"</h4>\n				<p>\n					"+(null==(__t=i18n("INFO_ACCOUNT_DEPOSIT_SUCCESS_"+result.method.toUpperCase(),{"{{amount}}":"<strong>"+str.formatMoney(result.amount,user.currency,!0)+"</strong>"}))?"":__t)+"\n					<br />"+(null==(__t=i18n("INFO_ACCOUNT_DEPOSIT_QUICK_INFO"))?"":__t)+'\n				</p>\n				<button class="btn-block btn btn-primary quick-deposit-done-btn">'+(null==(__t=i18n("LABEL_OK"))?"":__t)+"</button>\n			":(__p+='\n				<div class="content">\n					',_.forEach(a.images||[],function(a){__p+='\n						<span class="icons logotype-'+(null==(__t=a)?"":__t)+" "+(null==(__t=user.country)?"":__t)+'"></span>\n					'}),__p+='\n					<select class="quick-deposit-contract">\n						',_.forEach(a.contracts,function(a){__p+='\n							<option value="'+(null==(__t=a.id)?"":__t)+'">'+(null==(__t=a.displayName)?"":__t)+"</option>\n						"}),__p+="\n					</select>\n					",a.quickAmounts&&a.quickAmounts.length&&(__p+='\n						<div class="quick-amounts btn-group row-fluid">\n							',_.forEach(a.quickAmounts,function(a){__p+='\n								<button class="btn quick-amounts btn-secondary span4" value="'+(null==(__t=a)?"":__t)+'">'+(null==(__t=a)?"":__t)+"</button>\n							"}),__p+="\n						</div>\n					"),__p+="\n					"+(null==(__t=partial("form-fieldset-starttag",{posted:posted,error:error,data:data,name:"amount"}))?"":__t)+'\n						<input type="text" name="amount-'+(null==(__t=a.id)?"":__t)+'" class="quick-deposit-amount" placeholder="'+(null==(__t=i18n("LABEL_OTHER_AMOUNT")+" ("+user.currency.toUpperCase()+")")?"":__t)+'" maxlength="6" />\n					</fieldset>\n					<button disabled="disabled" class="quick-deposit-btn btn btn-block btn-primary">'+(null==(__t=i18n("INFO_ACCOUNT_DEPOSIT_BTN"))?"":__t)+"</button>\n				</div>\n			"),__p+="\n		</div>\n	</form>\n"}),__p+="\n";return __p},"reality-check":function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+="\n<h1>"+(null==(__t=i18n("HEADING_REALITY_CHECK",{"{{firstName}}":user.firstName}))?"":__t)+"</h1>\n",__p+=netBalance>=0?"\n<p>"+(null==(__t=i18n("INFO_REALITY_CHECK_WINNINGS",{"{{minutes}}":minutes,"{{hours}}":hours,"{{amount}}":netBalanceMsg}))?"":__t)+"</p>\n":"\n    <p>"+(null==(__t=i18n("INFO_REALITY_CHECK_LOSES",{"{{minutes}}":minutes,"{{hours}}":hours,"{{amount}}":netBalanceMsg}))?"":__t)+"</p>\n",__p+='\n<hr />\n<a href="#" class="btn pull-left">'+(null==(__t=i18n("LABEL_REALITY_CHECK_QUIT"))?"":__t)+'</a>\n<a class="btn btn-primary pull-right">'+(null==(__t=i18n("LABEL_REALITY_CHECK_CONTINUE"))?"":__t)+"</a>\n";return __p},"reset-password":function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+="<h1>"+(null==(__t=i18n("HEADING_RESET_PASSWORD"))?"":__t)+'</h1>\n<div class="row-fluid">\n    <div class="span9">\n        <p>'+(null==(__t=i18n("INFO_RESET_PASSWORD",{"{{email}}":data.email}))?"":__t)+'<span class="pull-right required"><i>*</i>'+(null==(__t=i18n("LABEL_REQUIRED_FIELD"))?"":__t)+'</span></p>\n		<hr />\n        <form>\n            <div class="row-fluid">\n                '+(null==(__t=partial("form-fieldset-text",{className:"span6",posted:posted,error:error,data:data,name:"newPassword",label:i18n("LABEL_NEW_PASSWORD"),required:!0,attrs:{type:"password",placeholder:i18n("LABEL_NEW_PASSWORD"),maxlength:30}}))?"":__t)+"\n\n                "+(null==(__t=partial("form-fieldset-text",{className:"span6",posted:posted,error:error,data:data,name:"confirmPassword",label:i18n("LABEL_CONFIRM_PASSWORD"),required:!0,attrs:{type:"password",placeholder:i18n("LABEL_CONFIRM_PASSWORD"),maxlength:30}}))?"":__t)+'\n            </div>\n\n            <hr />\n			\n			<div class="bottom-center">\n				<button type="submit" class="btn btn-primary">'+(null==(__t=i18n("LABEL_CHANGE_AND_LOGIN"))?"":__t)+'</button>				\n			</div>		\n        </form>\n    </div>\n\n    <div class="span3">\n        '+(null==(__t=partial("sidebar-support"))?"":__t)+"\n    </div>\n</div>\n\n";return __p},"search-results":function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+="",games&&(__p+="\n<ul>\n    ",_.forEach(games,function(a){__p+='\n    <li><a href="#game/'+(null==(__t=a.id)?"":__t)+'">'+(null==(__t=a.name)?"":__t)+"</a></li>\n    "
}),__p+="\n</ul>\n"),__p+="\n\n";return __p},"session-limit":function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+="<h1>"+(null==(__t=i18n("HEADING_SESSION_LIMIT"))?"":__t)+"</h1>\n<p>"+(null==(__t=i18n("INFO_SESSION_LIMIT",{"{{sessionLimit}}":sessionLimit,"{{warningAdvance}}":warningAdvance}))?"":__t)+'</p>\n<hr />\n<a class="btn btn-primary">'+(null==(__t=i18n("LABEL_SESSION_LIMIT_OK"))?"":__t)+"</a>\n";return __p},signup:function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+="<h1>"+(null==(__t=i18n("HEADING_SIGNUP_STEP"+step))?"":__t)+'</h1>\n<div class="row-fluid">\n    <div class="span8">\n        <p>'+(null==(__t=i18n("INFO_SIGNUP_STEP"+step))?"":__t)+'<span class="pull-right required"><i>*</i>'+(null==(__t=i18n("LABEL_REQUIRED_FIELD"))?"":__t)+"</span></p>\n		<form>\n			",_.forEach(fields,function(a){__p+="\n				"+(null==(__t=partial("signup-"+a,ctx))?"":__t)+"\n			"}),__p+='\n\n			<div class="bottom-center">\n				<button type="submit" class="btn-large btn btn-primary">'+(null==(__t=i18n(1===step?"LABEL_NEXT_STEP":"LABEL_CREATE_ACCOUNT"))?"":__t)+'</button>\n			</div>\n\n        </form>\n    </div>\n    <div class="span4">\n		'+(null==(__t=partial("sidebar-promotion-signup",{promotions:promotions}))?"":__t)+"\n		"+(null==(__t=partial("sidebar-support"))?"":__t)+"\n    </div>\n</div>\n";return __p},"support-about":function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+="<h1>"+(null==(__t=page.title)?"":__t)+'</h1>\n<div class="row-fluid">\n\n    <div class="span3">\n        '+(null==(__t=partial("support-menu",{page:"about",tags:tags}))?"":__t)+'\n    </div>\n\n    <div class="span9">\n	    '+(null==(__t=page.body)?"":__t)+"\n    </div>\n</div>\n";return __p},"support-android":function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+="<h1>"+(null==(__t=i18n("HEADING_SUPPORT"))?"":__t)+'</h1>\n<div class="row-fluid">\n\n    <div class="span3">\n        '+(null==(__t=partial("support-menu",{page:"android",tags:tags}))?"":__t)+'\n    </div>\n\n    <div class="span9">\n		<h2>'+(null==(__t=page.title)?"":__t)+"</h2>\n        "+(null==(__t=page.body)?"":__t)+"\n    </div>\n</div>\n\n";return __p},"support-contact":function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+="<h1>"+(null==(__t=i18n("HEADING_SUPPORT"))?"":__t)+'</h1>\n<div class="row-fluid">\n\n    <div class="span3">\n        '+(null==(__t=partial("support-menu",{page:"contact",tags:tags}))?"":__t)+'\n    </div>\n\n    <div class="span9">\n		',serviceStatus&&serviceStatus.body&&(__p+='\n		<div class="service-status">\n			<i class="icon-exclamation-sign"></i>\n			<strong>'+(null==(__t=serviceStatus.title)?"":__t)+"</strong>\n			"+(null==(__t=serviceStatus.body)?"":__t)+"\n		</div>\n		"),__p+="		\n		<h2>"+(null==(__t=i18n("HEADING_SUPPORT_CONTACT"))?"":__t)+"</h2>\n	    \n	    <p>"+(null==(__t=i18n("INFO_SUPPORT_CONTACT"))?"":__t)+'<span class="pull-right required"><i>*</i>'+(null==(__t=i18n("LABEL_REQUIRED_FIELD"))?"":__t)+'</span></p>\n		<hr />\n        <form>\n            <div class="row-fluid '+(null==(__t=isLoggedIn()?"hide":"")?"":__t)+'">\n\n                '+(null==(__t=partial("form-fieldset-text",{className:"span6",posted:posted,error:error,data:data,name:"email",label:i18n("LABEL_EMAIL_ADDRESS"),required:!0,attrs:{type:"email",placeholder:i18n("PLACEHOLDER_EMAIL_ADDRESS"),maxlength:40}}))?"":__t)+"\n\n                "+(null==(__t=partial("validation-message",{message:error.email&&error.email.message}))?"":__t)+'\n\n            </div>\n\n            <div class="row-fluid">\n				'+(null==(__t=partial("form-fieldset-starttag",{className:"span6",posted:posted,error:error,data:data,name:"tag"}))?"":__t)+"\n					<label>"+(null==(__t=i18n("LABEL_CATEGORY"))?"":__t)+' <span class="required"><i>*</i></span></label>\n					<select name="tag">\n						',_.forEach(categories,function(a){__p+='\n							<option value="'+(null==(__t=tagPrefix+a)?"":__t)+'"\n							'+(null==(__t=data.tag===a?'selected="selected"':"")?"":__t)+"\n							>"+(null==(__t=i18n("OPTION_SUPPORT_"+a.toUpperCase()))?"":__t)+"</option>\n						"}),__p+="\n	\n					</select>\n				\n					"+(null==(__t=partial("validation-message",{name:"tag",message:error.tag&&error.tag.message}))?"":__t)+"\n\n            	</fieldset>\n            </div>\n\n            "+(null==(__t=partial("form-fieldset-starttag",{posted:posted,error:error,data:data,name:"message"}))?"":__t)+"\n				<label>"+(null==(__t=i18n("LABEL_MESSAGE"))?"":__t)+' <span class="required"><i>*</i></span></label>\n				<textarea class="span12" rows="6" autocapitalize="off" autocorrect="off" autocomplete="off" type="text" name="message" placeholder="'+(null==(__t=i18n("PLACEHOLDER_MESSAGE"))?"":__t)+' *">'+(null==(__t=data.message||"")?"":__t)+"</textarea>\n			"+(null==(__t=partial("validation-message",{name:"message",message:error.message&&error.message.message}))?"":__t)+'\n			</fieldset>\n\n			<div class="bottom-center">\n				<button type="submit" class="btn btn-primary">'+(null==(__t=i18n("LABEL_SEND_MESSAGE"))?"":__t)+"</button>\n			</div>\n\n        </form>\n    </div>\n\n\n</div>\n";return __p},"support-faq-items":function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+="<h1>"+(null==(__t=i18n("HEADING_SUPPORT"))?"":__t)+'</h1>\n<div class="row-fluid">\n\n    <div class="span3">\n        '+(null==(__t=partial("support-menu",{page:tag,tags:tags}))?"":__t)+'\n    </div>\n\n    <div class="span9">\n		<h2>'+(null==(__t=i18n("HEADING_SUPPORT_FAQ"))?"":__t)+" - "+(null==(__t=tag)?"":__t)+"</h2>\n		<hr />\n		<dl>\n            ",_.forEach(questions,function(a){__p+="\n                <dt>"+(null==(__t=a.question)?"":__t)+"</dt>\n                <dd>"+(null==(__t=a.answer)?"":__t)+"</dd>\n            "}),__p+="\n        </dl>\n    </div>\n</div>\n";return __p},"support-faq":function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+="<h1>"+(null==(__t=i18n("HEADING_SUPPORT"))?"":__t)+'</h1>\n<div class="row-fluid">\n\n    <div class="span3">\n        '+(null==(__t=partial("support-menu",{page:"faq",tags:tags}))?"":__t)+'\n    </div>\n\n    <div class="span9">\n		<h2>'+(null==(__t=i18n("HEADING_SUPPORT_FAQ"))?"":__t)+"</h2>\n		<p>"+(null==(__t=i18n("INFO_SUPPORT_FAQ_DESKTOP"))?"":__t)+"</p>\n		<hr />\n        ",tags&&(__p+="\n        <ul>\n            ",_.forEach(tags,function(a){__p+='\n            <li><a href="#support/faq/'+(null==(__t=a)?"":__t)+'">'+(null==(__t=a)?"":__t)+"</a></li>\n            "}),__p+="\n        </ul>\n        "),__p+="\n    </div>\n</div>\n";return __p},"support-rules":function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+="<h1>"+(null==(__t=i18n("HEADING_GAME_RULES"))?"":__t)+'</h1>\n<div class="row-fluid">\n\n	<div class="span3">\n		'+(null==(__t=partial("support-menu",{page:"rules",tags:tags}))?"":__t)+'\n	</div>\n	<div class="content span9">\n		',_.each(games,function(a,b){__p+='\n			<div class="row-fluid">\n				<h5>'+(null==(__t=i18n("GAME_CATEGORY_"+b.toUpperCase()))?"":__t)+"</h5>\n				<ul>\n					",_.forEach(a,function(a){__p+='\n						<li class="item">\n							<a class="game-url" data-game-id="'+(null==(__t=a.id)?"":__t)+'">\n								'+(null==(__t=a.attrs&&a.attrs.customTitle||a.name)?"":__t)+"\n							</a>\n						</li>\n					"}),__p+="\n				</ul>\n			</div>\n		"}),__p+="\n	</div>\n</div>\n\n\n";return __p},"support-touch":function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+="<h1>"+(null==(__t=i18n("HEADING_SUPPORT"))?"":__t)+'</h1>\n<div class="row-fluid">\n\n    <div class="span3">\n        '+(null==(__t=partial("support-menu",{page:"touch",tags:tags}))?"":__t)+'\n    </div>\n\n    <div class="span9">\n		<h2>'+(null==(__t=page.title)?"":__t)+"</h2>\n        "+(null==(__t=page.body)?"":__t)+"\n    </div>\n</div>\n\n";return __p},terms:function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+="<h1>"+(null==(__t=title)?"":__t)+"</h1>\n"+(null==(__t=body)?"":__t)+"\n\n";return __p},topbar:function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+='<div class="nav-wrapper">\n	<div id="nav-tab-bg" class="is-inactive"><span></span></div>\n	<ul class="nav">\n		<li><a data-view-name="support" href="#support/contact">'+(null==(__t=i18n("LABEL_SUPPORT"))?"":__t)+'</a></li>\n		<li><a data-view-name="bonuses" href="#bonuses">'+(null==(__t=i18n("LABEL_BONUSES"))?"":__t)+'</a></li>\n		<li><a data-view-name="news" href="#news">'+(null==(__t=i18n("LABEL_NEWS"))?"":__t)+"</a></li>\n	</ul>\n\n	",__p+=user?'\n		<ul class="nav second-nav">\n			<li><a data-view-name="deposit" href="#account/deposit">'+(null==(__t=i18n("LABEL_DEPOSIT"))?"":__t)+'</a></li>\n			<li><a data-view-name="balance" href="#account/balance">'+(null==(__t=i18n("LABEL_BALANCE"))?"":__t)+'</a></li>\n			<li><a data-view-name="withdrawal"  href="#account/withdrawal">'+(null==(__t=i18n("LABEL_WITHDRAWAL"))?"":__t)+'</a></li>\n			<li><a data-view-name="history" href="#account/history">'+(null==(__t=i18n("LABEL_HISTORY"))?"":__t)+'</a></li>\n			<li><a data-view-name="profile" href="#profile/contact">'+(null==(__t=i18n("LABEL_PROFILE"))?"":__t)+'</a></li>\n		</ul>\n\n		<div class="user-stats">\n			<div class="level-text">'+(null==(__t=i18n("LABEL_VIP"))?"":__t)+" "+(null==(__t=i18n("LABEL_LEVEL"))?"":__t)+'</div>\n			<div class="level-number">'+(null==(__t=user.vipLevel)?"":__t)+'</div>\n			<div class="progress">\n				<div class="progress-bar-wrapper">\n					<div class="progress-bar" style="width: '+(null==(__t=user.vipLevelCompletedPercentage||0)?"":__t)+'%;"></div>\n				</div>\n				<span class="progress-text">'+(null==(__t=Math.round(user.vipLevelCompletedPercentage||0))?"":__t)+'%</span>\n			</div>\n\n			<form class="form-inline login-form">\n				<a href="#logout" class="btn header-btn btn-secondary">'+(null==(__t=i18n("LABEL_LOG_OUT"))?"":__t)+"</a>\n			</form>\n		</div>\n	":'\n		<ul class="nav second-nav">\n			<li><a data-view-name="signup" href="#signup">'+(null==(__t=i18n("LABEL_CREATE_ACCOUNT"))?"":__t)+'</a></li>\n			<li><a data-view-name="lost-password" href="#lost-password">'+(null==(__t=i18n("LABEL_LOST_PASSWORD"))?"":__t)+'</a></li>\n		</ul>\n\n		<form class="form-inline login-form">\n			<fieldset class="control-group email fake-placeholder">\n				<label for="login.form.accountName" class="'+(null==(__t=accountName?"":"show-placeholder")?"":__t)+'">'+(null==(__t=i18n("LABEL_EMAIL"))?"":__t)+'</label>\n				<input id="login.form.accountName" name="accountName" type="text" class="input-small" value="'+(null==(__t=accountName)?"":__t)+'">\n			</fieldset>\n			<fieldset class="control-group password fake-placeholder">\n				<label for="login.form.password" class="show-placeholder">'+(null==(__t=i18n("LABEL_PASSWORD"))?"":__t)+'</label>\n				<input id="login.form.password"  name="password" type="password" class="input-small">\n			</fieldset>\n			<input type="submit" class="btn header-btn btn-secondary" value="'+(null==(__t=i18n("HEADER_BTN_LOGIN"))?"":__t)+'" />\n			<div class="login-loader"></div>\n		</form>\n	',__p+='\n</div>\n<div class="home-header">\n	<a href="#">\n		<h2 class="logo">Leo Vegas</h2>\n	</a>\n	<div class="game-search">\n		<input name="query" type="text" placeholder="'+(null==(__t=i18n("PLACEHOLDER_SEARCH_GAME"))?"":__t)+'" autocomplete="off">\n		<a class="icons search-icon">Search</a>\n		<div class="search-results"></div>\n	</div>\n	<ul class="game-categories">\n		<li class="home"><a href="#"><i class="icon-home"></i></a></li>\n		',_.forEach(categories,function(a){__p+='\n			<li><a class="category-link" href="#game/category/'+(null==(__t=a)?"":__t)+'" data-category-id="'+(null==(__t=a)?"":__t)+'">'+(null==(__t=i18n("GAME_CATEGORY_"+a.toUpperCase()))?"":__t)+"</a></li>\n		"}),__p+="\n	</ul>\n</div>\n";return __p},welcome:function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+='<div class="row-fluid">\n    <div class="span4">\n        <h2>'+(null==(__t=i18n("HEADING_WELCOME",{"{{firstName}}":user.firstName}))?"":__t)+"</h2>\n        <p>"+(null==(__t=i18n("INFO_WELCOME_DESKTOP"))?"":__t)+'</p>\n    </div>\n    <div class="span8">\n		<h4>'+(null==(__t=i18n("LABEL_BALANCE"))?"":__t)+'</h4>\n        <div class="box">\n            <a href="#account/deposit" class="btn btn-secondary pull-right">'+(null==(__t=i18n("LABEL_DEPOSIT"))?"":__t)+'</a>\n            <div class="amount">'+(null==(__t=str.formatMoney(user.fullBalance,user.currency,!0))?"":__t)+'</div>\n        </div>\n\n		<p><img width="479" height="24" src="'+(null==(__t=cdnUrl("img/layout/icon-welcome-payments.png"))?"":__t)+'" /></p>\n		\n		',promotions&&promotions.length&&(__p+='\n		<ul class="promotions">\n			',_.forEach(promotions,function(a){__p+="\n			<li>\n				",a.title&&(__p+="<h4>"+(null==(__t=a.title)?"":__t)+"</h4>"),__p+="\n				",a.imageFolder&&(__p+='<img src="'+(null==(__t=a.images.desktopWelcome)?"":__t)+'" />'),__p+="\n				",a.text&&(__p+=""+(null==(__t=a.text)?"":__t)),__p+="\n				",a.button&&(__p+='<a href="'+(null==(__t=a.action)?"":__t)+'" class="btn btn-secondary">'+(null==(__t=a.button)?"":__t)+"</a>"),__p+="\n			</li>\n			"}),__p+="\n		</ul>\n		"),__p+="\n\n		",latestGame&&(__p+='\n		<div class="gametips">\n			<h4>'+(null==(__t=i18n("LABEL_LAST_PLAYED"))?"":__t)+'</h4>\n			<ul class="gametips">\n				<li>\n					<a class="btn btn-secondary btn-small pull-right play-btn" href="#game/'+(null==(__t=latestGame.id)?"":__t)+'">'+(null==(__t=i18n("LABEL_PLAY_GAME"))?"":__t)+'<i class="icon-play"></i></a>\n					<div class="game-media">\n						<a class="game-image" href="#game/'+(null==(__t=latestGame.id)?"":__t)+'">\n							<img src="'+(null==(__t=latestGame.images.desktop)?"":__t)+'" alt="'+(null==(__t=latestGame.name)?"":__t)+'" />\n						</a>\n					</div>\n					<div class="game-description">\n						<h5><a href="#game/'+(null==(__t=latestGame.id)?"":__t)+'">'+(null==(__t=latestGame.name)?"":__t)+"</a></h5>\n						<p>"+(null==(__t=latestGame.description)?"":__t)+"</p>\n					</div>\n				</li>\n			</ul>\n		</div>\n		"),__p+="\n		\n		",gameTips&&gameTips.length&&(__p+='\n		<div class="gametips">\n			<h4>'+(null==(__t=i18n("LABEL_GAME_TIPS"))?"":__t)+'</h4>\n			<ul class="gametips">\n				',_.forEach(gameTips,function(a){__p+='\n				<li>\n					<a class="btn btn-secondary btn-small pull-right play-btn" href="#game/'+(null==(__t=a.id)?"":__t)+'">'+(null==(__t=i18n("LABEL_PLAY_GAME"))?"":__t)+'<i class="icon-play"></i></a>\n					<div class="game-media">\n						<a class="game-image" href="#game/'+(null==(__t=a.id)?"":__t)+'">\n							<img src="'+(null==(__t=a.images.desktop)?"":__t)+'" alt="'+(null==(__t=a.name)?"":__t)+'" />\n						</a>\n					</div>\n					<div class="game-description">\n						<h5><a href="#game/'+(null==(__t=a.id)?"":__t)+'">'+(null==(__t=a.name)?"":__t)+"</a></h5>\n						<p>"+(null==(__t=a.description)?"":__t)+"</p>\n					</div>\n				</li>\n				"}),__p+="\n			</ul>\n		</div>\n		"),__p+="\n		\n    </div>\n</div>\n";return __p}});var swfobject=function(){function a(){if(!R){try{var a=K.getElementsByTagName("body")[0].appendChild(q("span"));a.parentNode.removeChild(a)}catch(b){return}R=!0;for(var c=N.length,d=0;c>d;d++)N[d]()}}function b(a){R?a():N[N.length]=a}function c(a){if(typeof J.addEventListener!=C)J.addEventListener("load",a,!1);else if(typeof K.addEventListener!=C)K.addEventListener("load",a,!1);else if(typeof J.attachEvent!=C)r(J,"onload",a);else if("function"==typeof J.onload){var b=J.onload;J.onload=function(){b(),a()}}else J.onload=a}function d(){M?e():f()}function e(){var a=K.getElementsByTagName("body")[0],b=q(D);b.setAttribute("type",G);var c=a.appendChild(b);if(c){var d=0;!function(){if(typeof c.GetVariable!=C){var e=c.GetVariable("$version");e&&(e=e.split(" ")[1].split(","),U.pv=[parseInt(e[0],10),parseInt(e[1],10),parseInt(e[2],10)])}else if(10>d)return d++,void setTimeout(arguments.callee,10);a.removeChild(b),c=null,f()}()}else f()}function f(){var a=O.length;if(a>0)for(var b=0;a>b;b++){var c=O[b].id,d=O[b].callbackFn,e={success:!1,id:c};if(U.pv[0]>0){var f=p(c);if(f)if(!s(O[b].swfVersion)||U.wk&&U.wk<312)if(O[b].expressInstall&&h()){var k={};k.data=O[b].expressInstall,k.width=f.getAttribute("width")||"0",k.height=f.getAttribute("height")||"0",f.getAttribute("class")&&(k.styleclass=f.getAttribute("class")),f.getAttribute("align")&&(k.align=f.getAttribute("align"));for(var l={},m=f.getElementsByTagName("param"),n=m.length,o=0;n>o;o++)"movie"!=m[o].getAttribute("name").toLowerCase()&&(l[m[o].getAttribute("name")]=m[o].getAttribute("value"));i(k,l,c,d)}else j(f),d&&d(e);else u(c,!0),d&&(e.success=!0,e.ref=g(c),d(e))}else if(u(c,!0),d){var q=g(c);q&&typeof q.SetVariable!=C&&(e.success=!0,e.ref=q),d(e)}}}function g(a){var b=null,c=p(a);if(c&&"OBJECT"==c.nodeName)if(typeof c.SetVariable!=C)b=c;else{var d=c.getElementsByTagName(D)[0];d&&(b=d)}return b}function h(){return!S&&s("6.0.65")&&(U.win||U.mac)&&!(U.wk&&U.wk<312)}function i(a,b,c,d){S=!0,y=d||null,z={success:!1,id:c};var e=p(c);if(e){"OBJECT"==e.nodeName?(w=k(e),x=null):(w=e,x=c),a.id=H,(typeof a.width==C||!/%$/.test(a.width)&&parseInt(a.width,10)<310)&&(a.width="310"),(typeof a.height==C||!/%$/.test(a.height)&&parseInt(a.height,10)<137)&&(a.height="137"),K.title=K.title.slice(0,47)+" - Flash Player Installation";var f=U.ie&&U.win?"ActiveX":"PlugIn",g="MMredirectURL="+J.location.toString().replace(/&/g,"%26")+"&MMplayerType="+f+"&MMdoctitle="+K.title;if(typeof b.flashvars!=C?b.flashvars+="&"+g:b.flashvars=g,U.ie&&U.win&&4!=e.readyState){var h=q("div");c+="SWFObjectNew",h.setAttribute("id",c),e.parentNode.insertBefore(h,e),e.style.display="none",function(){4==e.readyState?e.parentNode.removeChild(e):setTimeout(arguments.callee,10)}()}l(a,b,c)}}function j(a){if(U.ie&&U.win&&4!=a.readyState){var b=q("div");a.parentNode.insertBefore(b,a),b.parentNode.replaceChild(k(a),b),a.style.display="none",function(){4==a.readyState?a.parentNode.removeChild(a):setTimeout(arguments.callee,10)}()}else a.parentNode.replaceChild(k(a),a)}function k(a){var b=q("div");if(U.win&&U.ie)b.innerHTML=a.innerHTML;else{var c=a.getElementsByTagName(D)[0];if(c){var d=c.childNodes;if(d)for(var e=d.length,f=0;e>f;f++)1==d[f].nodeType&&"PARAM"==d[f].nodeName||8==d[f].nodeType||b.appendChild(d[f].cloneNode(!0))}}return b}function l(a,b,c){var d,e=p(c);if(U.wk&&U.wk<312)return d;if(e)if(typeof a.id==C&&(a.id=c),U.ie&&U.win){var f="";for(var g in a)a[g]!=Object.prototype[g]&&("data"==g.toLowerCase()?b.movie=a[g]:"styleclass"==g.toLowerCase()?f+=' class="'+a[g]+'"':"classid"!=g.toLowerCase()&&(f+=" "+g+'="'+a[g]+'"'));var h="";for(var i in b)b[i]!=Object.prototype[i]&&(h+='<param name="'+i+'" value="'+b[i]+'" />');e.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+f+">"+h+"</object>",P[P.length]=a.id,d=p(a.id)}else{var j=q(D);j.setAttribute("type",G);for(var k in a)a[k]!=Object.prototype[k]&&("styleclass"==k.toLowerCase()?j.setAttribute("class",a[k]):"classid"!=k.toLowerCase()&&j.setAttribute(k,a[k]));for(var l in b)b[l]!=Object.prototype[l]&&"movie"!=l.toLowerCase()&&m(j,l,b[l]);e.parentNode.replaceChild(j,e),d=j}return d}function m(a,b,c){var d=q("param");d.setAttribute("name",b),d.setAttribute("value",c),a.appendChild(d)}function n(a){var b=p(a);b&&"OBJECT"==b.nodeName&&(U.ie&&U.win?(b.style.display="none",function(){4==b.readyState?o(a):setTimeout(arguments.callee,10)}()):b.parentNode.removeChild(b))}function o(a){var b=p(a);if(b){for(var c in b)"function"==typeof b[c]&&(b[c]=null);b.parentNode.removeChild(b)}}function p(a){var b=null;try{b=K.getElementById(a)}catch(c){}return b}function q(a){return K.createElement(a)}function r(a,b,c){a.attachEvent(b,c),Q[Q.length]=[a,b,c]}function s(a){var b=U.pv,c=a.split(".");return c[0]=parseInt(c[0],10),c[1]=parseInt(c[1],10)||0,c[2]=parseInt(c[2],10)||0,b[0]>c[0]||b[0]==c[0]&&b[1]>c[1]||b[0]==c[0]&&b[1]==c[1]&&b[2]>=c[2]?!0:!1}function t(a,b,c,d){if(!U.ie||!U.mac){var e=K.getElementsByTagName("head")[0];if(e){var f=c&&"string"==typeof c?c:"screen";if(d&&(A=null,B=null),!A||B!=f){var g=q("style");g.setAttribute("type","text/css"),g.setAttribute("media",f),A=e.appendChild(g),U.ie&&U.win&&typeof K.styleSheets!=C&&K.styleSheets.length>0&&(A=K.styleSheets[K.styleSheets.length-1]),B=f}U.ie&&U.win?A&&typeof A.addRule==D&&A.addRule(a,b):A&&typeof K.createTextNode!=C&&A.appendChild(K.createTextNode(a+" {"+b+"}"))}}}function u(a,b){if(T){var c=b?"visible":"hidden";R&&p(a)?p(a).style.visibility=c:t("#"+a,"visibility:"+c)}}function v(a){var b=/[\\\"<>\.;]/,c=null!=b.exec(a);return c&&typeof encodeURIComponent!=C?encodeURIComponent(a):a}{var w,x,y,z,A,B,C="undefined",D="object",E="Shockwave Flash",F="ShockwaveFlash.ShockwaveFlash",G="application/x-shockwave-flash",H="SWFObjectExprInst",I="onreadystatechange",J=window,K=document,L=navigator,M=!1,N=[d],O=[],P=[],Q=[],R=!1,S=!1,T=!0,U=function(){var a=typeof K.getElementById!=C&&typeof K.getElementsByTagName!=C&&typeof K.createElement!=C,b=L.userAgent.toLowerCase(),c=L.platform.toLowerCase(),d=/win/.test(c?c:b),e=/mac/.test(c?c:b),f=/webkit/.test(b)?parseFloat(b.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,g=!1,h=[0,0,0],i=null;if(typeof L.plugins!=C&&typeof L.plugins[E]==D)i=L.plugins[E].description,!i||typeof L.mimeTypes!=C&&L.mimeTypes[G]&&!L.mimeTypes[G].enabledPlugin||(M=!0,g=!1,i=i.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),h[0]=parseInt(i.replace(/^(.*)\..*$/,"$1"),10),h[1]=parseInt(i.replace(/^.*\.(.*)\s.*$/,"$1"),10),h[2]=/[a-zA-Z]/.test(i)?parseInt(i.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(typeof J.ActiveXObject!=C)try{var j=new ActiveXObject(F);j&&(i=j.GetVariable("$version"),i&&(g=!0,i=i.split(" ")[1].split(","),h=[parseInt(i[0],10),parseInt(i[1],10),parseInt(i[2],10)]))}catch(k){}return{w3:a,pv:h,wk:f,ie:g,win:d,mac:e}}();!function(){U.w3&&((typeof K.readyState!=C&&"complete"==K.readyState||typeof K.readyState==C&&(K.getElementsByTagName("body")[0]||K.body))&&a(),R||(typeof K.addEventListener!=C&&K.addEventListener("DOMContentLoaded",a,!1),U.ie&&U.win&&(K.attachEvent(I,function(){"complete"==K.readyState&&(K.detachEvent(I,arguments.callee),a())}),J==top&&!function(){if(!R){try{K.documentElement.doScroll("left")}catch(b){return void setTimeout(arguments.callee,0)}a()}}()),U.wk&&!function(){return R?void 0:/loaded|complete/.test(K.readyState)?void a():void setTimeout(arguments.callee,0)}(),c(a)))}(),function(){U.ie&&U.win&&window.attachEvent("onunload",function(){for(var a=Q.length,b=0;a>b;b++)Q[b][0].detachEvent(Q[b][1],Q[b][2]);for(var c=P.length,d=0;c>d;d++)n(P[d]);for(var e in U)U[e]=null;U=null;for(var f in swfobject)swfobject[f]=null;swfobject=null})}()}return{registerObject:function(a,b,c,d){if(U.w3&&a&&b){var e={};e.id=a,e.swfVersion=b,e.expressInstall=c,e.callbackFn=d,O[O.length]=e,u(a,!1)}else d&&d({success:!1,id:a})},getObjectById:function(a){return U.w3?g(a):void 0},embedSWF:function(a,c,d,e,f,g,j,k,m,n){var o={success:!1,id:c};U.w3&&!(U.wk&&U.wk<312)&&a&&c&&d&&e&&f?(u(c,!1),b(function(){d+="",e+="";var b={};if(m&&typeof m===D)for(var p in m)b[p]=m[p];b.data=a,b.width=d,b.height=e;var q={};if(k&&typeof k===D)for(var r in k)q[r]=k[r];if(j&&typeof j===D)for(var t in j)typeof q.flashvars!=C?q.flashvars+="&"+t+"="+j[t]:q.flashvars=t+"="+j[t];if(s(f)){var v=l(b,q,c);b.id==c&&u(c,!0),o.success=!0,o.ref=v}else{if(g&&h())return b.data=g,void i(b,q,c,n);u(c,!0)}n&&n(o)})):n&&n(o)},switchOffAutoHideShow:function(){T=!1},ua:U,getFlashPlayerVersion:function(){return{major:U.pv[0],minor:U.pv[1],release:U.pv[2]}},hasFlashPlayerVersion:s,createSWF:function(a,b,c){return U.w3?l(a,b,c):void 0},showExpressInstall:function(a,b,c,d){U.w3&&h()&&i(a,b,c,d)},removeSWF:function(a){U.w3&&n(a)},createCSS:function(a,b,c,d){U.w3&&t(a,b,c,d)},addDomLoadEvent:b,addLoadEvent:c,getQueryParamValue:function(a){var b=K.location.search||K.location.hash;if(b){if(/\?/.test(b)&&(b=b.split("?")[1]),null==a)return v(b);for(var c=b.split("&"),d=0;d<c.length;d++)if(c[d].substring(0,c[d].indexOf("="))==a)return v(c[d].substring(c[d].indexOf("=")+1))}return""},expressInstallCallback:function(){if(S){var a=p(H);a&&w&&(a.parentNode.replaceChild(w,a),x&&(u(x,!0),U.ie&&U.win&&(w.style.display="block")),y&&y(z)),S=!1}}}}();!function(a){"use strict";var b=a.APP;b.register("view.account-balance",["view","template"],function(a,c){var d=b._,e=a.extend({name:"account-balance",template:c("account-balance"),options:{duration:300,easing:"ease-out"},events:{"click div.bonus a.btn":function(a){a.preventDefault();var b=this.model.get("bonusConvertedPercentage"),c=0,e=this.$("div.bonus .progress-wrapper"),f=this.$("div.bonus .bonus-percentage"),g=this.$("div.bonus .progressBar");0!==f.height()?this.transition(f.get(0),{height:0},{duration:this.options.duration,easing:this.options.easing,callback:function(){g.css("width","0px")}}):(c=Math.round(e.width()*(b/100)),this.transition(f.get(0),{height:"70px"},{duration:this.options.duration,easing:this.options.easing,callback:d.bind(function(){this.transition(g.get(0),{width:c+"px"},{duration:this.options.duration,easing:this.options.easing})},this)}))},"click div.pending a.btn":function(a){a.preventDefault(),this.trigger("cancelpending",this)}},initialize:function(){this.model.on("change",this.render,this)},destroy:function(){this.model.off("change",this.render,this)},render:function(){var a=d.defaults(d.clone(this.state),{state:this.state,result:this.options.result});a.data=this.model.toJSON(),this.el.innerHTML=this.template(a)}});return e})}(this),function(a){"use strict";var b=a.APP;b.register("view.account-deposit-form",["view.form","template","string-helpers","i18n"],function(a,c,d,e){var f=b._,g=b.win,h=b.$,i=a.extend({name:"account-deposit-form",template:c("account-deposit-form"),events:f.defaults({"click a.info":function(a){a.preventDefault(),b.view.overlayMessage({title:e("LABEL_CREDIT_CARD_VALIDATION_NUMBER"),message:e("INFO_ACCOUNT_DEPOSIT_FORM_CVC_CODE")})},"change fieldset.validThru select:not(.has-changed)":function(a){var b=this.$(a.currentTarget),c=b.closest("fieldset"),d=c.find("select[name=validYear]"),e=c.find("select[name=validMonth]");d.val()&&e.val()&&(d.addClass("has-changed"),e.addClass("has-changed"),this.validate("validThru"))},"keypress input[name=creditCardNumber]":function(a){var b=this.$(a.currentTarget);f.defer(function(){var c=a.currentTarget.selectionStart,e=(b.val().substr(),d.formatCreditCardNumber(b.val()));b.val(e),b.focus(),e.length===c+1&&(c+=1),a.currentTarget.setSelectionRange&&a.currentTarget.setSelectionRange(c,c)})}},a.prototype.events),validators:{creditCardNumber:{events:"blur input[name=creditCardNumber]",validators:function(a){return this.model.validate("creditCardNumber",a)}},creditCardValidationNumber:{events:"blur input[name=creditCardValidationNumber]",validators:function(a){return this.model.validate("creditCardValidationNumber",a)}},validThru:{events:"change fieldset.validThru select.has-changed",value:function(){var a=parseInt(this.$("select[name=validMonth]").val(),10),b=parseInt(this.$("select[name=validYear]").val(),10),c={year:b,month:a};return c},validators:function(a){return this.model.validate("validThru",a)}}},initialize:function(){this.on("submit",this._onSubmit,this),this.state.today=new Date},destroy:function(){},addHtmlToIframeAndSubmit:function(a,b){var c=g.document.createElement("iframe"),d=null;return c.style.cssText="width:600px; height:600px;",c.onload=function(){var a=c.contentWindow.document.getElementsByTagName("form")[0];a&&(c.onload=null,a.submit())},a.appendChild(c),d=c.contentDocument,d.open(),d.write(b),d.close(),c},createResponseStep:function(a,b){var d,e;"GET"===b.method?(d=g.document.createElement(b.container||"iframe"),d.src=b.url,d.style.cssText="width:600px; height:600px;",a.appendChild(d)):(e=c("deposit-response-form")({action:b.url,method:b.method,parameters:b.parameters}),this.addHtmlToIframeAndSubmit(a,e))},handleDepositResponse:function(a){var b=h("div.iframe-container").get(0);this.$("form").addClass("hide"),f.isString(a)?this.addHtmlToIframeAndSubmit(b,a):a.html?this.addHtmlToIframeAndSubmit(b,a.html):a.url&&this.createResponseStep(b,a),this.hideLoading()},_onSubmit:function(a,c,d){return b.log("AccountDepositFormView::_onSubmit",arguments),c?void this.hideLoading():void this.trigger("deposit-form",this,d.creditCardNumber,d.validYear+d.validMonth,d.creditCardValidationNumber,d.creditCardHolder)},render:function(){var a=f.defaults(f.clone(this.state),{state:this.state,error:{},images:this.options.method.get("images"),promotions:this.options.promotions&&this.options.promotions.toJSON()||[],contract:!!this.options.contract});a.data=this.model.toJSON(),this.options.contract&&(a.data.creditCardNumber=this.options.contract.get("displayName"),a.images=[this.options.contract.get("type")]),this.el.innerHTML=this.template(a)}});return i})}(this),function(a){"use strict";var b=a.APP;b.register("view.account-deposit-iframe",["view","template"],function(a,b){var c=a.extend({name:"account-deposit-iframe",template:b("account-deposit-iframe"),initialize:function(){this.on("render",this._onRender,this)},destroy:function(){},_onRender:function(){var a=this.$("div.iframe-load-cover");this.$("iframe").on("load",function(){a.remove()})},render:function(){var a={redirectUrl:this.options.redirectUrl,promotions:this.options.promotions&&this.options.promotions.toJSON()||[]};this.el.innerHTML=this.template(a)}});return c})}(this),function(a){"use strict";var b=a.APP;b.register("view.account-deposit",["view.form","template","user","validate"],function(a,c,d,e){var f=b._,g="__NEW__",h=a.extend({name:"account-deposit",template:c("account-deposit"),events:{"change select":function(a){{var b=this.$(a.target),c=b.parent("li");c.find("button.secondary"),c.val()}},"click div.quick-amounts button":function(a){a.preventDefault();var b=this.$(a.currentTarget),c=b.closest("li"),d=parseInt(b.val(),10),e=this.collection.at(this._$lis.index(c)),f=c.find("select").val()||!1;this._deposit(d,e,f,!0)},"keyup fieldset.amount input":function(a){13===a.which&&(a.preventDefault(),this._onSubmit(a))},"click fieldset.amount button":function(a){a.preventDefault(),this._onSubmit(a)},"click button.btn-next":function(a){a.preventDefault();var b=this.$(a.currentTarget).closest("li"),c=this.collection.at(this._$lis.index(b));this._deposit(null,c)}},validators:function(){var a={};return this.collection.forEach(function(b){var c=b.get("minAmount"),d=b.get("maxAmount");a[b.id]={events:"blur input[name=amount-"+b.id+"]",value:function(a){return parseInt(a,10)},validators:{ERROR_AMOUNT_EMPTY:e.number,ERROR_AMOUNT_TOO_LOW:function(a){return a>=c},ERROR_AMOUNT_TOO_HIGH:function(a){return d>=a}}}}),a},_onSubmit:function(a){var b=this.$(a.currentTarget).closest("li"),c=parseInt(b.find("input").val(),10),d=this.collection.at(this._$lis.index(b)),e=b.find("select").val(),g=this.validators()[d.id].validators,h=!1;f.forEach(g,function(a){a(c)===!1&&(h=!0)}),h||this._deposit(c,d,e)},_deposit:function(a,b,c,d){var e,f=b&&b.get("contracts");c&&c!==g&&(e=f&&f.get(c)),b&&this.trigger("deposit",this,a,b,e,!!d)},render:function(){var a=f.defaults(f.clone(this.state),{methods:this.collection.toJSON(),promotions:this.options.promotions&&this.options.promotions.toJSON()||[],newlyRegistered:this.options.newlyRegistered,user:d.toJSON()});this.el.innerHTML=this.template(a),this._$lis=this.$("li")}});return h})}(this),function(a){"use strict";{var b=a.APP;b._}b.register("view.account-history",["view","template","i18n"],function(a,c){var d=b._,e=a.extend({name:"account-history",template:{game:c("account-history-game"),account:c("account-history-account")},events:{"click a.show-more":function(a){a.stopImmediatePropagation(),this._fetchMoreTransactions()}},initialize:function(){this.collection.on("add",this._renderAdded,this)},_fetchMoreTransactions:function(){if(this.collection.length>0){var a=this.collection.last().id;this.$("a.show-more").addClass("disabled"),this.loading(),this.collection.fetch({remove:!1,add:!0,data:{max:this.collection.pageSize(),transactionRef:a},success:d.bind(function(b){a===b.last().id?this.$("a.show-more").hide():this.$("a.show-more").removeClass("disabled"),this.hideLoading()
},this)})}},_renderAdded:function(){this.render()},render:function(){var a={showMore:this.collection.length%this.collection.pageSize(this.collection.options.type)===0,transactions:this.collection.toJSON()};this.el.innerHTML=this.template[this.collection.options.type](a)}});return e})}(this),function(a){"use strict";var b=a.APP;b.register("view.account-withdrawal-iframe",["view","template"],function(a,c){var d=(b._,a.extend({name:"account-withdrawal-iframe",template:c("account-withdrawal-iframe"),initialize:function(){},destroy:function(){},render:function(){var a={redirectUrl:this.options.redirectUrl};this.el.innerHTML=this.template(a)}}));return d})}(this),function(a){"use strict";var b=a.APP;b.register("view.account-withdrawal",["view.form","template","validate"],function(a,c,d){var e=b._,f=a.extend({name:"account-withdrawal",template:c("account-withdrawal"),events:e.defaults({"keyup fieldset.amount input":function(a){13===a.which&&(a.preventDefault(),this._onSubmit(a))},"click fieldset.amount button":function(a){a.preventDefault(),this._onSubmit(a)},"click button.btn-next":function(a){a.preventDefault();var b=this.$(a.currentTarget),c=b.closest("li"),d=this._$lis.index(c),e=this.collection.at(d);this.trigger("withdraw",this,null,e)}},a.prototype.events),validators:function(){var a={},b=this.options.user.get("balance");if(this.collection)return this.collection.forEach(function(c){var e=c.get("minAmount"),f=c.get("maxAmount");a[c.id]={events:"blur input[name=amount-"+c.id+"]",validators:{ERROR_AMOUNT_EMPTY:d.number,ERROR_AMOUNT_TOO_LOW:function(a){return a>=e},ERROR_AMOUNT_TOO_HIGH:function(a){return b>=a&&f>=a}}}}),a},_onSubmit:function(a){var b,c,d=this.$(a.currentTarget),f=d.closest("li"),g=this._$lis.index(f),h=this.collection.at(g),i=h&&h.get("contracts"),j=f.find("select").val(),k=f.find("input").val(),l=i&&i.get(j),m=this.validators();h&&h.id&&(b=m&&m[h.id]&&m[h.id].validators||{},e.forEach(b,function(a){return a(k)===!1?(c=!0,!0):void 0})),!c&&h&&this.trigger("withdraw",this,k,h,l)},render:function(){var a={missingAddress:this.options.missingAddress,user:this.options.user.toJSON(),methods:this.collection&&this.collection.toJSON(),fee:this.options.fee},b=!0;this.collection&&this.collection.each(e.bind(function(a){var c=this.options.user.get("balance"),d=a.get("minAmount");c>=d&&(b=!1)},this)),a.lowBalance=b,this.el.innerHTML=this.template(a),this._$lis=this.$("li")}});return f})}(this),function(a){"use strict";var b=a.APP,c=b.$;b.register("view.ad-for-free-play",["view","template"],function(a,b){var d=a.extend({name:"ad-for-free-play",template:b("ad-for-free-play"),render:function(){var a={promotions:this.options.promotions,gameTips:this.options.gameTips};this.el.innerHTML=this.template(a),this.attach(),c(this.el).parents("div.modal-container-inner").addClass("small")}});return d})}(this),function(a){"use strict";var b=a.APP;b.register("view.address-results",["view","template"],function(a,b){var c=a.extend({name:"address-results",template:b("address-results"),events:{"click .confirm:not(.disabled)":function(){var a=this.$("select").val();a&&this.trigger("confirm",this,a)},"click .dismiss":function(){this.trigger("dismiss",this)},"change select":function(a){var b=this.$(a.target).val();b?this._$confirmButton.removeClass("disabled"):this._$confirmButton.addClass("disabled")}},render:function(){var a={addresses:this.options.addresses||[]};this.el.innerHTML=this.template(a),this._$confirmButton=this.$(".confirm")}});return c})}(this),function(a){"use strict";var b=a.APP;b.register("view.application",["view","template","view.topbar","view.chat","view.theme","games","bootstrap"],function(a,c,d,e,f,g){var h=b.$,i=b._,j=b.$win,k=b.doc,l=b.$doc,m=(h("body"),b.win.setTimeout),n=a.extend({name:"application",SHOW_CURTAIN_CLASS_NAME:"show-curtain-container",SHOW_PROMPT_CLASS_NAME:"show-prompt-container",SHOW_MODAL_CLASS_NAME:"show-modal-container",template:c("application"),options:{duration:400,curtainDuration:400,curtainSlideDuration:400,modalDuration:250,easing:"ease-out"},_overlayVisible:!1,events:{"click .curtain-container-footer button":function(){this.isCurtainVisible()&&this.showMain()},"click div.language a":function(a){a.preventDefault(),this.trigger("change-language")},"click li.terms a":function(a){a.preventDefault(),this.trigger("terms")},"click div.prompt-container button":function(){this.hidePrompt()},"click div.prompt-container":function(){this.hidePrompt()},"click div.prompt-container-inner":function(a){a.stopPropagation()},"click div.modal-container a":function(){this.hideModal()},"click div.modal-container":function(){this.hideModal()},"click div.modal-container-inner":function(a){a.stopPropagation()}},initialize:function(){this._curtainVisible=!1,this.on("curtain:destroy",this.hideCurtain,this),this.on("desktopmodal:destroy",this.hideModal,this),this.on("show:main",this._onMainShow,this),this.on("shown:main",this._onMainShown,this),this.on("show:curtain",this._onCurtainShow,this),this.on("shown:curtain",this._onCurtainShown,this),this.on("hide:curtain",this._onCurtainHide,this),this.on("hidden:curtain",this._onCurtainHidden,this),j.on("resize.curtain",i.bind(this._curtainHeight,this,!1)),this.on("show:overlay-message show:desktopmodal show:prompt show:curtain topbar:show:overlay-message",this._onShowOverlay,this),this.on("hide:overlay-message hide:desktopmodal hide:prompt hide:curtain topbar:hide:overlay-message",this._onHideOverlay,this)},destroy:function(){j.off("resize.curtain")},_onShowOverlay:function(){this._overlayVisible=!0,this._mainView&&this._mainView.trigger("show:overlay",this._mainView)},_onHideOverlay:function(){this._overlayVisible=!1,this._mainView&&this._mainView.trigger("hide:overlay",this._mainView)},_onCurtainShow:function(){k.body.style.overflow="hidden"},_onCurtainShown:function(){},_onCurtainHide:function(){k.body.style.overflow=""},_onCurtainHidden:function(){},_onMainShow:function(a,b){b=b||{},this.showMain.ready=!this._mainView,this.isCurtainVisible()&&this.hideCurtain()},_onMainShown:function(a,b){b=b||{},this.showMain.ready=!0},_curtainHeight:function(a){if(this._$curtain.get(0).style.height=a?"":"auto",this._$curtainBody.get(0).style.height=a?"":"auto",!a){var b=j.height(),c=(this._$curtainBody.outerHeight(),this._$curtainFooter.outerHeight()),d=50;this._$curtain.css({height:b-d}),this._$curtainBody.css({height:b-c-d})}},isCurtainVisible:function(){return!!this._curtainVisible},showCurtain:function(c,d,e){b.log("SHOW CURTAIN",c,d,e),e=i.defaults(e||{},{slide:!0});var f,g,j,k,l=this._curtainView,m=i.bind(function(){this.showCurtain.ready=!0,e.silent||(this._curtainView&&this._curtainView.trigger("shown",this._curtainView,this),this.trigger("shown:curtain",this,e));var a=this.showCurtain.stack.shift();a&&this.showCurtain.apply(this,a)},this),n=i.bind(function(){l&&(l.destroy(),l=null),g.style.width="",g.style.left="",this._curtainView.el.style[h.cssProps.float]="",this._curtainView.el.style.width="",m()},this);return this.$el.addClass(this.SHOW_CURTAIN_CLASS_NAME),c?(c instanceof a?f=c:(d=i.extend(d||{},{container:this._$curtainBody}),f=this.createView(c,d,"curtain:"+c.prototype.name)),this.showCurtain.ready&&this.hideCurtain.ready?(this.showCurtain.ready=!1,this._topbarView.updateNavTab(e.route),e.silent||this.trigger("show:curtain",this,e),this._curtainView=f,this._curtainView.render(),f.attach({prepend:e.parent}),g=this._$curtainBody.get(0),l&&e.slide?(j=this._$curtainBody.width(),k=this._$curtainBody.outerWidth(),l.$el.css({"float":e.parent?"right":"left",width:j}),this._curtainView.$el.css({"float":e.parent?"left":"right",width:j-this._scrollBarWidth}),this._curtainVisible=!0,g.style.width=2*k+"px",g.style.left=(e.parent?-k:0)+"px",this._$curtainBody.scrollTop(0),this.transition(g,{left:(e.parent?0:-k)+"px"},{duration:this.options.curtainDuration,easing:this.options.easing,reset:!0,callback:n})):this.isCurtainVisible()?n():(this._curtainHeight(),this._$curtain.css({top:-this._$curtain.height()}),this._curtainVisible=!0,this.transition(this._$curtain.get(0),{top:0},{duration:this.options.curtainDuration,easing:this.options.easing,callback:n})),this._curtainView):(this.showCurtain.stack.push([f,d,e]),f)):(e.silent||this.trigger("show:curtain",this,e),m(),this._curtainView)},hideCurtain:function(a){if(!this.isCurtainVisible())return this;a=a||{},this.showCurtain.stack=[],this.hideCurtain.ready=!1,a.silent||(this.trigger("hide:curtain",this),this._topbarView.trigger("hide:curtain")),this._curtainVisible=!1;var b=this._$curtain.height();return this.transition(this._$curtain.get(0),{top:-b+"px"},{duration:this.options.curtainDuration,easing:this.options.easing,callback:i.bind(function(){if(!this.isCurtainVisible()){this._curtainView&&(this._curtainView.destroy(),this._curtainView=null),this._curtainHeight(!0),this.$el.removeClass(this.SHOW_CURTAIN_CLASS_NAME),this.hideCurtain.ready=!0;var b=this.showCurtain.stack.shift();b&&this.showCurtain.apply(this,b),a.silent||this.trigger("hidden:curtain",this)}},this)}),this},isPromptVisible:function(){return!!this._promptVisible},showPrompt:function(a,b,c){c=c||{},this.isPromptVisible()||c.silent||this.trigger("show:prompt",this),this.$el.addClass(this.SHOW_PROMPT_CLASS_NAME);var d,e=this._$promptInner.find(".prompt-container-body");return e.html(a),b&&(i.isString(b)&&(b={label:b}),this._$promptButton&&this._$promptButton.remove(),this._$promptButton=this.$('<button class="btn btn-primary btn-block"></button>'),this._$promptButton.text(b.label),this._$promptInner.find("button").before(this._$promptButton),b.callback&&this._$promptInner.find("button").one("click",i.bind(function(a){b.callback(a.target===this._$promptButton.get(0))},this))),d=this._$promptInner.height(),this._$promptInner.css({marginBottom:"-"+d/2+"px",bottom:"50%"}),this._promptVisible=!0,this.transition(this._$prompt.get(0),{opacity:1},{duration:this.options.modalDuration,easing:this.options.easing,callback:i.bind(function(){this._$promptInner.attr("tabindex",Math.round(1e4*Math.random())),this._$promptInner.focus(),c.silent||this.trigger("shown:prompt",this)},this)}),this},hidePrompt:function(a){a=a||{};var b=this._$prompt.get(0);return this.isPromptVisible()?(a.silent||this.trigger("hide:prompt",this),this._promptVisible=!1,this.transition(b,{opacity:0},{duration:this.options.modalDuration,easing:this.options.easing,callback:i.bind(function(){this._$promptInner.attr("tabindex",""),this._$promptInner.find("button").off("click"),this._$promptButton&&(this._$promptButton.remove(),this._$promptButton=null),this.$el.removeClass(this.SHOW_PROMPT_CLASS_NAME),b.style.opacity="",a.silent||this.trigger("hidden:prompt",this)},this)}),this):this},showMain:function(c,d,e){b.log("ApplicationView::showMain",c,d,e),e=e||{};var f,g=this._mainView,h=e.back?e.oldScrollTop||0:0,j=i.bind(function(){this.off("show:curtain",j),this.off("hidden:curtain",j),this._mainView.trigger("shown",this._mainView,this),this.trigger("shown:main",this,e)},this);return c?(c instanceof a?f=c:(d=i.extend(d||{},{container:this._$mainBody,isOverlayVisible:i.bind(function(){return!!this._overlayVisible},this)}),f=this.createView(c,d,"main:"+c.prototype.name)),this.showMain.ready?(e.silent||this.trigger("show:main",this,e),this._mainView=f,this._themeView.setTheme(f.options.theme||this.options.theme),this._mainView.render(),g?(g.destroy(),g=null,this._mainView.attach(),l.scrollTop(h),j()):(this._mainView.el.style.opacity=0,this._mainView.attach(),this.transition(this._mainView.el,{opacity:1},{duration:this.options.duration,easing:this.options.easing,callback:j},this)),this._mainView):(this.once("shown:main",function(){this.showMain(f,null,e)},this),f)):(e.silent||this.trigger("show:main",this,e),j(),this._mainView)},mainScrollTop:function(a){return this._mainView?(void 0!==a&&null!==a&&l.scrollTop(a),l.scrollTop()):0},showSmallModal:function(a,b,c){return c=c||{},c.viewClassName="small-modal",this.showModal(a,b,c)},showBigModal:function(a,b,c){return c=c||{},c.big=!0,this.showModal(a,b,c)},showModal:function(a,b,c){if(c=c||{},c.silent||this.trigger("show:desktopmodal",this,c),this._modalView&&(this._modalView.destroy(),this._modalView=null),a){this.$el.addClass(this.SHOW_MODAL_CLASS_NAME),b=i.extend(b||{},{container:this._$modalBody}),c.viewClassName&&(b.className=(b.className||"")+" "+c.viewClassName),this._modalView=this.createView(a,b,"desktopmodal:"+a.prototype.name),this._modalView.render(),this._modalView.attach();var d=this._modalView.$el.outerHeight(),e=this._modalView.$el.outerWidth(),f=100,g=j.height()-f;return d>g?(d=g,this._$modalBody.css({height:d+"px",overflowY:"scroll"})):this._$modalBody.css({height:"auto",overflowY:"auto"}),this._$modalInner.css(c.big?{top:"10%",bottom:"10%","max-height":"510px",marginBottom:"-"+d/2+"px",marginLeft:"-"+e/2+"px"}:{top:"initial","max-height":"initial",bottom:"50%",marginBottom:"-"+d/2+"px",marginLeft:"-"+e/2+"px"}),this._modalVisible=!0,this.transition(this._$modal.get(0),{opacity:1},{duration:this.options.modalDuration,easing:this.options.easing,callback:i.bind(function(){this._$modalInner.attr("tabindex",Math.round(1e4*Math.random())),this._$modalInner.focus(),c.silent||this.trigger("shown:desktopmodal",this)},this)}),this._modalView}},hideModal:function(a){var b=this._$modal.get(0);return a=a||{},a.silent||this.trigger("hide:desktopmodal",this),this._modalVisible=!1,this.transition(b,{opacity:0},{duration:this.options.modalDuration,easing:this.options.easing,callback:i.bind(function(){this._$modalInner.attr("tabindex",""),b.style.opacity="",this._modalView&&(this._modalView.destroy(),this._modalView=null),a.silent||(this.trigger("hidden:desktopmodal",this),this.$el.removeClass(this.SHOW_MODAL_CLASS_NAME))},this)}),this},_checkClock:function(){var a=new Date,b=a.getHours(),c=a.getMinutes(),d=this.$(".clock"),e=this;d.text(b+":"+(10>c?"0"+c:c)),m(function(){e._checkClock()},6e4)},_getScrollBarWidth:function(){var a,b,c,d;return a=k.createElement("p"),a.style.width="100%",a.style.height="200px",b=k.createElement("div"),b.style.position="absolute",b.style.top="0px",b.style.left="0px",b.style.visibility="hidden",b.style.width="200px",b.style.height="150px",b.style.overflow="hidden",b.appendChild(a),k.body.appendChild(b),c=a.offsetWidth,b.style.overflow="scroll",d=a.offsetWidth,c===d&&(d=b.clientWidth),k.body.removeChild(b),c-d},startLiveChat:function(){return this._chatView&&this._chatView.startLiveChat(),this},render:function(){this.$el.addClass("app-container"),b.state()===b.STATE_OFFLINE?this.$el.addClass("offline"):b.state()===b.STATE_MAINTENANCE&&this.$el.addClass("maintenance");var a={VERSION:b.get("version")||"",language:b.get("lang"),showFooterText:"SE"===b.get("country")||"FI"===b.get("country")||"NO"===b.get("country")||"GB"===b.get("country")};this.el.innerHTML=this.template(a),this._topbarView=this.createView(d,{container:this.$("div.main-container-topbar"),model:this.model,collection:g,groups:this.options.categories,appView:this},"topbar").render().attach(),b.get("livechat")&&(this._chatView=this.createView(e,{container:this.$("div.chat-container")},"chat").render().attach(),this._$chat=this._chatView.$el),this._themeView=this.createView(f,{},"theme").render().attach(),this._$topBar=this._topbarView.$el,this._$main=this.$("div.main-container"),this._$mainBody=this._$main.find("div.main-container-body"),this._$curtain=this.$("div.curtain-container"),this._$curtainBody=this._$curtain.find("div.curtain-container-body"),this._$curtainFooter=this._$curtain.find("div.curtain-container-footer"),this._$prompt=this.$("div.prompt-container"),this._$promptInner=this._$prompt.find("div.prompt-container-inner"),this._$modal=this.$("div.modal-container"),this._$modalInner=this._$modal.find("div.modal-container-inner"),this._$modalBody=this._$modal.find("div.modal-container-body"),this.showCurtain.ready=!0,this.showCurtain.stack=[],this.hideCurtain.ready=!0,this.showMain.ready=!0,this._checkClock(),this._scrollBarWidth=this._getScrollBarWidth()}});return n})}(this),function(a){"use strict";var b=a.APP;b.register("view.change-language",["view","template"],function(a,b){var c=a.extend({name:"change-language",template:b("change-language"),events:{"click li a":function(a){var b=this.$(a.target).closest("li").data("value");a.preventDefault(),b&&this.trigger("change-language",b)}},render:function(){var a={languages:this.options.languages||[]};this.el.innerHTML=this.template(a)}});return c})}(this),function(a){"use strict";var b=a.APP;b.register("view.chat",["view.form","template","i18n","validate","livechat"],function(a,c,d,e,f){var g=b._,h=(b.$,b.$win,b.win.setTimeout),i=a.extend({name:"chat",template:c("chat"),options:{duration:150,easing:"ease-out",windowHeightMin:37,windowHeightMax:400,chatWidth:280},_showChat:function(){var a=this.$el.find("div.chat-wrapper");a.height()!==this.options.windowHeightMin?this._titleBarClick({item:a.get(0),endValue:this.options.windowHeightMin+"px"},function(){a.removeClass("expanded")}):this._titleBarClick({item:a.get(0),endValue:this.options.windowHeightMax+"px"},function(){a.addClass("expanded")})},_hideChat:function(){var a=this.$el.find("div.chat-wrapper"),b=this;this._titleBarClick({item:a.get(0),endValue:this.options.windowHeightMin+"px"},function(){a.removeClass("expanded"),b.resetState(),f.engage(!1),b.render()})},events:g.defaults({"click a.title-bar":function(){this._showChat()},"click a.title-bar .icon-remove":function(a){a.preventDefault(),this._hideChat()}},a.prototype.events),validators:{email:{events:"blur input[name=email]",validators:{ERROR_EMPTY:e.notEmpty,ERROR_INVALID_EMAIL:e.email}},name:{events:"blur input[name=name]",validators:{ERROR_EMPTY:e.notEmpty}}},initialize:function(){this.listenTo(f,"change:name",this._onChange),this.on("submit",this._onSubmit,this),this.on("render",this._showLoading,this)},startLiveChat:function(){return this._showChat(),this.$el.find("form").submit(),this},destroy:function(){},_onChange:function(){this.state.isSubmitted||f.alreadyEngaged()||this.render()},_titleBarClick:function(a,c){b.state()!==b.STATE_OFFLINE&&a&&a.item&&this.transition(a.item,{height:a.endValue},{duration:this.options.duration,easing:this.options.easing,callback:c})},_showLoading:function(){var a=this,b=this.$("iframe");b.length&&(this.loading(),b.one("load",function(){h(function(){a.hideLoading()},1e3)}))},_onSubmit:function(a,b,c){return b?void a.hideLoading():(f.set(c),void this.render())},_isExpanded:function(){var a=this.$("div.chat-wrapper");return a.height()===this.options.windowHeightMin},render:function(){var a=!1,b=g.extend(g.clone(this.state),{state:this.state,error:{},data:f.toJSON()});b.data.alreadyEngaged=f.alreadyEngaged(),(b.data.alreadyEngaged||this.state.isSubmitted)&&(a={url:f.getChatUrl(),height:this.options.windowHeightMax-this.options.windowHeightMin-10,width:this.options.chatWidth}),b.data.chat=a,this.el.innerHTML=this.template(b)}});return i})}(this),function(a){"use strict";var b=a.APP;b.register("view.cms-page",["view","template"],function(a,b){var c=a.extend({name:"cms-page",template:b("cms-page"),render:function(){var a={page:this.model.toJSON()};this.el.innerHTML=this.template(a)}});return c})}(this),function(a){"use strict";var b=a.APP;b.register("view.confirmed-pause",["view","template","string-helpers"],function(a,c,d){var e=a.extend({name:"confirmed-paused",template:c("confirmed-pause"),events:{"click a":function(a){a.preventDefault(),this.trigger("close",this)},"click button.back":function(a){a.preventDefault(),this.trigger("close",this)}},_render:function(){var a={state:this.state,reason:this.options.reason,finiteDuration:this.options.toDate.getFullYear()-(new Date).getFullYear()<10,toDate:d.formatDate(this.options.toDate,b.get("country"))};return this.template(a)},render:function(a){this.el.innerHTML=this._render(a)},renderToString:function(a){return this._render(a)}});return e})}(this),function(a){"use strict";var b=a.APP;b.register("view.deposit-result",["view","template"],function(a,c){var d=a.extend({name:"deposit-result",template:c("deposit-result"),events:{"click button.btn-start":function(a){a.preventDefault(),this.trigger("start-playing",this)},"click button.btn.help":function(a){a.preventDefault(),b.trigger("start-live-chat")}},initialize:function(){},render:function(){var a={method:this.options.method,result:this.options.result,amount:this.options.amount,user:this.options.user.toJSON(),games:this.options.games||[]};this.el.innerHTML=this.template(a)}});return d})}(this),function(a){"use strict";var b=a.APP;b.register("view.desktop-signup",["view.signup","template","view.address-results"],function(a,c,d){var e=b._,f=a.prototype,g=a.extend({name:"desktop-signup",template:c("signup"),templateAddressResult:c("_partial.address-results"),validators:e.defaults({confirmEmail:{events:"blur input[name=confirmEmail]",validators:{ERROR_MATCH_EMAIL:function(a){return a===this._$email.val()}}},confirmPassword:{events:"blur input[name=confirmPassword]",validators:{ERROR_MATCH_PASSWORD:function(a){return a===this._$password.val()}}},terms:{events:"change input[name=terms]",validators:function(a){return a?!1:{terms:new Error("TERMS")}}}},f.validators),initialize:function(){f.initialize.apply(this,arguments),this.on("personal",this._onPersonal,this),this.on("address",this._onAddress,this),this.on("addresses",this._onAddresses,this),this.on("modal:confirm",this._onConfirm,this),this.on("modal:dismiss",this._onDismiss,this)},_onPersonal:function(){this.render()},_onAddress:function(){this.render()},_onConfirm:function(a,b){a instanceof d&&b&&(this._fetchAddressInfoById(b),this.hideOverlayMessage())},_onDismiss:function(){this.hideOverlayMessage()},_onAddresses:function(a,b){this.overlayMessage(d,{addresses:b})},_renderContext:function(){var a=f._renderContext.apply(this,arguments);return a.promotions=this.options.promotions,a},render:function(){f.render.apply(this,arguments),this._$email=this.$("input[name=email]"),this._$password=this.$("input[name=password]")}});return g})}(this),function(a){"use strict";var b=a.APP,c=b.$;b.register("view.game-category",["view","template","user"],function(a,b,d){var e=a.extend({name:"game-category",template:b("game-category"),initialize:function(){this.on("render",this._onRender,this)},_onRender:function(){this.trigger("change-category",this.options.category),this.$(".game-list-image").each(function(){this.src=c(this).data("src")})},render:function(){var a={user:d.isLoggedIn()?d:!1,category:this.options.category,games:this.collection.byCategory(this.options.category).toJSON()};a.games.sort(function(a,b){return a.name>b.name?1:-1}),this.el.innerHTML=this.template(a)}});return e})}(this),function(a){"use strict";var b=a.APP;b.register("view.game-limit-reached",["view.game","template"],function(a,c){var d=b._,e=a.extend({name:"game-limit-reached",template:c("game-limit-reached"),events:d.defaults({"click a.play":function(a){a.preventDefault(),this.trigger("play",this)}},a.prototype.events),render:function(){var a={data:this.model.toJSON(),lowLimits:this.options.lowLimits||[]};this.el.innerHTML=this.renderInGameWrapper(this.template(a))}});return e})}(this),function(a){"use strict";var b=a.APP;b.register("view.game-loading",["view.game","template"],function(a,b){var c=a.extend({name:"game-loading",template:b("game-loading"),render:function(){var a={game:this.game.toJSON()};this.el.innerHTML=this.renderInGameWrapper(this.template(a))}});return c})}(this),function(a){"use strict";var b=a.APP;b.register("view.game-login",["view.game","view.login","template"],function(a,c,d){var e,f=b._,g=f.extend({},c.prototype,{name:"game-login",template:d("login"),events:f.extend({},a.prototype.events,c.prototype.events),initialize:function(){a.prototype.initialize.apply(this,arguments),c.prototype.initialize.apply(this,arguments),this.on("render",this._onRender,this),this.on("attach",this._onRender,this)},_onRender:function(){var a=this.$(".game-content");this.gameSize.min.width=a.outerWidth(),this.gameSize.min.height=a.outerHeight(),this.resize()},render:function(){var a=f.clone(this.state);a.data=a.data||{},a.message=this.options.message,a.data.accountName=this.model.get("accountName")||"",a.game=this.game.toJSON(),this.gameSize.ratio=this.gameSize.min.width/this.gameSize.min.height,this.el.innerHTML=this.renderInGameWrapper(this.template(a),{close:!0})}});return g.constructor=function(){a.apply(this,arguments),c.apply(this,arguments)},e=a.extend(g)})}(this),function(a){"use strict";var b=a.APP;b.register("view.game-maintenance",["view.game","template"],function(a,b){var c=a.extend({name:"game-maintenance",template:b("game-maintenance"),initialize:function(){a.prototype.initialize.apply(this,arguments),this.on("render",this._onRender,this),this.on("attach",this._onRender,this)},_onRender:function(){var a=this.$(".game-content");this.gameSize.min.width=a.outerWidth(),this.gameSize.min.height=a.outerHeight(),this.resize()},render:function(){var a={game:this.game.toJSON()};this.gameSize.ratio=this.gameSize.min.width/this.gameSize.min.height,this.el.innerHTML=this.renderInGameWrapper(this.template(a))}});return c})}(this),function(a){"use strict";var b=a.APP;b.register("view.game-nickname",["view.game","view.nickname","template"],function(a,c,d){var e,f=b._,g=f.extend({},c.prototype,{constructor:function(){a.apply(this,arguments),c.apply(this,arguments)},name:"game-nickname",template:d("nickname"),events:f.extend({},a.prototype.events,c.prototype.events),initialize:function(){a.prototype.initialize.apply(this,arguments),c.prototype.initialize.apply(this,arguments),this.on("render",this._onRender,this),this.on("attach",this._onRender,this)},_onRender:function(){var a=this.$(".game-content");this.gameSize.min.width=a.outerWidth(),this.gameSize.min.height=a.outerHeight(),this.resize()},render:function(){var a=f.clone(this.state);a.message=this.options.message,a.game=this.game.toJSON(),this.gameSize.ratio=this.gameSize.min.width/this.gameSize.min.height,this.el.innerHTML=this.renderInGameWrapper(this.template(a))}});return g.constructor=function(){a.apply(this,arguments),c.apply(this,arguments)},e=a.extend(g)})}(this),function(a){"use strict";var b=a.APP;b.register("view.game-no-bonus",["view.game","template"],function(a,b){var c=a.extend({name:"game-no-bonus",template:b("game-no-bonus"),initialize:function(){a.prototype.initialize.apply(this,arguments),this.on("render",this._onRender,this),this.on("attach",this._onRender,this)},_onRender:function(){var a=this.$(".game-content");this.gameSize.min.width=a.outerWidth(),this.gameSize.min.height=a.outerHeight(),this.resize()},render:function(){var a={game:this.game.toJSON(),otherGames:this.collection&&this.collection.toJSON()};this.gameSize.ratio=this.gameSize.min.width/this.gameSize.min.height,this.el.innerHTML=this.renderInGameWrapper(this.template(a))}});return c})}(this),function(a){"use strict";var b=a.APP;b.register("view.game-play",["view.game","template","game-wmode","user","api","view.quick-deposit"],function(a,c,d,e,f,g){var h=b.win,i=b.$win,j=b.doc,k=h.setTimeout,l=h.clearTimeout,m=b._,n=1,o=b.win.swfobject,p={"16/9":16/9,EVO_NORMAL:20/17,"AR_1.27":1024/808,"750/470":750/470,"750/550":750/550,"550/750":550/750},q={"1024x768":{width:1024,height:768},"1280x720":{width:1280,height:720}},r=a.extend({name:"game-play",template:c("game-play"),_isGameHidden:!0,ping:{interval:6e5,times:18},_FLASH_PARAMS:{quality:"high",bgcolor:"#000000",wmode:"transparent",allowScriptAccess:"always",scale:"exactfit",allowfullscreen:"true"},_FLASH_VERSION:"10.2.0",_FLASH_EXPRESS_INSTALL_URL:b.get("staticUrl")+"/swf/expressInstall.swf",initialize:function(){this.once("attach",this._onRender,this),this.on("render",this._onRender,this),this.on("close",this._hideGame,this),this.on("show:overlay",this._hideGame,this),this.on("hide:overlay",this._showGame,this),this._checkGameSpecialCases(),this._evolutionAspectRatioChange=m.bind(this._evolutionAspectRatioChange,this),i.on("message",this._evolutionAspectRatioChange)},destroy:function(){this._hideGame(),h.rules&&(h.rules=null),i.off("message",this._evolutionAspectRatioChange)},_hideGame:function(){this._isGameHidden||(l(this._pingSession.timeout),this.game.get("isFlashGameLaunch")?o.removeSWF(this.GAME_DOM_ID):this.$("#"+this.GAME_DOM_ID).remove(),this._isGameHidden=!0,b.trigger("game:shutdown"))},_showGame:function(){this._isGameHidden&&(this._isGameHidden=!1,this.game.get("isFlashGameLaunch")?this._loadFlashGame(this.game):"PlayNGo"===this.game.get("launcherName")?this._loadPNGGame(this.game):this._loadIframeGame(this.game),b.trigger("game:startup"),this.resize(),f.clearCacheGamePlay(),this._pingSession.timesCalled=0,this._pingSession())},_checkGameSpecialCases:function(){var a=this.game.get("attrs")||{};p[a.forcedRatio]&&(this.gameSize.ratio=p[a.forcedRatio]),q[a.forcedSize]&&(this.gameSize.forcedSize=q[a.forcedSize])},_evolutionAspectRatioChange:function(a){var b=a.originalEvent;0===this.game.get("gameUrl").indexOf(b.origin)&&("changeForStandart"===b.data?(this.gameSize.ratio=p.EVO_NORMAL,this.resize()):"changeForImmersive"===b.data&&(this.gameSize.ratio=p["16/9"],this.resize()))},_onRender:function(){a.prototype._onRender.apply(this,arguments),this.isAttached()&&m.defer(m.bind(function(){this.options.isOverlayVisible()||this._showGame(),this.toggleSidebar()},this))},_loadFlashGame:function(a){var b=a.get("flashParameters")||{},c=m.extend({},this._FLASH_PARAMS,{base:b.base,width:b.width,height:b.height,flashvars:b.flashVars,wmode:b.wMode||d(a.id)}),e={id:this.GAME_DOM_ID,align:"middle"};this._$gameWrapper.append(this.make("div",{"class":this.GAME_DOM_ID,id:"flashGame"})),o.switchOffAutoHideShow(),o.embedSWF(b.src,this.GAME_DOM_ID,b.width||"100%",b.height||"100%",this._FLASH_VERSION,this._FLASH_EXPRESS_INSTALL_URL,null,c,e),this._createFlashCallbackFunction()},_createFlashCallbackFunction:function(){var a=this,c={rules:function(c){var d=a.game.attributes.id,e="directories=no,location=no,menubar=no,resizable=no,scrollbars=yes,status=no,toolbar=no,width=440,height=420";c?h.open(c,"Rules",e):(h=b.win.open("","Rules",e),f.getGameRulesUrl(d,function(a,b){a?h.close():h.location=b}))},close:function(){a.trigger("close",a)}};m.isFunction(h.rules)||(h.rules=function(a){c.rules(a)}),m.isFunction(h.Logout)||(h.Logout=function(){c.close()}),m.isFunction(h.game_action)||(h.game_action=function(a){c[a]&&c[a]()})},_loadIframeGame:function(a){var b=this.make("iframe",{"class":"game-flash",id:this.GAME_DOM_ID,frameborder:"0",scrolling:"no",src:a.get("gameUrl")});b.style.display="block",this._$gameWrapper.append(b)},_loadPNGGame:function(a){var b=this.make("div",{"class":this.GAME_DOM_ID,id:"flashGame"}),c=this.make("div",{id:"pngCasinoGame"}),d=j.createElement("script");b.appendChild(c),this._$gameWrapper.append(b),d.src=a.get("gameUrl"),b.appendChild(d),this._createFlashCallbackFunction()},_pingSession:function(){this._pingSession.timesCalled+=1,this._pingSession.timeout=k(m.bind(function(){b.log("GamePlay::_pingSession()",this._pingSession.timesCalled),f.sessionKeepalive(function(){this._pingSession.timesCalled<this.ping.times&&this._pingSession()},this)},this),this.ping.interval)},setPaymentMethods:function(a){this._quickGameDepositView?this._quickGameDepositView.setPaymentMethods(a):this._paymentMethods=a},render:function(){var a=this.options.promotions&&this.options.promotions.toJSON()||!1,b={game:this.game.toJSON(),user:e.isLoggedIn()?e:!1,promotions:a?a.slice(0,n):!1},c=this;this.el.innerHTML=this.template(b),this._isGameHidden=!0,this._$gameWrapper=this.$("div.game-flash-background"),this._quickGameDepositView=this.createView(g,{container:this.$(".game-sidebar").get(0)},"game-sidebar:"+g.prototype.name).render().attach(),this._quickGameDepositView.setPaymentMethods(this._paymentMethods),this._quickGameDepositView.on("deposit",function(a,b,d,e){c.trigger("deposit",a,b,d,e)}),this._quickGameDepositView.on("reload-game",function(){c._hideGame(),c._showGame()})}});return r})}(this),function(a){"use strict";
var b=a.APP;b.register("view.game-profile-contact",["view.game","view.profile-contact","template","user"],function(a,c,d,e){var f,g=b._,h=g.extend({},c.prototype,{constructor:function(){a.apply(this,arguments),c.apply(this,arguments)},name:"game-profile-contact",template:d("_partial.profile-contact-form"),events:g.extend({},a.prototype.events,c.prototype.events),initialize:function(){a.prototype.initialize.apply(this,arguments),c.prototype.initialize.apply(this,arguments),this.on("render",this._onRender,this),this.on("attach",this._onRender,this)},_onRender:function(){var a=this.$(".game-content");this.gameSize.min.width=a.outerWidth(),this.gameSize.min.height=a.outerHeight(),this.resize()},render:function(){var a=g.defaults(g.clone(this.state),{state:this.state,mobileNumberPrefixes:this.options.phonePrefixes,showAddressRequired:this.options.showAddressRequired,user:e.toJSON()});a.data=this.model.toJSON(),a.showAddressRequired=this.options.showAddressRequired,a.game=this.game.toJSON(),this.gameSize.ratio=this.gameSize.min.width/this.gameSize.min.height,this.el.innerHTML=this.renderInGameWrapper(this.template(a))}});return h.constructor=function(){a.apply(this,arguments),c.apply(this,arguments)},f=a.extend(h)})}(this),function(a){"use strict";var b=a.APP;b.register("view.game",["view","template"],function(a,c){var d=b.$win,e=(b._,c("game")),f=a.extend({constructor:function(b){this.gameSize={forcedSize:!1,showSidebar:!0,width:480,height:360,ratio:480/360,margin:{sidebar:270,horizontal:100,vertical:98},min:{sidebarArea:36e4,width:400,height:300}},this.game=b.game,this.on("render",this._onRender,this),a.apply(this,arguments)},GAME_CONTAINER:".game-container",GAME_DOM_ID:"flashGame",events:{"click a.close-game":function(a){a.preventDefault(),this.trigger("close",this)},"click a.open-game-sidebar, a.open-game-sidebar-deposit":function(a){a.preventDefault(),this.toggleSidebar(!0)}},_onRender:function(){this.resize()},hideLicense:function(){var a=this.game.get("attrs")||{};a.hasLicense||this.$(".game-bottom-bar").addClass("hide-license")},showQuickDepositControl:function(){this.$(".open-game-sidebar-deposit").show()},toggleSidebar:function(a,b){return this.$(this.GAME_CONTAINER).hasClass("show-game-sidebar")?(this.$(this.GAME_CONTAINER).removeClass("show-game-sidebar"),this.gameSize.showSidebar=!1):(this.$(this.GAME_CONTAINER).addClass("show-game-sidebar"),this.gameSize.showSidebar=!0,a&&(this.gameSize.forceSidebar=!0)),b||this.resize(),this},resize:function(){var a=this.gameSize,b=a.showSidebar?a.margin.sidebar:a.margin.horizontal,c=d.width(),e=d.height(),f={width:c-b,height:e-a.margin.vertical};f.height*a.ratio<f.width?(a.width=f.height*a.ratio,a.height=f.height):f.width/a.ratio<f.height&&(a.height=f.width/a.ratio,a.width=f.width),a.width<=a.min.width&&(a.width=a.min.width),a.height<=a.min.height&&(a.height=a.min.height),a.forcedSize&&(a.height>a.forcedSize.height||a.width>a.forcedSize.width)&&(a.height=a.forcedSize.height,a.width=a.forcedSize.width),this.$(".game-container, #"+this.GAME_DOM_ID).css({width:Math.floor(a.width),height:Math.floor(a.height)}),!a.forceSidebar&&a.showSidebar&&a.width*a.height<a.min.sidebarArea&&this.toggleSidebar(!1,!0)},renderInGameWrapper:function(a,b){return b=b||{},b.html=a,e(b)}});return f})}(this),function(a){"use strict";var b=a.APP;b.register("view.home",["view","template","game-picker","user","i18n"],function(a,c,d,e){var f=b._,g=b.$,h=b.$win,i=b.async,j=b.win.setTimeout,k=b.win.clearTimeout,l=a.extend({name:"home",template:c("home"),promotionTemplate:c("home-promotion"),options:{duration:400,easing:"ease-out",promoDelay:1e3,promoInterval:1e4,promoDuration:500,offlineRetryDelay:1e4,gamesPerCategory:{"default":12}},_FIXED_ELEMETS_OFFSET:80,_headerOffsets:[],events:{"click .promotion-pagination a":"_onPromoPagination","click .game-picker-arrow-left":function(a){a.preventDefault(),this._gamePickerPagination(a.currentTarget,"prev")},"click .game-picker-arrow-right":function(a){a.preventDefault(),this._gamePickerPagination(a.currentTarget,"next")},"click .dots span":function(a){a.preventDefault();var b=a.currentTarget,c=this.$(b).closest(".dots").find("span"),d=c.index(b);this._gamePickerGotoIndex(b,d)},"click .try-online":function(a){a.preventDefault(),this.trigger("try-online",this)},"click a.maintenance":function(a){a.preventDefault()}},initialize:function(){this.once("attach",this._onRender,this),this.on("render",this._onRender,this),this.on("promotions",function(a){this.options.promotions=a,this._reRender()},this),e.on("login",this._reRender,this),this._onScroll=f.bind(this._onScroll,this),h.on("scroll",this._onScroll)},destroy:function(){e.off("login",this._reRender,this),k(this._updatePromotionAfterDelay.timeout),this._headerOffsets=[],h.off("scroll",this._onScroll)},getPickerOffsets:function(){var a={};return f.forEach(this._gamePickers,function(b,c){a[c]=b.offset}),a},_triggerCategoryFromHeader:function(a){var b=a&&a.id;this._triggerCategoryFromHeader.current!==b&&(this._triggerCategoryFromHeader.current=b,this.trigger("change-category",b))},_onScroll:function(){var a,b,c,d,e,f=h.scrollTop(),g=f+this._FIXED_ELEMETS_OFFSET,i=f+h.height();for(b=0;b<this._headerOffsets.length;b+=1)d=this._headerOffsets[b],d.$el.removeClass("fixed-header"),d.$el.css("paddingTop",0),d.$el.find("h3").css("marginTop",0),g>=d.top?a=d:g>d.top-d.height&&0!==b&&(e=d.height-(d.top-g),c.$el.find("h3").css("marginTop",-e)),i>d.top&&this._gamePickers[d.id].loadImages(),c=d;a&&(a.$el.css("paddingTop",d.height),a.$el.addClass("fixed-header")),this._triggerCategoryFromHeader(a)},_reRender:function(){this._updatePromotionAfterDelay.timeout&&k(this._updatePromotionAfterDelay.timeout),this.render()},_onRender:function(){this.isAttached()&&(this._gamePickers={},f.forEach(this._categories,f.bind(function(a,b){var c=this.$el.find("#category-"+b),e=this.collection.byCategory(b).toJSON(),f=this.options.pickerOffsets&&this.options.pickerOffsets[b]||0,g=this.options.gamesPerCategory[b];this._gamePickers[b]=new d(b,c,e,f,g)},this)),this.options.promotions.length&&(this._updatePromotion.index=0,this._onRender.promoDelayTimeout&&k(this._onRender.promoDelayTimeout),this._onRender.promoDelayTimeout=j(f.bind(this._updatePromotion,this),this.options.promoDelay)),this.trigger("change-category",null),b.view.$el.removeClass("hide-main"),this._updateHeaderOffsets(),f.delay(f.bind(function(){this.$(".try-online").css("display","inline-block")},this),this.options.offlineRetryDelay),this._onScroll())},_updateHeaderOffsets:function(){var a=this.$(".games-box");this._headerOffsets=[],f.forEach(a,f.bind(function(a){var b=this.$(a),c=b.find("h3");this._headerOffsets.push({id:c.data("category-id"),$el:b,top:b.offset().top,height:c.outerHeight()})},this))},_updatePromotion:a.modifiesDOM(function(a){f.isNumber(a)||(a=this._updatePromotion.index||0),this._updatePromotion.index=a%this.options.promotions.length;var b=this.options.promotions.at(this._updatePromotion.index),c={promotion:b&&b.toJSON()},d=this.$(".home-promotions"),e=g(this.promotionTemplate(c)),h=d.find(".postcard");d.append(e),this._updatePromotionPagination(this._updatePromotion.index),this._animatePromotion(e.get(0),f.bind(function(){this._removeElement(h),this._updatePromotion.index+=1,this._updatePromotionAfterDelay()},this))}),_updatePromotionPagination:function(a){var b=this.$(".promotion-pagination li");b.removeClass("selected"),b.each(function(){var b=g(this),c=parseInt(b.find("a").data("promo-index"),10);c===a&&b.addClass("selected")})},_animatePromotion:function(a,b){var c=this;a&&i.series([function(a){j(a,25)},function(b){c.transition(a,{top:"10px"},{duration:.5*c.options.promoDuration,easing:c.options.easing,callback:b})},function(b){c.transition(a,{top:"-5px"},{duration:.25*c.options.promoDuration,easing:c.options.easing,callback:b})},function(b){c.transition(a,{top:"0px"},{duration:.125*c.options.promoDuration,easing:c.options.easing,callback:b})}],b)},_updatePromotionAfterDelay:function(){!this.options.promotions||this.options.promotions.length<=1||(k(this._updatePromotionAfterDelay.timeout),this._updatePromotionAfterDelay.timeout=j(f.bind(this._updatePromotion,this),this.options.promoInterval))},_removeElement:function(a){a.length&&this.transition(a.get(0),{opacity:"0"},{duration:this.options.duration,easing:this.options.easing,callback:function(){a.remove()}})},_onPromoPagination:function(a){var b=this.$(a.currentTarget),c=parseInt(b.data("promo-index"),10)||0,d=b&&b.parent();a.preventDefault(),d&&!d.hasClass("selected")&&this._updatePromotion(c)},_gamePickerPagination:function(a,b){var c=this.$(a).closest("h3"),d=c.data("category-id"),e=this._gamePickers&&this._gamePickers[d];d&&e&&(e[b](f.bind(function(){this._updateHeaderOffsets()},this)),c.find(".dots span").removeClass("active").eq(e.getIndex()).addClass("active"))},_gamePickerGotoIndex:function(a,b){var c=this.$(a).closest("h3"),d=c.data("category-id"),e=this._gamePickers&&this._gamePickers[d];d&&e&&(e.gotoIndex(b,f.bind(function(){this._updateHeaderOffsets()},this)),c.find(".dots span").removeClass("active").eq(e.getIndex()).addClass("active"))},_loadGamesPerCategory:function(a){return this.options.gamesPerCategory=f.reduce(a,f.bind(function(a,b){return a[b]=4*this.collection.getRowsInCategory(b),a},this),{}),this.options.gamesPerCategory},render:function(){var a=this.collection,c=a.getWeightedCategories(),d={unavailable:null,gamesPerCategory:this._loadGamesPerCategory(c),promotionCount:this.options.promotions&&this.options.promotions.length||0,categories:f.reduce(c,function(a,b){return this.collection.forEach(function(c){var d=c.toJSON(),e=d.categories;e=f.omit(e,"played"),f.has(e,b)&&(a[b]=a[b]?a[b]+1:1)}),a},{},this)};b.state()===b.STATE_OFFLINE?d.unavailable={type:"offline",icon:"link",text:b.get("stateMessage")||this.i18n("INFO_OFFLINE")}:b.state()===b.STATE_MAINTENANCE?d.unavailable={type:"maintenance",icon:"cogs",text:b.get("stateMessage")||this.i18n("INFO_MAINTENANCE")}:b.state()===b.STATE_DEPRECATED?d.unavailable={type:"deprecated",icon:"link",text:b.get("stateMessage")||this.i18n("INFO_DEPRECATED")}:b.state()===b.STATE_UNSUPPORTED?d.unavailable={type:"unsupported",icon:"link",text:b.get("stateMessage")||this.i18n("INFO_UNSUPPORTED")}:this.collection.length||(d.unavailable={type:"no-games-available",icon:"ambulance",text:this.i18n("INFO_NO_GAMES_AVAILABLE")}),this._categories=d.categories,this.el.innerHTML=this.template(d)}});return l})}(this),function(a){"use strict";var b=a.APP;b.register("view.loading",["view"],function(a){var b=a.extend({name:"loading"});return b})}(this),function(a){"use strict";var b=a.APP;b.register("view.login-blocked",["view","template"],function(a,b){var c=a.extend({name:"login-blocked",template:b("login-blocked"),events:{"click a":function(){this.trigger("close",this)},"click button.back":function(a){a.preventDefault(),this.trigger("close",this)}},render:function(){this.el.innerHTML=this.template(null)}});return c})}(this),function(a){"use strict";var b=a.APP;b.register("view.login-locked",["view","template","i18n","api"],function(a,c,d,e){var f=b._,g=a.extend({name:"login-locked",template:c("login-locked"),events:{"click button.send":function(a){a.preventDefault(),this._sendLockedMail()},"click button.back":function(a){a.preventDefault(),this.trigger("close",this)}},initialize:function(){this.state.sent=!1,this.state.error=!1},_sendLockedMail:function(){this.state.sent=!0,this.render(),e.lostPassword(this.model.get("accountName"),function(a){return a?(this.state.error=a,void this.render()):(this.state.error=!1,this.state.sent=!0,void this.render())},this)},render:function(){var a=f.defaults(f.clone(this.state),{data:this.model.toJSON()});this.el.innerHTML=this.template(a)}});return g})}(this),function(a){"use strict";var b=a.APP;b.register("view.login-paused",["view","template","string-helpers","router"],function(a,c,d,e){var f=a.extend({name:"login-paused",template:c("login-paused"),events:{"click a":function(a){a.preventDefault();var b=this.$(a.currentTarget);this.trigger("close",this),b.attr("href")&&e.navigate(b.attr("href"),{trigger:!0,replace:!0})},"click button.back":function(a){a.preventDefault(),this.trigger("close",this)}},render:function(){this.el.innerHTML=this.template({reason:this.options.reason,finiteDuration:this.options.toDate.getFullYear()-(new Date).getFullYear()<10,toDate:d.formatDate(this.options.toDate,b.get("country"))})}});return f})}(this),function(a){"use strict";var b=a.APP;b.register("view.login",["view.form","template"],function(a,c){var d=b._,e=a.extend({name:"login",template:c("login"),validators:{accountName:{events:"blur input[name=accountName]",validators:function(a){return this.model.validate("accountName",a)}},password:{events:"blur input[name=password]",validators:function(a){return this.model.validate("password",a)}}},initialize:function(){this.on("submit",this._onSubmit,this)},_onSubmit:function(a,b,c){var d=this;b?this.hideLoading():this.model.login(c.accountName,c.password,function(){d.hideLoading()},{"goto":d.options.goto})},render:function(){var a=d.clone(this.state);a.data=a.data||{},a.message=this.options.message,a.data.accountName=this.model.get("accountName")||"",this.el.innerHTML=this.template(a)}});return e})}(this),function(a){"use strict";var b=a.APP;b.register("view.lost-password",["view.form","template","validate","api","i18n"],function(a,c,d,e,f){var g=b._,h=a.extend({name:"lost-password",template:c("lost-password"),validators:{email:{events:"blur input[name=email]",validators:{ERROR_INVALID_EMAIL:d.email}}},initialize:function(){this.on("submit",this._onSubmit,this)},destroy:function(){},_onSubmit:function(a,c,d){return c?void this.hideLoading():void e.lostPassword(d.email,function(a){return this.hideLoading(),a?(this.reportError(a),void b.view.errorOverlayMessage(f.error(a.message))):void b.view.successOverlayMessage(f("INFO_LOST_PASSWORD_CHECK_INBOX"),{callback:g.bind(function(){this.trigger("success",this)},this)})},this)},render:function(){var a=g.defaults(g.clone(this.state),{state:this.state,error:{}});this.el.innerHTML=this.template(a)}});return h})}(this),function(a){"use strict";var b=a.APP;b.register("view.news",["view","template"],function(a,b){var c=a.extend({name:"news",template:b("news"),destroy:function(){},render:function(){var a={item:this.model&&this.model.toJSON(),news:this.collection.toJSON()};this.el.innerHTML=this.template(a)}});return c})}(this),function(a){"use strict";var b=a.APP;b.register("view.nickname",["view.form","template","user","api","validate","i18n"],function(a,c,d,e,f,g){var h=b._,i=a.extend({name:"nickname",template:c("nickname"),validators:{nickName:{events:"blur input[name=nickName]",validators:{ERROR_INVALID_NICKNAME:f.nickName}}},initialize:function(){this.on("submit",this._onSubmit,this)},_onSubmit:function(a,c,e){if(b.log("NicknameView::_onSubmit",a,c,e),c)return void this.hideLoading();var f=this;e.nickName&&d.setNickName(e.nickName,function(a){f.hideLoading(),a?b.view.errorOverlayMessage(g.error(a.message)):b.view.successOverlayMessage(g("SUCCESS_NICKNAME"),function(){f.trigger("success",this)})})},render:function(){var a=h.clone(this.state);this.el.innerHTML=this.template(a)}});return i})}(this),function(a){"use strict";var b=a.APP;b.register("view.profile-contact",["view.form","template","api","user","validate"],function(a,c,d,e,f){var g=b._,h=a.extend({name:"profile-contact",template:c("profile-contact"),validators:{street:{events:"blur input[name=street]",validators:{ERROR_EMPTY:f.notEmpty}},zip:{events:"blur input[name=zip]",validators:{ERROR_EMPTY:f.notEmpty}},city:{events:"blur input[name=city]",validators:{ERROR_EMPTY:f.notEmpty}},mobileNumberPrefix:{events:"change input[name=mobileNumberPrefix]",validators:{ERROR_EMPTY:f.notEmpty}},mobileNumber:{events:"blur input[name=mobileNumber]",validators:{ERROR_MOBILE_NUMBER:f.mobile}}},initialize:function(){this.on("submit",this._onSubmit,this)},destroy:function(){},_onSubmit:function(a,c,d){if(b.log("ProfileInfoView::_onSubmit",arguments),c)return void this.hideLoading();var e=this;this.model.save(d,{success:function(){e.hideLoading(),e.successOverlayMessage(e.i18n("SUCCESS_PROFILE_CONTACT"),function(){e.trigger("success",this)})},error:function(a,c){b.log("ProfileInfoView::model::save::error",arguments),e.hideLoading(),c&&(e.reportError(c),b.view.errorOverlayMessage(e.i18n.error(c.message)))}})},render:function(){var a=g.defaults(g.clone(this.state),{state:this.state,mobileNumberPrefixes:this.options.phonePrefixes,showAddressRequired:this.options.showAddressRequired,user:e.toJSON()});a.data=this.model.toJSON(),g.contains(g.values(a.mobileNumberPrefixes),a.data.mobileNumberPrefix)||(a.mobileNumberPrefixes=g.extend({"-":a.data.mobileNumberPrefix},this.options.phonePrefixes)),this.el.innerHTML=this.template(a)}});return h})}(this),function(a){"use strict";var b=a.APP;b.register("view.profile-cards",["view","template"],function(a,c){var d=b._,e=a.extend({name:"profile-contracts",template:c("profile-contracts"),events:{"click button":function(a){var b=this.$(a.currentTarget).closest("li"),c=this._$contracts.index(b),d=this.collection.at(c);this.trigger("remove",this,d)}},initialize:function(){this.collection.on("remove",this.render,this)},destroy:function(){this.collection.off("remove",this.render,this)},render:function(){var a=d.defaults(d.clone(this.state),{state:this.state});a.contracts=this.collection.toJSON(),this.el.innerHTML=this.template(a),this._$contracts=this.$(".saved-cards > li")}});return e})}(this),function(a){"use strict";var b=a.APP,c=b.$;b.register("view.profile-limit-form",["view.form","template","api","i18n","user"],function(a,d,e,f,g){var h=b._,i=a.extend({name:"profile-limit-form",template:d("profile-limit-form"),options:{lazyUpdate:!0},validators:{current:{events:"blur input[name=current]",value:function(a){return a||0===a?parseInt(a,10):this.model.get("current")},validators:function(a){return this.model.validate("current",a)}},future:{events:"blur input[name=future]",value:function(a){return a||0===a?parseInt(a,10):this.model.get("future")},validators:function(a){return this.model.validate("future",a)}}},events:h.defaults({"click button.show-form":function(a){var b=this.$(a.target);b.parent(".box").addClass("active")},"click .remove-limit":function(){this._removeLimit()},"keyup input[name=future]":function(a){this._setButtonState("future",a.currentTarget.value)},"keyup input[name=current]":function(a){this._setButtonState("current",a.currentTarget.value)}},a.prototype.events),initialize:function(){this.on("submit",this._onSubmit,this),this.on("render",function(){this._setButtonState("current",this.model.get("current")),this._setButtonState("future",this.model.get("future"))},this)},destroy:function(){},_onSubmit:function(a,d,e,f){if(b.log("ProfileLimitsView::_onSubmit",arguments),d)return void this.hideLoading();var g,h,i=c(f.target);return i.hasClass("current")?h={current:e.current}:i.hasClass("future")&&(h={future:e.future}),(g=this.model.validate(h))?(this.hideLoading(),this.updateValidation(g)):void a.trigger("setlimit",a,h)},_setButtonState:function(a,b){var c=this.$("input[name="+a+"]").parents("form").find("button");this.validate(a,b,function(d){d[a]||!b||-1===b?c.addClass("disabled").attr("disabled","disabled"):c.removeClass("disabled").removeAttr("disabled","disabled")})},_removeLimit:function(){this.model.set({future:-1,futureDate:null}),this.trigger("removelimit",this)},render:function(){var a=h.defaults(h.clone(this.state),{state:this.state,format:h.bind(this.model.format,this.model),id:this.model.id,currency:g.get("currency"),limitOptions:this.model.getOptions()});a.data=this.model.toJSON(),this.el.innerHTML=this.template(a)}});return i})}(this),function(a){"use strict";var b=a.APP;b.register("view.profile-password",["view.form","template","validate","api","i18n"],function(a,c,d,e,f){var g=b._,h=a.extend({name:"profile-password",template:c("profile-password"),validators:{currentPassword:{events:"blur input[name=currentPassword]",validators:{ERROR_INVALID_PASSWORD:d.password}},newPassword:{events:"blur input[name=newPassword]",validators:{ERROR_INVALID_PASSWORD:d.password}},confirmPassword:{events:"blur input[name=confirmPassword]",validators:{ERROR_MATCH_PASSWORD:function(a){return a===this.$("input[name=newPassword]").val()}}}},initialize:function(){this.on("submit",this._onSubmit,this)},destroy:function(){},_onSubmit:function(a,c,d){return c?void this.hideLoading():void e.changePassword(d,function(a){return this.hideLoading(),a?(this.reportError(a),void b.view.errorOverlayMessage(f.error(a.message))):void b.view.successOverlayMessage(f("INFO_PROFILE_PASSWORD_SUCCESS"),{callback:g.bind(this.render,this)})},this)},render:function(){var a=g.defaults(g.clone(this.state),{state:this.state,error:{},data:{}});this.el.innerHTML=this.template(a)}});return h})}(this),function(a){"use strict";var b=a.APP;b.register("view.profile-pause-account",["view.form","template"],function(a,c){var d=(b.$,b._),e=a.extend({name:"profile-pause-account",template:c("profile-pause-account"),events:d.defaults({"change select[name=reason]":function(){var a=this;d.defer(function(){a.render()})}},a.prototype.events),validators:{duration:{events:"change select[name=duration]",validators:function(a){return this.model.validate("duration",a)}},reason:{events:"change fieldset select[name=reason]",validators:function(a){return this.model.validate("reason",a)}},password:{events:"blur input[name=password]",validators:function(a){return this.model.validate("password",a)}}},initialize:function(){this.on("submit",this._onSubmit,this)},_onSubmit:function(a,b){b?this.hideLoading():this.model.isValid()?this.trigger("pause",this):this.errorOverlayMessage("Unknown error")},render:function(){var a=d.defaults(d.clone(this.state),{state:this.state,durations:this.model.getDurations(),reasons:this.model.getReasons(),reason:this.model.getReason()});a.data=this.model.toJSON(),this.el.innerHTML=this.template(a)}});return e})}(this),function(a){"use strict";var b=a.APP;b.register("view.profile-reality-check",["view.form","template","i18n"],function(a,c,d){var e=b._,f=a.extend({name:"profile-reality-check",template:c("profile-reality-check"),initialize:function(){this.on("submit",this._onSubmit,this)},destroy:function(){},_onSubmit:function(a,c,f){return b.log("RealityCheckView::_onSubmit",arguments),c?void this.hideLoading():void this.model.save(f,{success:e.bind(function(){this.hideLoading(),b.view.successOverlayMessage(d("SUCCESS_PROFILE_REALITY_CHECK"))},this),error:e.bind(function(a,c){b.log("RealityCheckView::model::save::error",arguments),this.hideLoading(),c&&(this.reportError(c),b.view.errorOverlayMessage(d.error(c.message)))},this)})},render:function(){var a=e.defaults(e.clone(this.state),{state:this.state,error:{}});a.data=this.model.toJSON(),this.el.innerHTML=this.template(a)}});return f})}(this),function(a){"use strict";var b=a.APP;b.register("view.profile-settings",["view.form","template","i18n"],function(a,c,d){var e=b._,f=a.extend({name:"profile-settings",template:c("profile-settings"),initialize:function(){this.on("submit",this._onSubmit,this)},destroy:function(){},_onSubmit:function(a,c,f){return b.log("ProfileSettingsView::_onSubmit",arguments),c?void this.hideLoading():void this.model.save(f,{success:e.bind(function(){this.hideLoading(),b.view.successOverlayMessage(d("SUCCESS_PROFILE_SETTINGS"))},this),error:e.bind(function(a,c){b.log("ProfileSettingsView::model::save::error",arguments),this.hideLoading(),c&&(this.reportError(c),b.view.errorOverlayMessage(d.error(c.message)))},this)})},render:function(){var a=e.defaults(e.clone(this.state),{state:this.state,error:{}});a.data=this.model.toJSON(),this.el.innerHTML=this.template(a)}});return f})}(this),function(a){"use strict";var b=a.APP;b.register("view.quick-deposit-confirm",["view","template","i18n","user","string-helpers"],function(a,b,c,d,e){var f=a.extend({name:"quick-deposit-confirm",template:b("quick-deposit-confirm"),events:{"click .confirm":function(){this.trigger("confirm",this)},"click .dismiss":function(){this.trigger("dismiss",this)}},render:function(){var a=e.formatMoney(this.options.amount,d.get("currency"),!0),b=this.options.contractDisplay||"",f=c("INFO_ACCOUNT_DEPOSIT_CONFIRM_PROMPT",{"{{amount}}":a,"{{cardNumber}}":b}),g={message:f};this.el.innerHTML=this.template(g),this._$confirmButton=this.$(".confirm")}});return f})}(this),function(a){"use strict";var b=a.APP;b.register("view.quick-deposit",["view.form","string-helpers","template","user","validate","i18n","view.quick-deposit-confirm"],function(a,c,d,e,f,g,h){var i=b._,j=a.extend({name:"quick-deposit",template:d("quick-deposit"),initialize:function(){this.on("validate",function(a,b){var c=this.$("button.quick-deposit-btn");c.removeAttr("disabled"),i.forEach(b,function(a,b){a&&this.$(".method-"+b+" .quick-deposit-btn").attr("disabled","disabled")},this)},this)},_makeDeposit:function(a,b,c,d){var e,f,g=b&&b.get("contracts"),i=this;c&&(e=g&&g.get(c)),b&&(d&&e?this.overlayMessage(h,{amount:a,contractDisplay:f||e.get("displayName")}).on("dismiss",function(){i.hideOverlayMessage()}).on("confirm",function(){i.hideOverlayMessage(),i.loading(),i.trigger("deposit",i,a,b,e,!!d)}):(i.loading(),i.trigger("deposit",this,a,b,e,!!d)))},_depositWithEvent:function(a){var b=this.$(a.currentTarget).closest("form"),c=parseInt(b.find("input").val(),10),d=this._paymentMethods.at(this._$forms.index(b)),e=b.find("select").val()||!1,f=this.validators()[d.id].validators,g=!1;i.forEach(f,function(a){a(c)===!1&&(g=!0)}),g||this._makeDeposit(c,d,e)},events:i.defaults({"keyup input.quick-deposit-amount":function(a){13===a.which&&(a.preventDefault(),this._depositWithEvent(a))},"click button.quick-deposit-btn":function(a){a.preventDefault(),this._depositWithEvent(a)},"click button.quick-amounts":function(a){a.preventDefault();var b=this.$(a.currentTarget),c=b.closest("form"),d=parseInt(b.val(),10),e=this._paymentMethods.at(this._$forms.index(c)),f=c.find("select").val()||!1;this._makeDeposit(d,e,f,!0)},"click .quick-deposit-done-btn":function(a){a.preventDefault(),this.hideResult(),this.trigger("reload-game")}},a.prototype.events),validators:function(){var a={};return this._paymentMethods&&this._paymentMethods.forEach(function(b){var c=b.get("minAmount"),d=b.get("maxAmount");a[b.id]={events:"keyup input[name=amount-"+b.id+"]",value:function(a){return parseInt(a,10)},validators:{ERROR_AMOUNT_EMPTY:f.number,ERROR_AMOUNT_TOO_LOW:function(a){return a>=c},ERROR_AMOUNT_TOO_HIGH:function(a){return d>=a}}}}),a},setPaymentMethods:function(a){a&&a.length>0&&(this._paymentMethods=a,this._setupValidators(),this.undelegateEvents(),this.delegateEvents()),this.render()},showResult:function(a,b,c){this._result={method:a,amount:c,result:b},this.render()},hideResult:function(){this._result=null,this.render()},render:function(){if(this._paymentMethods&&this._paymentMethods.any(function(a){return a.get("contracts").length>0})){var a=this._paymentMethods.toJSON(),b=i.defaults(i.clone(this.state),{result:this._result,paymentMethods:i.first(a,1),user:e.toJSON()});this.el.innerHTML=this.template(b),this._$forms=this.$("form")}}});return j})}(this),function(a){"use strict";var b=a.APP;b.register("view.reality-check",["view","string-helpers","template"],function(a,b,c){var d=a.extend({name:"reality-check",template:c("reality-check"),render:function(){var a=Math.floor(this.options.playtime/6e4),c={minutes:a%60,hours:Math.floor(a/60),netBalance:this.options.netBalance||0,netBalanceMsg:b.formatMoney(Math.abs(this.options.netBalance||0),this.model.get("currency")),user:this.model.toJSON()};this.el.innerHTML=this.template(c)}});return d})}(this),function(a){"use strict";var b=a.APP;b.register("view.reset-password",["view.form","template","validate","api"],function(a,c,d,e){var f=b._,g=a.extend({name:"reset-password",template:c("reset-password"),validators:{newPassword:{events:"blur input[name=newPassword]",validators:{ERROR_INVALID_PASSWORD:d.password}},confirmPassword:{events:"blur input[name=confirmPassword]",validators:{ERROR_MATCH_PASSWORD:function(a){return a===this.$("input[name=newPassword]").val()}}}},initialize:function(){this.on("submit",this._onSubmit,this)},destroy:function(){},_onSubmit:function(a,b,c){if(b)return void this.hideLoading();var d=this.model.get("email"),f=this.model.get("token"),g=c.newPassword;e.resetPassword(d,f,g,function(a,b,c){this.trigger("reset",a,b,c)},this)},render:function(){var a=f.defaults(f.clone(this.state),{state:this.state,error:{}});a.data=this.model.toJSON(),this.el.innerHTML=this.template(a)}});return g})}(this),function(a){"use strict";var b=a.APP;b.register("view.session-limit",["view","string-helpers","template"],function(a,b,c){var d=a.extend({name:"session-limit",template:c("session-limit"),render:function(){var a=this.model.toJSON(),b={user:a,sessionLimit:Math.round(this.options.sessionLimit/36e5),warningAdvance:Math.round(this.options.warningAdvance)};this.el.innerHTML=this.template(b)}});return d})}(this),function(a){"use strict";var b=a.APP;b.register("view.support-about",["view","template","i18n"],function(a,c){var d=(b._,a.extend({name:"support-about",template:c("support-about"),render:function(){var a={tags:this.options.tags,page:this.model.toJSON()};this.el.innerHTML=this.template(a)}}));return d})}(this),function(a){"use strict";var b=a.APP;b.register("view.support-android",["view","template"],function(a,b){var c=a.extend({name:"support-android",template:b("support-android"),render:function(){var a={tags:this.options.tags,page:this.model.toJSON()};this.el.innerHTML=this.template(a)}});return c})}(this),function(a){"use strict";var b=a.APP;b.register("view.support-contact",["view.form","template","i18n"],function(a,c,d){var e=b._,f=a.extend({name:"support-contact",template:c("support-contact"),validators:{email:{events:"blur input[name=email]",validators:function(a){var b=this.model.validate("email",a);return b||this.model.set("email",a,{silent:!0}),b}},tag:{events:"blur input[name=tag]",validators:function(a){var b=this.model.validate("tag",a);return b||this.model.set("tag",a,{silent:!0}),b}},message:{events:"blur textarea[name=message]",validators:function(a){var b=this.model.validate("message",a);return b||this.model.set("message",a,{silent:!0}),b}}},initialize:function(){this.on("submit",this._onSubmit,this),this.state.categories=this.model.categories},destroy:function(){},_onSubmit:function(a,c){return c?void this.hideLoading():void this.model.save(null,{error:e.bind(function(a,c){this.reportError(c),this.hideLoading(),b.view.errorOverlayMessage(d.error(c.message))},this),success:e.bind(function(){this.hideLoading(),b.view.successOverlayMessage(d("INFO_SUPPORT_CONTACT_SUCCESS"),{callback:function(){a.$("textarea[name=message]").val("")}})},this)})},render:function(){var a=e.defaults(e.clone(this.state),{state:this.state,error:{}});a.tags=this.options.tags,a.tagPrefix=this.model.tagPrefix,a.data=this.model.attributes,a.serviceStatus=this.options.serviceStatus.toJSON(),this.el.innerHTML=this.template(a)}});return f})}(this),function(a){"use strict";var b=a.APP;b.register("view.faq-items",["view","template"],function(a,c){var d=b._,e=a.extend({name:"support-faq-items",template:c("support-faq-items"),render:function(){var a={questions:this.collection.toJSON(),tag:this.options.tag};a.tags=this.options.tags.reduce(function(a,b){var c=b.get("tags")||[];return d.forEach(c,function(b){-1===d.indexOf(a,b)&&a.push(b)}),a},[]).sort(),this.el.innerHTML=this.template(a)}});return e})}(this),function(a){"use strict";var b=a.APP;b.register("view.faq",["view","template"],function(a,c){var d=b._,e=a.extend({name:"support-faq",template:c("support-faq"),render:function(){var a={tags:this.collection.reduce(function(a,b){var c=b.get("tags")||[];return d.forEach(c,function(b){-1===d.indexOf(a,b)&&a.push(b)}),a},[]).sort()};this.el.innerHTML=this.template(a)}});return e})}(this),function(a){"use strict";
var b=a.APP,c=b._;b.register("view.support-rules",["view","template","games","api","i18n"],function(a,d,e,f,g){var h=a.extend({name:"support-rules",template:d("support-rules"),events:{"click a.game-url":function(a){a.preventDefault();var c,d,h=this.$(a.currentTarget).data("game-id"),i=e.getGameById(h),j="directories=no,location=no,menubar=no,resizable=no,scrollbars=yes,status=no,toolbar=no,width=440,height=420";return i?(d=b.win.open("","Rules",j),void f.getGameRulesUrl(h,function(a,b){a||(d.location=b)})):(c=new Error(b.ERROR.GAME_NOT_FOUND),this.reportError(c),void b.view.errorOverlayMessage(g.error(c.message)))}},render:function(){var a={games:c.omit(this.collection.byHasRules().categorize("name"),"popular","newestgames","played"),tags:this.options.tags};this.el.innerHTML=this.template(a)}});return h})}(this),function(a){"use strict";var b=a.APP;b.register("view.support-touch",["view","template"],function(a,b){var c=a.extend({name:"support-touch",template:b("support-touch"),render:function(){var a={tags:this.options.tags,page:this.model.toJSON()};this.el.innerHTML=this.template(a)}});return c})}(this),function(a){"use strict";var b=a.APP;b.register("view.terms",["view","template"],function(a,b){var c=a.extend({name:"terms",template:b("terms"),render:function(){this.el.innerHTML=this.template(this.model.toJSON())}});return c})}(this),function(a){"use strict";var b=a.APP;b.register("view.theme",["view"],function(a){var c=b._,d=b.$,e=b.$win,f=a.extend({name:"theme",THEME_IMAGE_WIDTH:480,THEME_IMAGE_HEIGHT:800,options:{durationFadeOut:400,durationFadeIn:400},_MAIN_CONTAINER:".main-container",_DEFAULT_THEME:{left:b.get("staticUrl")+"/themes/leovegas_theme_left.jpg",right:b.get("staticUrl")+"/themes/leovegas_theme_right.jpg",single:b.get("staticUrl")+"/themes/leovegas_theme_default.jpg"},_currentTheme:{},initialize:function(){},destroy:function(){e.off("resize.theme")},setTheme:function(a){var f,g=b.get("contentCdnUrl"),h=b.get("gamesCdnUrl"),i={},j=this.$("div.theme-container");if(c.has(a,"single")){if(i.single=a.single?h+a.single:this._DEFAULT_THEME.single,this._currentTheme.single===i.single)return;this._currentTheme=i,this._onResize.attached=!1,e.off("resize.theme"),f=this.make("div",{"class":"theme-container"}),f.appendChild(this.make("img",{src:i.single,"class":"theme theme-single"})),d(f).prependTo(this.$el)}else if(c.has(a,"left")&&c.has(a,"right")){if(i.left=a.left?g+a.left:this._DEFAULT_THEME.left,i.right=a.right?g+a.right:this._DEFAULT_THEME.right,this._currentTheme.left===i.left&&this._currentTheme.right===i.right)return;this._currentTheme=i,f=this.make("div",{"class":"theme-container"}),f.appendChild(this.make("img",{src:i.left,"class":"theme theme-left"})),f.appendChild(this.make("img",{src:i.right,"class":"theme theme-right"})),d(f).prependTo(this.$el),this._onResize.attached||(this._onResize(),e.on("resize.theme",c.bind(this._onResize,this)),this._onResize.attached=!0)}j.fadeOut(this.options.durationFadeOut,function(){d(this).remove()})},_onResize:function(){var a=e.width(),b=e.height(),c=d(this._MAIN_CONTAINER).width(),f=(a-c)/2,g=((b-this.THEME_IMAGE_HEIGHT)/2,this.THEME_IMAGE_HEIGHT/this.THEME_IMAGE_WIDTH);this.$(".theme-left, .theme-right").css(b/f>g?{height:b,width:b/g}:{height:f*g,width:f})}});return f})}(this),function(a){"use strict";var b=a.APP;b.register("view.topbar",["view.form","template","i18n","api"],function(a,c){var d=b._,e=b.$,f=b.$win,g=a.extend({name:"topbar",template:c("topbar"),searchResultTemplate:c("search-results"),_$SEARCH_RESULT_CONTAINER:null,_tabs:{},options:{duration:250,easing:"ease-out",tabDuration:300,validationDelay:4e3},events:d.defaults({"click .nav a.selected":function(a){b.view.isCurtainVisible()&&(b.view.showMain(),a.preventDefault())},"keyup input[name=query]":"_onSearchKeyUp","blur input[name=query]":"_onSearchBlur","focus input[name=query]":"_onSearchFocus","mouseenter .search-results li":"_onSearchHover","click a.category-link":function(a){var b=e(a.target).data("category-id"),c=e("#category-"+b),d=79;return c.length?(a.preventDefault(),this._animateScrollTop(c.offset().top-d),!1):void 0},"click li.home a":function(){this._animateScrollTop(0)},"focus fieldset.fake-placeholder input":"_onPlaceholderInputFocus","blur fieldset.fake-placeholder input":"_onPlaceholderInputBlur"},a.prototype.events),validators:{accountName:{events:"blur input[name=accountName]",validators:function(a){return this.model.validate("accountName",a)}},password:{events:"blur input[name=password]",validators:function(a){return this.model.validate("password",a)}}},_animateScrollTop:function(a){e("html, body").animate({scrollTop:a},this.options.duration)},updateNavTab:function(a){a&&a!==this.updateNavTab.currentName&&(this.updateNavTab.currentName=a,d.forEach(this._tabs||{},d.bind(function(b,c){if(-1!==a.indexOf(c)){var e=this.$("#nav-tab-bg");b.length&&!b.hasClass("selected")&&(this.$(".nav a").removeClass("selected"),e.hasClass("is-inactive")?(e.css({width:b.outerWidth(),left:b.position().left}),b.addClass("selected"),e.removeClass("is-inactive")):this.transition(e.get(0),{width:b.outerWidth()+"px",left:b.position().left+"px"},{duration:this.options.tabDuration,easing:this.options.easing,callback:d.bind(function(){this.$(".nav a").removeClass("selected"),b.addClass("selected")},this)}))}},this)))},_onPlaceholderInputFocus:function(a){{var b=a.currentTarget,c=this.$(b),d=c.closest("fieldset").find("label");b&&b.value}d.removeClass("show-placeholder")},_onPlaceholderInputBlur:function(a){var b=a.currentTarget,c=this.$(b),d=c.closest("fieldset").find("label"),e=b&&b.value;e?d.removeClass("show-placeholder"):d.addClass("show-placeholder")},_updateVipLevel:function(){var a=this.$("div.level-number"),b=this.$("span.progress-text"),c=this.$("div.progress-bar"),d=this.model.get("vipLevel")||1,e=this.model.get("vipLevelCompletedPercentage")||0;c.css({width:e+"%"}),b.text(e+"%"),a.text(d)},initialize:function(){this.on("submit",this._onSubmit,this),this.on("validate",d.debounce(d.bind(this._hideValidation,this),this.options.validationDelay),this),this.model.on("login logout",this._reRender,this),this.model.on("change:vipLevelCompletedPercentage",this._updateVipLevel,this),this.model.on("change:vipLevel",this._updateVipLevel,this),this.on("hide:curtain",function(){this.$(".nav a").removeClass("selected"),this.$("#nav-tab-bg").addClass("is-inactive"),this.updateNavTab.currentName=!1}),this.options.appView.on("main:home:change-category",this.selectCategory,this),this.options.appView.on("main:game-category:change-category",this.selectCategory,this),f.on("scroll.topbar",d.bind(this._onScroll,this)),this.on("render",this._onRender,this),this.once("attach",this._onRender,this),this.listenToOnce(b,"change:ready",this._onRender),this.listenTo(this.options.appView,"shown:main",function(){this._menuFitText(),this._onScroll()})},destroy:function(){this.model.off("login logout",this._reRender,this),this.model.off("change:vipLevelCompletedPercentage",this._updateMilage,this),this.model.off("change:vipLevel",this._updateMilage,this),this.off("hide:curtain"),this._tabs={},f.off("scroll.topbar")},selectCategory:function(a){var b=this.$(".category-link");b.removeClass("selected"),a&&d.each(b,d.bind(function(b){this.$(b).data("category-id")===a&&this.$(b).addClass("selected")},this))},_onScroll:function(){var a=f.scrollTop(),b=90;a>=b?this.$el.addClass("fixed"):this.$el.removeClass("fixed")},_reRender:function(){this.render()},_onRender:function(){this.isAttached()&&b.get("ready")&&(this.stopListening(b,"change:ready",this._onRender),this.off("attach",this._onRender,this),this._menuFitText(),this._onScroll())},_menuFitText:function(){var a=10,b=16,c=this.$("ul.game-categories"),d=c.find("a").not(":first"),e=37;if(!this._hasFittedMenuText&&c.height()){for(c.css({fontSize:b+"px"}),d.css({padding:"0 "+a+"px"});c.height()>e&&a>=0;)a-=1,6>a&&(b-=1,a=10),c.css({fontSize:b+"px"}),d.css({padding:"0 "+a+"px"});this._hasFittedMenuText=!0}},_hideValidation:function(){var a=this;a.$(".validation-message").each(function(){a.transition(this,{opacity:0},{duration:a.options.duration,easing:a.options.easing,callback:function(){a.$(".validation-message").remove()}})})},_onSearchKeyUp:function(a){var b=a.which,c=this.$(".game-search li.selected").get(0),d=a.currentTarget.value;40===b?(a.preventDefault(),c?c!==this.$(".game-search li:last").get(0)&&this.$(".game-search li.selected").removeClass("selected").next("li").addClass("selected"):this.$(".game-search li:first").addClass("selected")):38===b?(a.preventDefault(),c&&c!==this.$(".game-search li:first").get(0)&&this.$(".game-search li.selected").removeClass("selected").prev("li").addClass("selected")):13===b?(a.preventDefault(),c&&this.$(c).find("a").click()):this._displaySearchResults(d)},_displaySearchResults:function(a){var b=[],c={};a.length>0&&(b=this.collection.reduce(function(b,c){return-1!==c.get("name").toLowerCase().indexOf(a.toLowerCase())&&b.push(c.toJSON()),b},[])),c.games=d.first(b,10),c.games.length?(this._$SEARCH_RESULT_CONTAINER.show(),this._$SEARCH_RESULT_CONTAINER.get(0).innerHTML=this.searchResultTemplate(c)):this._$SEARCH_RESULT_CONTAINER.hide()},_onSearchFocus:function(a){var b=a.currentTarget.value;this._displaySearchResults(b)},_onSearchBlur:function(){d.delay(d.bind(function(){this._$SEARCH_RESULT_CONTAINER.hide()},this),200)},_onSearchHover:function(a){this.$(".game-search li").removeClass("selected"),this.$(a.currentTarget).addClass("selected")},loading:function(){this.$el.addClass("show-loading"),this._$loader.attr("tabindex",Math.round(1e4*Math.random())),this._$loader.focus()},_setLoaderWidth:function(){var a=this.$('form.login-form input[type="submit"]').width();a&&this._$loader.width(a)},_onSubmit:function(a,b,c){var d=this;b?(this.hideLoading(),this._setLoaderWidth()):this.model.login(c.accountName,c.password,function(){d.hideLoading(),d._setLoaderWidth()})},render:function(){var a=this.model.isLoggedIn(),b=this.options.groups,c=d.pluck(b||[],"name"),e={user:a?this.model.toJSON():!1,accountName:this.model.get("accountName")||"",categories:d.reduce(c,function(a,b){return this.collection.forEach(function(c){var e=c.toJSON(),f=e.categories;f=d.omit(f,"played"),d.has(f,b)&&(a[b]=b)}),a},{},this)};e.categories=d.sortBy(e.categories,function(a,c){return-d.find(b,function(a){return a.name===c}).weight}),this._hasFittedMenuText=!1,this.el.innerHTML=this.template(e),this._tabs={},d.forEach(this.$("ul.nav a"),d.bind(function(a){var b=this.$(a),c=b.data("view-name");c&&(this._tabs[c]=b)},this)),this._$SEARCH_RESULT_CONTAINER=this.$(".search-results"),this._$loader=this.$("div.login-loader")}});return g})}(this),function(a){"use strict";var b=a.APP;b.register("view.welcome",["view","template"],function(a,b){var c=a.extend({name:"welcome",template:b("welcome"),render:function(){var a={promotions:this.options.promotions&&this.options.promotions.toJSON(),latestGame:this.options.latestGame&&this.options.latestGame.toJSON(),gameTips:this.options.gameTips&&this.options.gameTips.toJSON()||[],user:this.model.toJSON()};this.el.innerHTML=this.template(a)}});return c})}(this),function(a){"use strict";a.APP.set("app",a.APP.get("name"))}(this),function(a){"use strict";var b=a.APP,c=a.setInterval,d=a.clearInterval;b.register("init.play-tracker",["play-record","user","i18n","view.reality-check"],function(a,e,f,g){var h,i=!1,j=3e4,k=36e5,l=null,m=function(){if("stop"!==a.getLastEvent()){a.getPlaytime(function(b){b.duration>=k&&e.fetchMetrics(function(c,d){a.record("reality-check"),b.startBalance&&(b.netBalance=c?0:d.balance+d.bonus-b.startBalance),p(b)},{force:!0})})}},n=function(){e.isLoggedIn()||a.reset(),e.get("realityCheck")&&(h=c(m,j))},o=function(){a.reset(),h&&(d(h),h=null)},p=function(a){i&&(l=b.view.showSmallModal(g,{playtime:a.fullDuration,netBalance:a.netBalance,model:e},{silent:!0}))};b.win.onbeforeunload=function(){"start"===a.getLastEvent()&&a.record("stop")},b.on("game:startup",function(b){a.record("start",b),i=!0}),b.on("game:shutdown",function(){a.record("stop"),i=!1}),e.on("login",function(){n()}),e.on("logout",function(){o()}),e.isLoggedIn()&&n()})}(this),function(a){"use strict";var b=a.APP;b.register("init.router-mixins",["router","user","i18n","init.view","view.loading"],function(a,c,d,e,f,g){var h=b._,i=a.scrollPositions=b.win.scrollPositions={},j=function(b){var c=a.getNSFragment("curtain");return c&&-1!==c.indexOf(b)};a.middleware.push(function(b,c,d){var f=a.getNSFragment(a.currentNS);d.oldScrollTop=i[b.fragment]||0,d.currentScrollTop=i[f]=e.mainScrollTop(),c()}),a.redirectToLoginIfNotLoggedIn=function(b,d){return c.isLoggedIn()?void d():(a.navigate("/login/"+b.fragment,{trigger:!0,replace:!0}),void d.stop())},a.redirectToHomeIfLoggedIn=function(b,d){return c.isLoggedIn()?(a.navigate("/",{trigger:!0,replace:!0}),void d.stop()):void d()},a.loadingCurtain=function(a,b,c,d){if("function"==typeof d){if(d())return;e.showCurtain(f,null,c),c.slide=!1}else e.showCurtain(f,null,c),c.slide=!1,b()},a.createCacheLoading=function(b){return function(c,d,e){a.loadingCurtain(c,d,e,function(){return b(c,d,e)})}},a.noTransition=function(a){return h.isArray(a)||(a=[a]),function(b,c,d){h.any(a,j)&&(d.slide=!1),c()}},a.requireOnline=function(c,f){if(b.state()!==b.STATE_ONLINE){f.stop();var g=function(){e.errorOverlayMessage(d.error(b.ERROR.UNAVAILABLE),function(){a.back()})};b.get("ready")?g():b.once("ready",g)}f()},g(a)})}(this),function(a){"use strict";var b=a.APP;b.register("init.router",["init.view","router","i18n"],function(a,c){var d=b._;c.mainNS.push("main"),c.mainNS.push("curtain"),c.once("route",function(){d.isUndefined(c.getNSFragment("main"))&&c.triggerRoute("main:home",null,{silent:!0})}),a.on("render",function(){c.refresh()}),b.$win.on("pageshow",function(b){b.originalEvent&&b.originalEvent.persisted&&a.render()})})}(this),function(a){"use strict";var b=a.APP;b.register("init.session-limit",["user","router","view.session-limit","i18n"],function(c,d,e,f){var g=(new Date).getTime(),h=3e5,i=function(b,c,d){return{timeout1:a.setTimeout(b,d-h),timeout2:a.setTimeout(c,d)}},j=function(b){b&&(b.timeout1&&a.clearTimeout(b.timeout1),b.timeout2&&a.clearTimeout(b.timeout2))},k=function(){if(c.isLoggedIn()){var a=c.getLoginTime();a&&0!==a||c.setLoginTime(),m()}},l=null,m=function(){var a=60*c.get("currentSessionLimit")*60*1e3,k=c.getLoginTime()||g,m=a-((new Date).getTime()-k);b.log("Session time limit in "+a+"ms"),l&&j(l),c.isLoggedIn()&&(!a||0>=a||(0>=m&&(c.setLoginTime(),m=a),l=i(function(){c.isLoggedIn()&&b.view.showSmallModal(e,{model:c,sessionLimit:a,warningAdvance:h/6e4},{silent:!0})},function(){c.isLoggedIn()&&c.logout(function(){b.view.hideModal(),b.view.errorOverlayMessage(f("INFO_SESSION_LIMIT_LOGGED_OUT")),d.navigate("",{trigger:!0,replace:!0})})},m)))},n=function(){j(l)};b.on("bootstrap",function(){k()}),k(),c.on("logout",n),c.on("login",m),m()})}(this),function(a){"use strict";var b,c=a.APP;try{b=c.win.sessionStorage}catch(d){}c.register("init.setup",["i18n","bootstrap"],function(a,d){var e=c.win,f=c.get("env"),g="INCOGNITO_CHECK_KEY",h=!1;if("safari"===f.browserName&&c.state()===c.STATE_ONLINE){if(b)try{b.setItem(g,"1"),b.removeItem(g)}catch(i){i.code===(e.DOMException&&e.DOMException.QUOTA_EXCEEDED_ERR)&&b&&0===b.length&&(h=!0)}h&&c.get("version")!==d.data("version")&&c.state(c.STATE_DEPRECATED,a("INFO_UPDATE_INCOGNITO"))}})}(this),function(a){"use strict";var b=a.APP;b.register("init.tracking",["router","tracker","user"],function(a,b,c){b.landing(c),a.on("route",function(a,d,e){e=e||{},("main"===e.routeNS||"curtain"===e.routeNS)&&b.pageView(e.url),"curtain:deposit-result"===e.route&&"success"===(e.params.result||"").toLowerCase()&&b.deposit(c)}),c.on("login",function(a,c,d){a.isLoggedIn()&&d&&d.newlyRegistered&&b.signup(a)})})}(this),function(a){"use strict";var b=a.APP,c=b._;b.register("init.welcome",["init.view","user","router","promotions","games","i18n","view.welcome","view.login-locked","view.login-paused","view.login-blocked"],function(a,d,e,f,g,h,i,j,k,l){var m=d.isLoggedIn(),n=function(){return f.toCollection("filter",function(a){return a.isOfType("welcome")})},o=function(){return g.byCategory("played").max(function(a){return a.get("played")})},p=function(a,b){return g.byCategory("popular").chain().filter(function(a){return a.id!==b}).shuffle().slice(0,a).pluck("id").value()},q=function(a){if(!m){m=!0;var e,f=n(),h=o()||!1,j=a.gameTips||[];j.length||(j=p(1,h&&h.id)),e=b.view.showModal(i,{meta:a,promotions:f,latestGame:h,gameTips:g.toCollection("filter",function(a){return-1!==c.indexOf(j,a.id)}),model:d})}};d.on("login:locked",function(b){var c=a.overlayMessage(j,{model:b});c.on("close",function(){a.hideOverlayMessage()})}),d.on("login:paused",function(c,d){var e=b.view.overlayMessage(k,d);e.on("close",function(){a.hideOverlayMessage()})}),d.on("login:blocked",function(){var b=a.overlayMessage(l);b.on("close",function(){a.hideOverlayMessage()})}),d.on("login:error",function(b,c){a.errorOverlayMessage(h.error(c.message))}),d.on("login:success",function(a,b){b&&b.newlyRegistered?e.navigate("account/deposit",{trigger:!0,replace:!0,meta:b}):(b&&b.goto?e.navigate(b.goto,{trigger:!0,replace:!0}):e.refresh(),q(b))}),d.on("logout",function(){b.log("user::logout",arguments),m=!1})})}(this),function(a){"use strict";var b=a.APP;b.register("init.view",["view.application","user","router","bootstrap"],function(a,c,d,e,f){var g=b.doc,h=b._,i=new a({container:g.body,theme:e.data("theme")||{left:null,right:null},model:c,categories:b.get("categories")}),j=function(){b.state()===b.STATE_ONLINE?b.previous("state")===b.STATE_OFFLINE||b.previous("state")===b.STATE_MAINTENANCE?(i.loading(),e(function(){i.hideLoading()})):(i.$el.removeClass("offline"),i.$el.removeClass("maintenance")):i.$el.addClass(b.state()===b.STATE_MAINTENANCE?"maintenance":"offline")};i.on("hide:curtain",function(){d.navigate(d.getNSFragment("main")||"home",{trigger:!1})}),i.on("change-language",function(){d.triggerRoute("desktopmodal:change-language")}),i.on("terms",function(){d.triggerRoute("desktopmodal:terms")}),i.render(),i.attach(),b.view=i,b.on("change:state",j),j(),b.on("start-live-chat",function(){i.startLiveChat()}),b.on("bootstrap",function(){h.defer(function(){i.render()})}),f(i)})}(this),function(a){"use strict";var b=a.APP;b.register("3pc-support",function(c){var d=b.win,e=d.setTimeout,f=d.clearTimeout,g=null,h=9e3,i="https://3pc.gutro.se/set",j="https://3pc.gutro.se/get",k=function(a){g&&(f(g),g=null),c(a)},l=new a.Image;l.onload=function(){var c=new a.Image;c.onload=function(){b.log("THIRD_PARTY_COOKIE_TEST_OK",!0),k(!0)},c.onerror=function(){b.error(new Error(b.ERROR.TPCOOKIE_INFO_DISABLED),"3pc-support.js#onload"),k(!1)},c.src=j},l.onerror=function(){b.error(new Error(b.ERROR.TPCOOKIE_SET_FAILED),"3pc-support#onerror"),k(!1)},l.src=i,g=e(function(){b.error(new Error(b.ERROR.TPCOOKIE_CHECK_TIMEOUT),"3pc-support#componentTimeout"),k(!1)},h)})}(this),function(a){"use strict";var b=a.APP,c=b._;b.register("faq-middleware",["collection.faq","router"],function(a,b){var d={fetchTags:b.createCacheLoading(function(b,d){var e=new a;return e.fetch({success:function(){b.tags=e.reduce(function(a,b){var d=b.get("tags")||[];return c.forEach(d,function(b){-1===c.indexOf(a,b)&&a.push(b)}),a},[]).sort(),d()},error:function(a,b){d(b)}})})};return d})}(this),function(a){"use strict";var b=a.APP;b.register("game-picker",["template","user"],function(a,c){var d=b._,e=b.$,f=b.transition,g=function(b,c,e,f,g){this._CATEGORY_SCROLL_OFFSET=145,this.category=b,this.$el=c,this.games=e,this.template=a("_partial.game-list"),this.offset=f||0,this.maxOffset=0,this.loadedImages=!1,this.options={duration:300,easing:"ease",perPage:g||12},this.initialize=d.bind(this.initialize,this),this._updateArrows=d.bind(this._updateArrows,this),this.loadImages=d.bind(this.loadImages,this),this._show=d.bind(this._show,this),this._load=d.bind(this._load,this),this.next=d.bind(this.next,this),this.prev=d.bind(this.prev,this),this.initialize()};return g.prototype={initialize:function(){var a=this.category,b=Math.ceil(this.games.length/this.options.perPage);this.maxOffset=this.options.perPage*(b-1),this.games.sort(function(b,c){return b.categories[a]===c.categories[a]?b.name>c.name?1:-1:c.categories[a]-b.categories[a]}),this._show.ready=!0,this._show.stack=[],this._load(this.offset,{silent:!0})},prev:function(a){var b=this.offset-this.options.perPage;this._load(b,{},a)},next:function(a){var b=this.offset+this.options.perPage;this._load(b,{},a)},_updateArrows:function(){this.$el.find(".game-picker-arrow").removeClass("game-picker-arrow-hidden"),this.offset<=0&&this.$el.find(".game-picker-arrow-left").addClass("game-picker-arrow-hidden"),this.offset>=this.maxOffset&&this.$el.find(".game-picker-arrow-right").addClass("game-picker-arrow-hidden")},_load:function(a,b,c){a=0>a?0:a,a=a>this.maxOffset?this.maxOffset:a,b=b||{},b.direction=this.offset>a?"right":"left";var d=[];this.offset=a,this._updateArrows(),d=this.games.slice(this.offset,this.offset+this.options.perPage),this._show.ready?this._show(d,b,c):this._show.stack.push([d,b,c])},_scrollToTop:function(){var a=this.$el.find(".game-list-container");e("html, body").animate({scrollTop:a.offset().top-this._CATEGORY_SCROLL_OFFSET},this.options.duration)},loadImages:function(a){this.loadedImages||(a=a||this.$el,a.find(".game-list-image").each(function(){this.src=e(this).data("src")}),this.loadedImages=!0)},getIndex:function(){return this.offset/this.options.perPage},gotoIndex:function(a,b){var c=a*this.options.perPage;return this._load(c,{},b),this},_show:function(a,b,d){this._show.ready=!1;var g=this,h=this.$el.find(".game-list-container"),i=h.get(0),j=h.find("ul"),k=h.width(),l=h.height(),m={games:a,user:c.isLoggedIn()?c:!1,category:this.category},n=e(this.template(m));b=b||{},b.silent=b.silent||!1,b.direction=b.direction||"left",b.silent?(j.remove(),h.append(n),this._show.ready=!0):(this.loadedImages=!1,this.loadImages(n),i.style.position="relative",i.style.left="left"===b.direction?"0":"-"+k+"px",i.style.width=2*k+"px",i.style.height=l+"px",j.css({"float":b.direction}),n.css({"float":"left"}),h.append(n),this._scrollToTop(),f(i,{height:n.height()+"px",left:"left"===b.direction?"-"+k+"px":"0"},{duration:this.options.duration,easing:this.options.easing,reset:!0,callback:function(){j.remove(),i.style.position="",i.style.width="",i.style.left="",n.get(0).style.float="";var a=g._show.stack.shift();a?g._show.apply(g,a):g._show.ready=!0,d&&d()}}))}},g})}(this),function(a){"use strict";a.APP.register("game-wmode",function(){var a="transparent",b={dcnl:"direct",pnpa:"direct",nr98:"direct",jabm:"direct"};return function(c){return b[c]||a}})}(this),function(a){"use strict";var b=a.APP;b.register("play-record",["storage","user"],function(a,c){var d=b._,e=a.local,f=null,g={_makeRecord:function(a,b){a=a||{},c.isLoggedIn()&&c.fetchMetrics(function(d,e){b({time:(new Date).getTime(),game:a.name,balance:d?c.fullBalance:e.balance+e.bonus},{force:!0})})},_getKey:function(a,b){return"play-record:"+b+":"+a.time},_isPlayRecord:function(a){return 0===a.indexOf("play-record:")},_storeRecord:function(a,b){var c=this._getKey(a,b);e.set(c,a)},_getEvent:function(a){var b=/.*:(.*):.*/.exec(a);return b?b[1]:null},_deleteOutdated:function(a){d.each(a,function(a){e.remove(a)})},_calculatePlaytime:function(a,b){var c=null,e=0,f=[],g=0,h=0,i=null,j=null,k=0;return 0===a.length?b({duration:-1,netBalance:0}):(d.each(a.reverse(),function(a){var b=a.value.time-c;"start"===a.event?(0===e&&(c=a.value.time),i||(i=a.value),e++):"stop"===a.event?(e--,0>=e&&(e=0,null!==c&&(f.push(b),h+=b,c=null)),j=a.value):(c=a.value.time,h+=b,f=[])}),i?(g=d.reduce(f,function(a,b){return a+b},0),e>0&&(g+=(new Date).getTime()-c,h+=(new Date).getTime()-c,j=null),j?(k=j.balance-i.balance,b({duration:g,fullDuration:h,netBalance:k})):(k=null,b({duration:g,fullDuration:h,netBalance:k,startBalance:i.balance}))):void 0)},_getRecords:function(){var a=this;return d.chain(e.mapKeys()).filter(function(b){return a._isPlayRecord(b)}).sortBy(function(a){var b=/.*:.*:(.*)/.exec(a);return b?b[1]:-1}).map(function(b){return{key:b,value:e.get(b),event:a._getEvent(b)}}).value().reverse()},getLastEvent:function(){return f},reset:function(){var a=this._getRecords();this._deleteOutdated(d.pluck(a,"key"))},record:function(a,b){var c=this;c._makeRecord(b,function(b){c._storeRecord(b,a),f=a})},getPlaytime:function(a){this._calculatePlaytime(this._getRecords(),a)}};return c.on("logout",function(){g.reset()}),g})}(this),function(a){"use strict";var b=a.APP;b.register("route.account-balance",["router","api","user","view.account-balance","i18n","string-helpers","tracker","payment"],function(a,c,d,e,f,g,h,i){var j=b._,k=1e3,l=1e4,m=a.createCacheLoading(function(a,b){return d.fetchMetrics(b)}),n=j.throttle(function(a,c,e){d.fetchMetrics(function(f){var g=d.get("pendingWithdrawalSum"),h=(new Date).getTime();return f||g?void c(f):h-e>l?(b.error("NEW_BALANCE_TIMEOUT","route.account-balance"),a.params.result="pending",void c()):void n(a,c,e)},{force:!0})},k),o=function(a,b){if("success"===(a.params.result||"").toLowerCase()){var c=(new Date).getTime();n(a,b,c)}else b()},p=function(a,c){var g=a.params.result,j=b.view.showCurtain(e,{model:d,result:g},c);j.on("cancelpending",function(){var a=d.get("currency");h.event("withdrawal:cancel","yes",a,d.get("fullPendingWithdrawalSum")),j.loading(),i.cancelPendingWithdrawal(function(a){return a?(j.hideLoading(),void b.view.errorOverlayMessage(f.error(a.message))):void d.fetchMetrics(function(a){j.hideLoading(),a&&b.view.errorOverlayMessage(f.error(a.message))})})})};a.childRoute(["curtain:support","curtain:support-contact","curtain:support-faq","curtain:bonuses","curtain:news","curtain:account-deposit"],"account/balance","curtain:account-balance",[a.redirectToLoginIfNotLoggedIn,m],p),a.childRoute(["curtain:support","curtain:support-contact","curtain:support-faq","curtain:bonuses","curtain:news","curtain:account-deposit"],"account/balance/withdrawal/:result","curtain:account-balance-withdrawal-result",[a.redirectToLoginIfNotLoggedIn,a.loadingCurtain,o],p)})}(this),function(a){"use strict";var b=a.APP;b.register("route.account-deposit",["router","payment","collection.deposit-methods","collection.promotions","view.account-deposit","view.account-deposit-iframe","view.account-deposit-form","model.deposit-form","user","api","i18n","string-helpers","tracker","cache"],function(a,c,d,e,f,g,h,i,j,k,l,m,n,o){var p=b._,q=b.win,r=(q.setTimeout,q.setInterval),s=q.clearInterval,t=1,u=null,v=(new o("local",{"leo-standalone":3600}),"INFO_ACCOUNT_DEPOSIT_CONFIRM_PROMPT"),w=!0,x=function(a,c){b.use("3pc-support",function(a){w=!!a}),c()},y=a.createCacheLoading(function(a,c){var f=new d;return f.fetch({error:function(a,d){b.log("fetchPaymentMethods::error",arguments),c(d)},success:function(d,g,h){b.log("fetchPaymentMethods::success",arguments),a.promotions=new e((h||{}).promotions),a.promotions.models=a.promotions.first(t),a.paymentMethods=f,c()}})}),z=function(d,e,f,h,i){var j=function(f,h,i){f?(u&&(u.close(),u=null),d.hideLoading(),d.errorOverlayMessage(l.error(b.ERROR.GENERIC))):h===c.RESPONSE_TYPE.NAVIGATE?a.navigate(i,{trigger:!0}):h===c.RESPONSE_TYPE.IFRAME?d.handleDepositResponse(i):h===c.RESPONSE_TYPE.REDIRECT?w?b.view.showCurtain(g,{redirectUrl:i,promotions:e}):p.defer(function(){u?u.location=i:b.win.location=i}):(d.hideLoading(),d.errorOverlayMessage(l.error(b.ERROR.GENERIC)))};h?b.view.showPrompt(h,{label:l("LABEL_CONFIRM_PAYMENT"),callback:function(a){n.event("deposit:confirm",a?"yes":"no",f),a?(d.loading(),i(j)):d.hideLoading()}}):(d.loading(),i(j))};a.childRoute(["curtain:support","curtain:support-contact","curtain:support-faq","curtain:bonuses","curtain:news","main:account-deposit-form"],"account/deposit","curtain:account-deposit",[a.redirectToLoginIfNotLoggedIn,x,y],function(d,e){var g=d.newlyRegistered,h=!1,i=b.view.showCurtain(f,{collection:d.paymentMethods,promotions:d.promotions,newlyRegistered:g,user:j},e);i.on("deposit",function(d,e,f,i,k){function o(c){c.origin===b.win.location.origin&&0===c.data.indexOf("leo-adyen-standalone-done")&&(a.navigate(c.data.substr(c.data.indexOf(":")+1),{trigger:!0}),q.removeEventListener("message",o),s(t))}var p,t,x=f.get("name"),y=f.id,A=i&&i.id,B=A&&l(v,{"{{amount}}":m.formatMoney(e,j.get("currency"),!0),"{{cardNumber}}":i.get("displayName")});return x===c.METHOD.DCCARD?void a.navigate("account/deposit/"+x+"/"+e,{trigger:!0,meta:{method:f,contract:i,promotions:h,newlyRegistered:g}}):(n.event("deposit:"+(k?"quickamount":"amount"),j.get("currency"),x,e),A||w||(u=b.win.open("about:blank",p,"directories=no,location=no,menubar=no,resizable=no,scrollbars=yes,status=no,toolbar=no,width=700,height=850"),q.addEventListener("message",o,!1),t=r(function(){u.closed?(s(t),d.hideLoading()):u.postMessage("leo-adyen-standalone",b.win.location.origin)},500)),void z(d,h,x,A?B:null,function(a){A?c.depositWithReference(x,y,e,A,a):c.deposit(x,y,e,a)}))})}),a.childRoute(["curtain:support","curtain:support-contact","curtain:support-faq","curtain:bonuses","curtain:news","curtain:account-deposit"],"account/deposit/:methodName/:amount","main:account-deposit-form",[a.redirectToLoginIfNotLoggedIn,function(b,c){return b.meta&&b.meta.method?c():(a.navigate("/account/deposit",{trigger:!0,replace:!0}),void c.stop())}],function(a,d){var e=a.params.methodName,f=a.params.amount,g=a.meta.promotions,k=a.meta.method,o=k.id,p=a.meta.contract,q=p&&p.id,r=b.view.showCurtain(h,{model:new i({methodId:o,amount:f,currency:j.get("currency")}),contract:p,method:k,promotions:g},d);r.on("deposit-form",function(a,b,d,h,i){b=b||p.get("displayName");var k={number:m.removeWhitespaces(b),validThru:d,cvv:h,holder:i},r=l("INFO_ACCOUNT_DEPOSIT_CONFIRM_PROMPT",{"{{amount}}":m.formatMoney(f,j.get("currency"),!0),"{{cardNumber}}":b});n.event("deposit:amount",j.get("currency"),e,f),z(a,g,e,q?r:null,function(a){q?c.depositWithReferenceAndCVV(e,o,f,q,h,a):c.depositWithCard(e,o,f,k,a)})})})})}(this),function(a){"use strict";var b=a.APP;b.register("route.account-history",["router","api","collection.transactions","view.account-history","template","games"],function(a,c,d,e){var f=(b._,b.$,function(b){return a.createCacheLoading(function(a,c){var e=new d(null,{type:b});return e.fetch({data:{max:e.pageSize()},success:function(){a.transactions=e,c()},error:function(a,b){c(b)}})})});a.childRoute(["curtain:support","curtain:support-contact","curtain:support-faq","curtain:bonuses","curtain:news","curtain:account-deposit","curtain:account-balance","curtain:account-withdrawal"],"account/history","curtain:account-history",[a.redirectToLoginIfNotLoggedIn,a.noTransition("history"),f("account")],function(a,c){b.view.showCurtain(e,{collection:a.transactions},c)}),a.childRoute(["curtain:support","curtain:support-contact","curtain:support-faq","curtain:bonuses","curtain:news","curtain:account-deposit","curtain:account-balance","curtain:account-withdrawal"],"account/history/account","curtain:account-history-account",[a.redirectToLoginIfNotLoggedIn,a.noTransition("history"),f("account")],function(a,c){b.view.showCurtain(e,{collection:a.transactions},c)}),a.childRoute(["curtain:support","curtain:support-contact","curtain:support-faq","curtain:bonuses","curtain:news","curtain:account-deposit","curtain:account-balance","curtain:account-withdrawal"],"account/history/game","curtain:account-history-game",[a.redirectToLoginIfNotLoggedIn,a.noTransition("history"),f("game")],function(a,c){b.view.showCurtain(e,{collection:a.transactions},c)})})}(this),function(a){"use strict";var b=a.APP;b.register("route.account-withdrawal",["router","collection.withdrawal-methods","view.account-withdrawal","view.account-withdrawal-iframe","user","model.user-contact","api","i18n","string-helpers","tracker","payment"],function(a,c,d,e,f,g,h,i,j,k,l){var m=b._,n=(b.$,m.str),o=function(a,b){a.missingAddress=!a.userContact||n.isBlank(a.userContact.get("street"))||n.isBlank(a.userContact.get("city"))||n.isBlank(a.userContact.get("zip")),b()
},p=a.createCacheLoading(function(a,b){var c=new g;return c.fetch({error:function(a,c){b(c)},success:function(){a.userContact=c,b()}})}),q=a.createCacheLoading(function(a,d){if(a.missingAddress)return d(),!0;var e=new c;return e.fetch({error:function(a,c){b.log("fetchWithdrawalMethods::error",arguments),d(c)},success:function(){b.log("fetchWithdrawalMethods::success",arguments),a.withdrawalMethods=e,d()}})}),r=a.createCacheLoading(function(a,b){return f.fetchMetrics(b)});a.childRoute(["curtain:support","curtain:support/contact","curtain:support/faq","curtain:bonuses","curtain:news","curtain:account-deposit","curtain:account-balance"],"account/withdrawal","curtain:account-withdrawal",[a.redirectToLoginIfNotLoggedIn,p,o,q,r],function(c,g){var h=b.view.showCurtain(d,{missingAddress:c.missingAddress,user:f,collection:c.withdrawalMethods,fee:l.getWithdrawalFee()||0},g);h.on("withdraw",function(c,d,g,h){var m=({methodId:g.id,amount:d,paymentContractId:h&&h.id},f.get("currency")),n=f.get("bonus"),o="",p=g.get("name"),q="INFO_ACCOUNT_WITHDRAWAL_CONFIRM_PROMPT_CONTRACT",r=function(f){k.event("withdrawal:confirm",f?"yes":"no",m,d),f&&(c.loading(),l.withdraw(g.id,d,h&&h.id,function(d,f,g){if(c.hideLoading(),d)b.error(d,"route.account-withdrawal"),b.view.errorOverlayMessage(i.error(d.message));else{if(f===l.RESPONSE_TYPE.REDIRECT)return void b.view.showCurtain(e,{redirectUrl:g},{});b.view.successOverlayMessage(i("INFO_ACCOUNT_WITHDRAWAL_SUCCESS"),{callback:function(){a.navigate("account/balance",{trigger:!0})}})}}))};d>0&&h&&h.has("displayName")?(o="<p>",p&&(q+="_"+p.toUpperCase()),o+=i(q,{"{{amount}}":j.formatMoney(d,m,!0),"{{cardNumber}}":h.get("displayName")}),o+="</p>"):d>0&&h&&(o="<p>",o+=i("INFO_ACCOUNT_WITHDRAWAL_CONFIRM_PROMPT",{"{{amount}}":j.formatMoney(d,m,!0)}),o+="</p>"),n&&(o+="<p>",o+=i("INFO_ACCOUNT_WITHDRAWAL_BONUS_NOTE_PROMPT",{"{{bonus}}":j.formatMoney(n,m,!0)}),o+="</p>"),o?b.view.showPrompt(o,{label:i("LABEL_CONFIRM_PAYMENT"),callback:r}):r(!0)})})})}(this),function(a){"use strict";var b=a.APP;b.register("route.bonuses",["router","cms","view.cms-page"],function(a,c,d){var e=a.createCacheLoading(function(a,b){return c.fetchModel("bonuses",function(c,d){a.page=d,b(c)})});a.childRoute(["curtain:support","curtain:support-contact","curtain:support-faq"],"bonuses","curtain:bonuses",[e],function(a,c){b.view.showCurtain(d,{model:a.page},c)})})}(this),function(a){"use strict";var b=a.APP;b.register("route.change-language",["router","template","view.change-language"],function(a,c,d){a.route("change-language","desktopmodal:change-language",function(){var a=b.view.showModal(d,{languages:b.get("langs")});a.on("change-language",function(a){var c=b.get("lang");a!==c&&b.set("lang",a)})})})}(this),function(a){"use strict";var b=a.APP;b.register("route.deposit-result",["router","user","games","view.deposit-result","collection.transactions"],function(a,c,d,e,f){var g=b._,h=1e3,i=1e4,j=function(a){var b=new f(null,{type:"deposit"});return b.fetch({data:{max:1},success:function(){a(null,b)},error:function(b,c){a(c)}})},k=g.throttle(function(a,d,e,f){c.fetchMetrics(function(g){var h=c.get("balance"),l=(new Date).getTime();return g||e!==h?g?d(g):void j(function(b,c){if(b)return d(b);var e=c.toJSON();e.length&&(a.params.amount=e[0]["in"]||e[0].out),d()}):l-f>i?(b.error("NEW_BALANCE_TIMEOUT","route.deposit-result"),a.params.result="pending",void d()):void k(a,d,e,f)},{force:!0})},h),l=function(b,d){if("success"===(b.params.result||"").toLowerCase()){var e=a.hasHistory()?c.get("balance"):-1,f=(new Date).getTime();k(b,d,e,f)}else d()},m=function(a,b){if("success"===(a.params.result||"").toLowerCase()){var c=8;a.games=g.first(d.byCategory("popular").toJSON(),c)}b()};a.childRoute(["curtain:support","curtain:support-contact","curtain:support-faq","curtain:bonuses","curtain:news","curtain:account-deposit"],"payment/deposit/:method/result/:result","curtain:deposit-result",[a.redirectToLoginIfNotLoggedIn,a.loadingCurtain,l,m],function(a,d){var f=b.view.showCurtain(e,{method:a.params.method,result:a.params.result,amount:a.params.amount,user:c,games:a.games},d);f.on("start-playing",function(){b.view.isCurtainVisible()&&b.view.hideCurtain()})})})}(this),function(a){"use strict";var b=a.APP;b.register("route.game-category",["router","games","view.game-category"],function(a,c,d){var e=function(a,b){a.games=c.byCategory(a.params.category),b()};a.childRoute(["main:home"],"game/category/:category","main:game-category",[e],function(a,c){b.view.showMain(d,{category:a.params.category,collection:a.games},c)})})}(this),function(a){"use strict";var b=a.APP;b.register("route.game",["router","i18n","user","games","promotions","bootstrap","model.user-contact","view.game-play","view.game-loading","view.game-no-bonus","view.game-maintenance","view.game-limit-reached","view.game-login","view.game-nickname","view.game-profile-contact","view.ad-for-free-play","collection.deposit-methods","view.account-deposit-iframe","payment","tracker"],function(c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){var w,x,y=b._,z=function(){},A=b.async,B=b.win,C=B.requestAnimFrame,D=(a.setTimeout,a.setInterval),E=a.clearInterval,F=null,G=6e5,H="resize",I=function(){C(function(){w&&w.resize()})},J=!0,K=function(a,c){b.use("3pc-support",function(a){J=!!a}),c()},L=function(){x=x||"",c.navigate(x,{trigger:!0,replace:!0,navigated:!1})},M=function(a,d){var e,g=f.getGameById(a.params.id),h=c.getNSFragment("main");h&&0!==h.indexOf("game/"+a.params.id)&&(x=h),g?(a.game=g,a.theme={single:a.game&&a.game.get("desktopTheme")||!1}):e=new Error(b.ERROR.GAME_NOT_FOUND),d(e)},N=function(a,b){var c=e.isLoggedIn();a.game.fetchPlayData(c,b)},O=function(a,c){var d=a.game,e=(new Date).getTime();d.set("played",e),b.trigger("launch-game",b,d),c()},P=function(a,c){if(e.hasLowBalanceForGame(a.game)){var d=8,g=f.byCategory("popular");g.reset(y.first(y.shuffle(g.where({noBonus:!1})),d)),w=b.view.showMain(l,{theme:a.theme,game:a.game,collection:g}),w.on("close",L),c(!0)}else c()},Q=function(a,c){1!==a.game.get("state")?(w=b.view.showMain(m,{theme:a.theme,game:a.game}),w.on("close",L),c(!0)):c()},R=function(a,d){var f=e.getLowLimits();e.isLoggedIn()&&f.length&&!a.bypassLimit?(w=b.view.showMain(n,{theme:a.theme,game:a.game,lowLimits:f,model:e}),w.on("close",L),w.on("play",function(){a.bypassLimit=!0,c.triggerRoute("main:game",a)}),d(!0)):d()},S=function(a,c){w=b.view.showMain(k,{theme:a.theme,game:a.game}),c()},T=function(a,b){a.promotions=g.toCollection("filter",function(a){return a.isOfType("signup")}),b()},U=function(){return g.toCollection("filter",function(a){return a.isOfType("deposit")})},V=function(a,c,d){"main"===d.routeNS&&"main:game"!==c&&(b.view.$el.removeClass("hide-main"),a.off("route",V,this),b.$win.off(H,I))},W=function(a,d){b.view.$el.addClass("hide-main"),b.$win.off(H,I),b.$win.on(H,I),c.on("route",V,this),d()},X=function(a,c){var f,g=a.game.get("attrs")||{};!e.isLoggedIn()&&g.noFun&&(w=b.view.showMain(o,{theme:a.theme,game:a.game,model:e,message:d("INFO_GAME_LOGGEDIN_ONLY")}),w.on("close",L),f=!0),c(f)},Y=function(a,f){var g,h=a.game.get("attrs")||{};e.isLoggedIn()&&h.nickname&&!e.has("nickName")&&(w=b.view.showMain(p,{theme:a.theme,game:a.game,message:d("INFO_NICKNAME")}),w.on("close",L),w.on("success",function(){c.refresh()}),g=!0),f(g)},Z=function(a,d){var e=new i;e.fetch({success:function(){var d=b.view.showMain(q,{showAddressRequired:!0,theme:a.theme,game:a.game,model:e,phonePrefixes:h.data("phonePrefixes")});d.on("close",L),d.on("success",function(){c.refresh()})},error:function(b,e){c.error(e,a,d)}})},$=function(a){var c,d;return{start:function(){e.isLoggedIn()||(c=a.promotions&&a.promotions.toJSON()||!1,d=D(function(){b.view.showModal(r,{promotions:c})},G),c=c?c.slice(0,1):!1)},stop:function(){d&&E(d)}}},_=function(a){var c=new s;return c.fetch({error:function(c,d){b.log("fetchPaymentMethods::error",arguments),a(d)},success:function(){b.log("fetchPaymentMethods::success",arguments),a(null,c)}})};b.on("game:shutdown",function(){z&&z.stop()}),b.on("game:startup",function(){z&&(z.stop(),z.start())}),c.childRoute(["main:home","main:game-category"],"game/:id","main:game",[W,M,K],function(a,f){A.series([A.apply(X,a),A.apply(Y,a),A.apply(P,a),A.apply(Q,a),A.apply(R,a),A.apply(S,a),A.apply(N,a),A.apply(T,a),A.apply(O,a)],function(g){g?g.message===b.ERROR.ADDRESS_REQUIRED?Z(a,f):g!==!0&&c.error(g,a,f):(w=b.view.showMain(j,{theme:a.theme,game:a.game,promotions:a.promotions},f),e.isLoggedIn()&&_(function(a,b){a||(w.setPaymentMethods(b.toCollection("filter",function(a){return a.get("supportsQuickGameDeposit")&&a.get("contracts").length>0})),w.showQuickDepositControl())}),w.hideLicense(),z=$(a),w.on("close",L),w.on("deposit",function(a,f,g,h,i){function j(a){a.origin===B.location.origin&&0===a.data.indexOf("leo-adyen-standalone-done")&&(c.navigate(a.data.substr(a.data.indexOf(":")+1),{trigger:!0}),B.removeEventListener("message",j),E(k))}var k,l,m=g.get("name"),n=h&&h.id;v.event("deposit:quickgame:"+(i?"quickamount":"amount"),e.get("currency"),m,f),J||(F=B.open("about:blank",l,"directories=no,location=no,menubar=no,resizable=no,scrollbars=yes,status=no,toolbar=no,width=700,height=850"),B.addEventListener("message",j,!1),k=D(function(){F.closed?(E(k),a.hideLoading()):F.postMessage("leo-adyen-standalone",B.location.origin)},500)),u.depositWithReference(m,g.id,f,n,function(e,g,h){a.hideLoading(),e?(F&&(F.close(),F=null),a.errorOverlayMessage(d.error(b.ERROR.GENERIC))):g===u.RESPONSE_TYPE.NAVIGATE?-1!==h.indexOf("success")?(a.showResult(m,"success",f),F&&F.close()):c.navigate(h,{trigger:!0}):g===u.RESPONSE_TYPE.IFRAME?a.handleDepositResponse(h):g===u.RESPONSE_TYPE.REDIRECT?J?b.view.showCurtain(t,{redirectUrl:h,promotions:U()}):y.defer(function(){F?F.location=h:B.location=h}):a.errorOverlayMessage(d.error(b.ERROR.GENERIC))})}))})})})}(this),function(a){"use strict";var b=a.APP;b.register("route.home",["router","promotions","games","user","bootstrap","view.home"],function(a,c,d,e,f,g){var h={},i=function(){var a=e.isLoggedIn();return c.toCollection("filter",function(b){return b.isOfAuthType(a)&&b.isOfType("home")})};a.route("","main:home",function(a,c){c.parent=!0;var j=b.view.showMain(g,{collection:d,pickerOffsets:h,promotions:i()},c);j.on("try-online",function(){b.view.loading(),f(function(){b.view.hideLoading()})}),j.on("destroy",function(){h=j.getPickerOffsets()}),e.on("login logout",function(){j.trigger("promotions",i())})}),a.alias("home","main:home"),a.alias("mobile","main:home"),a.alias("mobile/*","main:home")})}(this),function(a){"use strict";var b=a.APP;b.register("route.login",["router","i18n","user","view.login"],function(a,c,d,e){a.route("login/*","modal:login",[a.redirectToHomeIfLoggedIn],function(a,c){b.view.showCurtain(e,{"goto":a.fragment.substr(5),model:d},c)})})}(this),function(a){"use strict";var b=a.APP;b.register("route.logout",["router","user"],function(a,c){a.route("logout","logout",function(d,e){b.log("ROUTE","logout",d,e),c.logout(function(){a.navigate("",{trigger:!0,replace:!0})})})})}(this),function(a){"use strict";var b=a.APP;b.register("route.lost-password",["router","user","view.lost-password"],function(a,c,d){a.childRoute(["curtain:support","curtain:support-contact","curtain:support-faq","curtain:bonuses","curtain:news","curtain:signup","curtain:signup-step2"],"lost-password","curtain:lost-password",[a.redirectToHomeIfLoggedIn,a.requireOnline],function(e,f){var g=b.view.showCurtain(d,{model:c},f);g.on("success",function(){a.navigate("",{trigger:!0})})})})}(this),function(a){"use strict";var b=a.APP,c=b._;b.register("route.news",["router","collection.news","view.news","i18n"],function(a,d,e,f){var g=a.createCacheLoading(function(a,b){var c=new d;return c.fetch({error:function(a,c){b(c)},success:function(){a.news=c,b()}})}),h=function(d,e){var g=d.news.get(d.params.id);return g?(d.newsItem=g,void e()):(b.error(b.ERROR.NOT_FOUND,"route.news"),void b.view.errorOverlayMessage(f.error(b.ERROR.NOT_FOUND),{callback:c.bind(function(){a.navigate("/news",{trigger:!0,replace:!0})})}))};a.childRoute(["curtain:support","curtain:support-contact","curtain:support-faq","curtain:bonuses"],"news","curtain:news",[a.noTransition("news"),g],function(a,c){b.view.showCurtain(e,{collection:a.news,model:a.news.first()},c)}),a.childRoute(["curtain:support","curtain:support-contact","curtain:support-faq","curtain:bonuses","curtain:news"],"news/:year?/:month?/:id","curtain:news-item",[a.noTransition("news"),g,h],function(a,c){b.view.showCurtain(e,{collection:a.news,model:a.newsItem},c)})})}(this),function(a){"use strict";var b=a.APP;b.register("route.nickname",["router","i18n","user","view.nickname"],function(a,c,d,e){a.route("nickname","modal:nickname",[a.redirectToLoginIfNotLoggedIn],function(a,c){b.view.showCurtain(e,null,c)})})}(this),function(a){"use strict";var b=a.APP;b.register("route.profile-contact",["router","bootstrap","model.user-contact","view.profile-contact"],function(a,c,d,e){var f=a.createCacheLoading(function(a,b){var c=new d;return c.fetch({error:function(a,c){b(c)},success:function(){a.userContact=c,b()}})});a.childRoute(["curtain:support","curtain:support-contact","curtain:support-faq","curtain:bonuses","curtain:news","curtain:account-deposit","curtain:account-balance","curtain:account-withdrawal","curtain:account-history"],"profile/contact","curtain:profile-contact",[a.redirectToLoginIfNotLoggedIn,a.noTransition("profile"),f],function(a,d){var f=b.view.showCurtain(e,{model:a.userContact,phonePrefixes:c.data("phonePrefixes")},d);a.userContact.on("sync",function(){f.hideLoading()})})})}(this),function(a){"use strict";var b=a.APP;b.register("route.profile-contracts",["router","collection.payment-contracts","view.profile-cards","i18n"],function(a,c,d,e){var f=a.createCacheLoading(function(a,d){var e=new c;return e.fetch({error:function(a,c){b.log("userPaymentContracts::error",arguments),d(c)},success:function(){b.log("userPaymentContracts::success",arguments),a.userPaymentContracts=e,d()}})});a.childRoute(["curtain:support","curtain:support-contact","curtain:support-faq","curtain:bonuses","curtain:news","curtain:account-deposit","curtain:account-balance","curtain:account-withdrawal","curtain:account-history"],"profile/contracts","curtain:profile-contracts",[a.redirectToLoginIfNotLoggedIn,a.noTransition("profile"),f],function(a,c){var f=b.view.showCurtain(d,{collection:a.userPaymentContracts},c);f.on("remove",function(a,c){var d=e("INFO_PROFILE_CONTRACTS_CONFIRM_PROMPT",{"{{cardNumber}}":c.get("displayName")});b.view.showPrompt(d,{label:e("LABEL_REMOVE_CONTRACT"),callback:function(b){b&&(a.loading(),c.destroy())}})})})})}(this),function(a){"use strict";var b=a.APP;b.register("route.profile-limit-form",["router","model.limit","view.profile-limit-form","i18n","user","string-helpers"],function(a,c,d,e){var f=b._,g=a.createCacheLoading(function(a,d){var e=new c({id:a.params.id.toLowerCase()});return e.fetch({error:function(a,c){b.log("limit::error",arguments),d(c)},success:function(){b.log("limit::success",arguments),a.limit=e,d()}})});a.childRoute(["curtain:support","curtain:support-contact","curtain:support-faq","curtain:bonuses","curtain:news","curtain:account-deposit","curtain:account-balance","curtain:account-withdrawal","curtain:account-history-account","curtain:account-history-game","curtain:account-profile"],"profile/limit/:id","curtain:profile-limit-form",[a.redirectToLoginIfNotLoggedIn,a.noTransition("profile"),g],function(a,c){var g=b.view.showCurtain(d,{model:a.limit},c),h=function(){g.hideLoading(),b.view.successOverlayMessage(e("SUCCESS_PROFILE_LIMIT_SET_LIMIT"),{callback:f.bind(function(){g.render()},g)})},i=function(a){b.error(a,"route.profile-limit"),g.hideLoading(),b.view.errorOverlayMessage(e.error(a.message)),g.model.off("sync",h)};g.on("setlimit",function(a,c){var d=e("INFO_PROFILE_LIMIT_SET_PROMPT",{"{{newLimit}}":a.model.format(c.future||c.current)});a.hideLoading(),b.view.showPrompt(d,{label:e("LABEL_SAVE"),callback:function(b){b&&(a.loading(),a.model.set(c),a.model.save(null,{error:function(a,b){i(b)},success:h}))}})},g),g.on("removelimit",function(a){a.model.once("sync",h),a.hideLoading(),a.model.save(null,{error:function(a,b){i(b)}})},g)})})}(this),function(a){"use strict";var b=a.APP;b.register("route.profile-password",["router","view.profile-password"],function(a,c){b.view.on("curtain:profile-password:success",function(){b.win.alert("success modal or what?")}),a.childRoute(["curtain:support","curtain:support-contact","curtain:support-faq","curtain:bonuses","curtain:news","curtain:account-deposit","curtain:account-balance","curtain:account-withdrawal","curtain:account-history"],"profile/password","curtain:profile-password",[a.redirectToLoginIfNotLoggedIn,a.noTransition("profile")],function(a,d){b.view.showCurtain(c,null,d)})})}(this),function(a){"use strict";var b=a.APP;b.register("route.profile-pause-account",["router","model.user-exclude","view.profile-pause-account","template","user","i18n","string-helpers"],function(a,c,d,e,f,g,h){a.childRoute(["curtain:support","curtain:support-contact","curtain:support-faq","curtain:bonuses","curtain:news","curtain:account-deposit","curtain:account-balance","curtain:account-withdrawal","curtain:account-history-account","curtain:account-history-game"],"profile/settings/pause/account","curtain:profile-pause-account",[a.redirectToLoginIfNotLoggedIn,a.noTransition("profile")],function(i,j){var k=new c({id:"account"}),l=b.view.showCurtain(d,{model:k},j),m=function(){f.logout(function(){var c={reason:k.get("reasonLabel"),finiteDuration:k.isFiniteDuration(),toDate:h.formatDate(k.get("durationDate"),b.get("country"))},d=e("confirmed-pause")(c);b.view.successOverlayMessage(d),a.navigate("",{trigger:!0,replace:!0})})},n=function(a,c){l.hideLoading(),b.view.errorOverlayMessage(c.message===b.ERROR.INVALID_REQUEST_PARAMS?g("INFO_BAD_PASSWORD_VERIFICATION"):g.error(c.message))};l.on("pause",function(){l.loading(),f.fetchMetrics(function(a,c){if(a)l.hideLoading();else{var d=c.balance,e=g("INFO_CONFIRM_PAUSE_ACCOUNT",{"{{duration}}":g(k.get("durationLabel"))});d>f.getLimitMinAmount("pauseWarning")&&(e+="<br/><br/>",e+=g("INFO_CONFIRM_PAUSE_ACCOUNT_BALANCE_WARNING",{"{{balance}}":h.formatMoney(Math.abs(d),f.get("currency"),!0)})),b.view.showPrompt(e,{label:g("LABEL_CONFIRM_PAUSE_ACCOUNT"),callback:function(a){var c="pauseaccount";a?(k.save(null,{success:m,error:n}),b.track(c,"yes",k.get("reason")+"_DURATION_"+k.get("duration"))):(l.resetState(),l.render(),b.track(c,"no"))}})}})})})})}(this),function(a){"use strict";var b=a.APP;b.register("route.profile-reality-check",["router","user","model.user-reality-check","view.profile-reality-check"],function(a,c,d,e){var f=a.createCacheLoading(function(a,b){var c=new d;return c.fetch({error:function(a,c){b(c)},success:function(){a.userRealityCheck=c,b()}})});a.childRoute(["curtain:support","curtain:support-contact","curtain:support-faq","curtain:bonuses","curtain:news","curtain:account-deposit","curtain:account-balance","curtain:account-withdrawal","curtain:account-history"],"profile/reality-check","curtain:profile-reality-check",[a.redirectToLoginIfNotLoggedIn,a.noTransition("profile"),f],function(a,d){b.view.showCurtain(e,{model:a.userRealityCheck,user:c},d)})})}(this),function(a){"use strict";var b=a.APP;b.register("route.profile-settings",["router","user","model.user-settings","view.profile-settings"],function(a,c,d,e){var f=a.createCacheLoading(function(a,b){var c=new d;return c.fetch({error:function(a,c){b(c)},success:function(){a.userSettings=c,b()}})});a.childRoute(["curtain:support","curtain:support-contact","curtain:support-faq","curtain:bonuses","curtain:news","curtain:account-deposit","curtain:account-balance","curtain:account-withdrawal","curtain:account-history"],"profile/settings","curtain:profile-settings",[a.redirectToLoginIfNotLoggedIn,a.noTransition("profile"),f],function(a,d){b.view.showCurtain(e,{user:c,model:a.userSettings},d)})})}(this),function(a){"use strict";var b=a.APP;b.register("route.reset-password",["router","user","view.reset-password","model","api","i18n","view.login-blocked"],function(a,c,d,e,f,g,h){a.route("reset-password/:token/:email","main:reset-password",[a.redirectToHomeIfLoggedIn],function(a,f){var i,j,k=a.params.token,l=a.params.email;j||(j=new e({email:l,token:k})),i=b.view.showMain(d,{model:j},f),i.on("reset",function(a,d,e){if(i.hideLoading(),a)if(b.error(a,"route.reset-password"),a.message===b.ERROR.ACCOUNT_BLOCKED){var f=b.view.overlayMessage(h);f.on("close",function(){b.view.hideOverlayMessage()}),f.on("primary",function(){b.view.hideOverlayMessage()})}else b.view.errorOverlayMessage(g.error(a.message));else a=c.loginWithResponse(null,d,e)})})})}(this),function(a){"use strict";var b=a.APP;b.register("route.responsible-gaming",["router","cms","view.cms-page"],function(a,c,d){var e=function(a,b){c.fetchModel("responsible-gaming",function(c,d){a.page=d,b(c)})};a.childRoute(["curtain:support"],"support/responsible-gaming","curtain:support-responsible-gaming",[a.noTransition("support"),e],function(a,c){b.view.showCurtain(d,{model:a.page},c)})})}(this),function(a){"use strict";var b=a.APP;b.register("route.signup",["router","bootstrap","user","promotions","model.signup","view.desktop-signup","i18n"],function(a,c,d,e,f,g,h){var i,j=b._,k={address:["addressStreet","addressCity","addressZip"],birthDate:["birthDate"],code:["code"],gender:["gender"],name:["firstName","lastName"],phone:["mobileNumberPrefix","mobileNumber"]},l=b.get("country"),m=function(){var a=b.get("signup-fields")||{};return a[l]||a["*"]||{}}(),n={step1:j.reduce(m.step1,function(a,b){return j.has(k,b)&&(a=a.concat(k[b])),a},[]),step2:j.reduce(m.step2,function(a,b){return j.has(k,b)&&(a=a.concat(k[b])),a},[])},o="curtain:signup",p="curtain:signup-verify",q=a.createCacheLoading(function(a,b){return!i&&(i=new f(null,{stepKeys:n}),a.params.id)?(i.set({id:a.params.id}),i.fetch({success:function(){i.has("email")&&i.set("confirmEmail",i.get("email")),b()},error:function(a,c){b(c)}})):(j.defer(b),!0)},"main"),r=function(a,c){a.promotions=e.toCollection("filter",function(a){return a.isOfType("signup")}),b.log("Get signup promotions",a.promotions),c()},s=function(b,c){b.route===p&&i.validateStep(1)!==!1?(a.navigate("signup/"+i.id,{replace:!0,trigger:!0}),c.stop()):c()},t=["main:signup","main:signup-verify","curtain:terms","sidebar"],u=function(e,f){var j=e.route===o?1:2,k=b.view.showCurtain(g,{model:i,step:j,fields:m["step"+j],country:l,countries:c.data("countries")||[],phonePrefixes:c.data("phonePrefixes")||[],promotions:e.promotions.toJSON()},f);k.once("next",function(){a.navigate("signup/"+i.id+"/verify",{trigger:!0})}),k.on("terms",function(){a.triggerRoute("curtain:terms")}),k.on("register",function(a,c,e){e=e||{},e.newlyRegistered=!0;var f=d.loginWithResponse(null,c,e);return f?(b.error(b.ERROR.LOGIN_FAILED,"route.signup#onLoginWithResponse"),void k.errorOverlayMessage(h.error(b.ERROR.GENERIC))):(i&&i.off(),void(i=null))})};a.on("route",function(a,b){-1!==j.indexOf(b,t)&&(i=null)}),a.childRoute(["curtain:support","curtain:support-contact","curtain:support-faq","curtain:bonuses","curtain:news"],"signup/:id?",o,[a.redirectToHomeIfLoggedIn,a.requireOnline,q,r],u),a.childRoute(["curtain:support","curtain:support-contact","curtain:support-faq","curtain:bonuses","curtain:news",o],"signup/:id/verify",p,[a.redirectToHomeIfLoggedIn,a.requireOnline,q,r,s],u)})}(this),function(a){"use strict";var b=a.APP;b.register("route.support-about",["router","cms","faq-middleware","view.support-about"],function(a,c,d,e){var f=function(a,b){c.fetchModel("about",function(c,d){a.page=d,b(c)})};a.childRoute(["curtain:support"],"support/about","curtain:support-about",[a.noTransition("support"),d.fetchTags,f],function(a,c){b.view.showCurtain(e,{tags:a.tags,model:a.page},c)})})}(this),function(a){"use strict";var b=a.APP;b.register("route.support-android",["router","cms","view.support-android","faq-middleware"],function(a,c,d,e){var f=a.createCacheLoading(function(a,b){return c.fetchModel("android",function(c,d){a.page=d,b(c)})});a.route("support/android","curtain:support-android",[a.noTransition("support"),e.fetchTags,f],function(a,c){b.view.showCurtain(d,{tags:a.tags,model:a.page},c)})})}(this),function(a){"use strict";var b=a.APP;b.register("route.support-contact",["router","user","faq-middleware","model.support","view.support-contact","i18n","cms"],function(a,c,d,e,f,g,h){var i=function(a,b){h.fetchModel("service-status",function(c,d){a.page=d,b()})};a.childRoute(["curtain:support"],"support/contact/:category?","curtain:support-contact",[a.noTransition("support"),a.requireOnline,d.fetchTags,i],function(a,d){{var g=new e({email:c.get("email"),tag:a.params.category});b.view.showCurtain(f,{tags:a.tags,user:c,model:g,serviceStatus:a.page},d)}})})}(this),function(a){"use strict";var b=a.APP;b.register("route.support-faq",["router","collection.faq","view.faq","view.faq-items"],function(a,c,d,e){var f=b._,g=a.createCacheLoading(function(a,b){var d=new c;return d.fetch({success:function(){a.faq=d,b()},error:function(a,c){b(c)}})}),h=function(a,b){var c=a.params.tag,d=a.faq.toCollection("filter",function(a){var b=a.get("tags")||[];return-1!==f.indexOf(b,c)});a.items=d,b()};a.childRoute(["curtain:support"],"support/faq","curtain:support/faq",[a.noTransition("support"),g],function(a,c){b.view.showCurtain(d,{collection:a.faq},c)}),a.childRoute(["curtain:support/faq"],"support/faq/:tag","curtain:support-faq-tag",[a.noTransition("support"),g,h],function(a,c){var d=a.params.tag;b.view.showCurtain(e,{collection:a.items,tags:a.faq,tag:d},c)})})}(this),function(a){"use strict";var b=a.APP;b.register("route.support-rules",["router","faq-middleware","games","view.support-rules"],function(a,c,d,e){b._;a.childRoute(["curtain:support"],"support/rules","curtain:support/rules",[a.noTransition("support"),c.fetchTags],function(a,c){b.view.showCurtain(e,{tags:a.tags,collection:d},c)})})}(this),function(a){"use strict";var b=a.APP;b.register("route.support-touch",["router","cms","view.support-touch","faq-middleware"],function(a,c,d,e){var f=a.createCacheLoading(function(a,b){return c.fetchModel("touch",function(c,d){a.page=d,b(c)})});a.route("support/touch","curtain:support-touch",[a.noTransition("support"),e.fetchTags,f],function(a,c){b.view.showCurtain(d,{tags:a.tags,model:a.page},c)})})}(this),function(a){"use strict";{var b=a.APP;b._,b.$}b.register("route.support",["router"],function(a){a.route("support","curtain:support",function(){a.navigate("support/contact",{trigger:!0,replace:!0})})})}(this),function(a){"use strict";var b=a.APP;b.register("route.terms",["router","cms","view.terms"],function(a,c,d){var e=function(a,b){c.fetchModel("terms",function(c,d){a.page=d,b(c)})};a.route("terms","desktopmodal:terms",[e],function(c){a.navigateToMainNS(c.prevRouteNS,{replace:!0}),b.view.showModal(d,{model:c.page})})})}(this),function(a){"use strict";var b=a.APP;b.register("route.vip",["router","cms","view.cms-page"],function(a,c,d){var e=function(a,b){c.fetchModel("vip",function(c,d){a.page=d,b(c)})};a.childRoute(["main:home"],"vip","main:vip",[e],function(a,c){b.view.showMain(d,{model:a.page},c)})})}(this);